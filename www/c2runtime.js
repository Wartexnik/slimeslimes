// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,D,da,ea,fa,ga,ha,ka,la,ma,na,oa,pa,ra,ta,ua,va,wa,xa,ya,S,za,Aa,Ba,Ca,Da,W,Ea,Ga,Ha,Ia,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec={},fc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});
(function(){function e(a,f,c,u){this.set(a,f,c,u)}function n(){this.sb=this.rb=this.ub=this.tb=this.Db=this.Cb=this.nb=this.mb=0}function m(a,f,c,u){a<f?c<u?(q=a<c?a:c,p=f>u?f:u):(q=a<u?a:u,p=f>c?f:c):c<u?(q=f<c?f:c,p=a>u?a:u):(q=f<u?f:u,p=a>c?a:c)}function g(){this.items=this.yd=null;this.Fh=0;x&&(this.yd=new Set);this.Kg=[];this.oe=!0}function t(a){C[K++]=a}function r(){this.T=this.uk=this.y=this.Wg=0}function b(a){this.zg=[];this.so=this.uo=this.vo=this.to=0;this.ji(a)}function a(a,f){this.fl=
a;this.el=f;this.cells={}}function v(a,f){this.fl=a;this.el=f;this.cells={}}function d(a,f,c){var u;return I.length?(u=I.pop(),u.Ll=a,u.x=f,u.y=c,u):new aa(a,f,c)}function f(a,f,c){this.Ll=a;this.x=f;this.y=c;this.cb=new ba}function c(a,f,c){var u;return H.length?(u=H.pop(),u.Ll=a,u.x=f,u.y=c,u):new ca(a,f,c)}function k(a,f,c){this.Ll=a;this.x=f;this.y=c;this.cb=[];this.dg=!0;this.ud=new ba;this.Tg=!1}function h(a,f){return a.cd-f.cd}D=function(a){window.console&&window.console.log&&window.console.log(a)};
da=function(a){window.console&&window.console.error&&window.console.error(a)};ea=function(a){return"undefined"===typeof a};fa=function(a){return"number"===typeof a};ga=function(a){return"string"===typeof a};ha=function(a){return 0<a&&0===(a-1&a)};ka=function(a){--a;for(var f=1;32>f;f<<=1)a=a|a>>f;return a+1};la=function(a){return 0>a?-a:a};ma=function(a,f){return a>f?a:f};na=function(a,f){return a<f?a:f};oa=Math.PI;pa=function(a){return 0<=a?a|0:(a|0)-1};ra=function(a){var f=a|0;return f===a?f:f+
1};ta=function(a,f,c,u,d,h,k,l){var b,p,v,q;a<c?(p=a,b=c):(p=c,b=a);d<k?(q=d,v=k):(q=k,v=d);if(b<q||p>v)return!1;f<u?(p=f,b=u):(p=u,b=f);h<l?(q=h,v=l):(q=l,v=h);if(b<q||p>v)return!1;b=d-a+k-c;p=h-f+l-u;a=c-a;f=u-f;d=k-d;h=l-h;l=la(f*d-h*a);return la(d*p-h*b)>l?!1:la(a*p-f*b)<=l};e.prototype.set=function(a,f,c,u){this.left=a;this.top=f;this.right=c;this.bottom=u};e.prototype.$g=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};e.prototype.width=function(){return this.right-
this.left};e.prototype.height=function(){return this.bottom-this.top};e.prototype.offset=function(a,f){this.left+=a;this.top+=f;this.right+=a;this.bottom+=f;return this};e.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};e.prototype.lc=function(a,f){return a>=this.left&&a<=this.right&&f>=this.top&&f<=this.bottom};e.prototype.eh=function(a){return this.left===a.left&&this.top===
a.top&&this.right===a.right&&this.bottom===a.bottom};ua=e;n.prototype.pk=function(a){this.mb=a.left;this.nb=a.top;this.Cb=a.right;this.Db=a.top;this.tb=a.right;this.ub=a.bottom;this.rb=a.left;this.sb=a.bottom};n.prototype.br=function(a,f){if(0===f)this.pk(a);else{var c=Math.sin(f),u=Math.cos(f),d=a.left*c,h=a.top*c,k=a.right*c,c=a.bottom*c,l=a.left*u,b=a.top*u,p=a.right*u,u=a.bottom*u;this.mb=l-h;this.nb=b+d;this.Cb=p-h;this.Db=b+k;this.tb=p-c;this.ub=u+k;this.rb=l-c;this.sb=u+d}};n.prototype.offset=
function(a,f){this.mb+=a;this.nb+=f;this.Cb+=a;this.Db+=f;this.tb+=a;this.ub+=f;this.rb+=a;this.sb+=f;return this};var q=0,p=0;n.prototype.xo=function(a){m(this.mb,this.Cb,this.tb,this.rb);a.left=q;a.right=p;m(this.nb,this.Db,this.ub,this.sb);a.top=q;a.bottom=p};n.prototype.lc=function(a,f){var c=this.mb,u=this.nb,d=this.Cb-c,h=this.Db-u,k=this.tb-c,l=this.ub-u,b=a-c,p=f-u,v=d*d+h*h,q=d*k+h*l,h=d*b+h*p,w=k*k+l*l,e=k*b+l*p,A=1/(v*w-q*q),d=(w*h-q*e)*A,v=(v*e-q*h)*A;if(0<=d&&0<v&&1>d+v)return!0;d=this.rb-
c;h=this.sb-u;v=d*d+h*h;q=d*k+h*l;h=d*b+h*p;A=1/(v*w-q*q);d=(w*h-q*e)*A;v=(v*e-q*h)*A;return 0<=d&&0<v&&1>d+v};va=n;wa=function(a,f){for(var c in f)f.hasOwnProperty(c)&&(a[c]=f[c]);return a};xa=function(a,f){var c,u;f=pa(f);if(!(0>f||f>=a.length)){c=f;for(u=a.length-1;c<u;c++)a[c]=a[c+1];ya(a,u)}};ya=function(a,f){a.length=f};S=function(a){ya(a,0)};za=function(a,f){S(a);var c,u;c=0;for(u=f.length;c<u;++c)a[c]=f[c]};Aa=function(a,f){a.push.apply(a,f)};Ba=function(a,f){var c,u;c=0;for(u=a.length;c<
u;++c)if(a[c]===f)return c;return-1};Ca=function(a,f){var c=Ba(a,f);-1!==c&&xa(a,c)};Da=function(a,f,c){return a<f?f:a>c?c:a};W=function(a){return a/(180/oa)};Ea=function(a){return 180/oa*a};Ga=function(a){a%=360;0>a&&(a+=360);return a};Ha=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ia=function(a){return Ga(Ea(a))};La=function(a){return Ha(W(a))};Ma=function(a,f,c,u){return Math.atan2(u-f,c-a)};Na=function(a,f){if(a===f)return 0;var c=Math.sin(a),u=Math.cos(a),d=Math.sin(f),h=Math.cos(f),c=c*d+u*
h;return 1<=c?0:-1>=c?oa:Math.acos(c)};Oa=function(a,f,c){var u=Math.sin(a),d=Math.cos(a),h=Math.sin(f),k=Math.cos(f);return Math.acos(u*h+d*k)>c?0<d*h-u*k?Ha(a+c):Ha(a-c):Ha(f)};Pa=function(a,f){var c=Math.sin(a),u=Math.cos(a),d=Math.sin(f),h=Math.cos(f);return 0>=u*d-c*h};Qa=function(a,f,c,u,d,h){if(0===c)return h?a:f;var k=Math.sin(c);c=Math.cos(c);a-=u;f-=d;var l=a*k;a=a*c-f*k;f=f*c+l;return h?a+u:f+d};Ra=function(a,f,c,u){a=c-a;f=u-f;return Math.sqrt(a*a+f*f)};Sa=function(a,f){return!a!==!f};
Ta=function(a){for(var f in a)if(a.hasOwnProperty(f))return!0;return!1};Za=function(a){for(var f in a)a.hasOwnProperty(f)&&delete a[f]};var A=+new Date;$a=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-A};var l=!1,w=l=!1,V=!1;"undefined"!==typeof window&&
(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),l=!l&&/safari/i.test(navigator.userAgent),w=/(iphone|ipod|ipad)/i.test(navigator.userAgent),V=window.c2ejecta);var x=!l&&!V&&!w&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;g.prototype.contains=function(a){return this.Od()?!1:x?this.yd.has(a):this.items&&this.items.hasOwnProperty(a)};g.prototype.add=function(a){if(x)this.yd.has(a)||(this.yd.add(a),this.oe=!1);else{var f=a.toString(),c=this.items;
c?c.hasOwnProperty(f)||(c[f]=a,this.Fh++,this.oe=!1):(this.items={},this.items[f]=a,this.Fh=1,this.oe=!1)}};g.prototype.remove=function(a){if(!this.Od())if(x)this.yd.has(a)&&(this.yd["delete"](a),this.oe=!1);else if(this.items){a=a.toString();var f=this.items;f.hasOwnProperty(a)&&(delete f[a],this.Fh--,this.oe=!1)}};g.prototype.clear=function(){this.Od()||(x?this.yd.clear():(this.items=null,this.Fh=0),S(this.Kg),this.oe=!0)};g.prototype.Od=function(){return 0===this.count()};g.prototype.count=function(){return x?
this.yd.size:this.Fh};var C=null,K=0;g.prototype.Zw=function(){if(!this.oe){if(x)S(this.Kg),C=this.Kg,K=0,this.yd.forEach(t),C=null,K=0;else{var a=this.Kg;S(a);var f,c=0,u=this.items;if(u)for(f in u)u.hasOwnProperty(f)&&(a[c++]=u[f])}this.oe=!0}};g.prototype.bd=function(){this.Zw();return this.Kg};ba=g;new ba;ab=function(a,f){x?bb(a,f.yd):cb(a,f.bd())};bb=function(a,f){var c,u,d,h;u=c=0;for(d=a.length;c<d;++c)h=a[c],f.has(h)||(a[u++]=h);ya(a,u)};cb=function(a,f){var c,u,d,h;u=c=0;for(d=a.length;c<
d;++c)h=a[c],-1===Ba(f,h)&&(a[u++]=h);ya(a,u)};r.prototype.add=function(a){this.y=a-this.Wg;this.uk=this.T+this.y;this.Wg=this.uk-this.T-this.y;this.T=this.uk};r.prototype.reset=function(){this.T=this.uk=this.y=this.Wg=0};db=r;eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.ji=function(a){this.Hq=a;this.gk=a.length/2;this.zg.length=a.length;this.al=this.bl=-1;this.Ao=0};b.prototype.Hv=function(){return!this.Hq.length};b.prototype.Xa=function(){for(var a=this.zg,f=a[0],
c=f,u=a[1],d=u,h,k,l=1,b=this.gk;l<b;++l)k=2*l,h=a[k],k=a[k+1],h<f&&(f=h),h>c&&(c=h),k<u&&(u=k),k>d&&(d=k);this.to=f;this.uo=c;this.vo=u;this.so=d};b.prototype.pk=function(a,f,c){this.zg.length=8;this.gk=4;var u=this.zg;u[0]=a.left-f;u[1]=a.top-c;u[2]=a.right-f;u[3]=a.top-c;u[4]=a.right-f;u[5]=a.bottom-c;u[6]=a.left-f;u[7]=a.bottom-c;this.bl=a.right-a.left;this.al=a.bottom-a.top;this.Xa()};b.prototype.wt=function(a,f,c){if(this.bl!==a||this.al!==f||this.Ao!==c){this.bl=a;this.al=f;this.Ao=c;var u,
d,h,k,l,b=0,p=1,v=this.Hq,q=this.zg;0!==c&&(b=Math.sin(c),p=Math.cos(c));c=0;for(h=this.gk;c<h;c++)u=2*c,d=u+1,k=v[u]*a,l=v[d]*f,q[u]=k*p-l*b,q[d]=l*p+k*b;this.Xa()}};b.prototype.lc=function(a,f){var c=this.zg;if(a===c[0]&&f===c[1])return!0;var u,d,h,k=this.gk,l=this.to-110,b=this.vo-101,p=this.uo+131,v=this.so+120,q,w,e=0,A=0;for(u=0;u<k;u++)d=2*u,h=(u+1)%k*2,q=c[d],d=c[d+1],w=c[h],h=c[h+1],ta(l,b,a,f,q,d,w,h)&&e++,ta(p,v,a,f,q,d,w,h)&&A++;return 1===e%2||1===A%2};fb=b;a.prototype.we=function(a,
f,c){var u;u=this.cells[a];return u?(u=u[f])?u:c?(u=d(this,a,f),this.cells[a][f]=u):null:c?(u=d(this,a,f),this.cells[a]={},this.cells[a][f]=u):null};a.prototype.Mb=function(a){return pa(a/this.fl)};a.prototype.Nb=function(a){return pa(a/this.el)};a.prototype.update=function(a,f,c){var u,d,h,k,l;if(f)for(u=f.left,d=f.right;u<=d;++u)for(h=f.top,k=f.bottom;h<=k;++h)if(!c||!c.lc(u,h))if(l=this.we(u,h,!1))l.remove(a),l.Od()&&(l.cb.clear(),1E3>I.length&&I.push(l),this.cells[u][h]=null);if(c)for(u=c.left,
d=c.right;u<=d;++u)for(h=c.top,k=c.bottom;h<=k;++h)f&&f.lc(u,h)||this.we(u,h,!0).Sl(a)};a.prototype.Jq=function(a,f){var c,u,d,h,k,l;c=this.Mb(a.left);d=this.Nb(a.top);u=this.Mb(a.right);for(k=this.Nb(a.bottom);c<=u;++c)for(h=d;h<=k;++h)(l=this.we(c,h,!1))&&l.dump(f)};gb=a;v.prototype.we=function(a,f,d){var u;u=this.cells[a];return u?(u=u[f])?u:d?(u=c(this,a,f),this.cells[a][f]=u):null:d?(u=c(this,a,f),this.cells[a]={},this.cells[a][f]=u):null};v.prototype.Mb=function(a){return pa(a/this.fl)};v.prototype.Nb=
function(a){return pa(a/this.el)};v.prototype.update=function(a,f,c){var u,d,h,k,l;if(f)for(u=f.left,d=f.right;u<=d;++u)for(h=f.top,k=f.bottom;h<=k;++h)if(!c||!c.lc(u,h))if(l=this.we(u,h,!1))l.remove(a),l.Od()&&(l.reset(),1E3>H.length&&H.push(l),this.cells[u][h]=null);if(c)for(u=c.left,d=c.right;u<=d;++u)for(h=c.top,k=c.bottom;h<=k;++h)f&&f.lc(u,h)||this.we(u,h,!0).Sl(a)};v.prototype.Jq=function(a,f,c,u,d){var h,k;a=this.Mb(a);f=this.Nb(f);c=this.Mb(c);for(h=this.Nb(u);a<=c;++a)for(u=f;u<=h;++u)(k=
this.we(a,u,!1))&&k.dump(d)};v.prototype.Nv=function(a){var f,c,u,d,h;f=a.left;u=a.top;c=a.right;for(d=a.bottom;f<=c;++f)for(a=u;a<=d;++a)if(h=this.we(f,a,!1))h.dg=!1};hb=v;var I=[];f.prototype.Od=function(){return this.cb.Od()};f.prototype.Sl=function(a){this.cb.add(a)};f.prototype.remove=function(a){this.cb.remove(a)};f.prototype.dump=function(a){Aa(a,this.cb.bd())};aa=f;var H=[];k.prototype.Od=function(){if(!this.cb.length)return!0;if(this.cb.length>this.ud.count())return!1;this.xl();return!0};
k.prototype.Sl=function(a){this.ud.contains(a)?(this.ud.remove(a),this.ud.Od()&&(this.Tg=!1)):this.cb.length?(this.cb[this.cb.length-1].xc()>a.xc()&&(this.dg=!1),this.cb.push(a)):(this.cb.push(a),this.dg=!0)};k.prototype.remove=function(a){this.ud.add(a);this.Tg=!0;30<=this.ud.count()&&this.xl()};k.prototype.xl=function(){this.Tg&&(this.ud.count()===this.cb.length?this.reset():(ab(this.cb,this.ud),this.ud.clear(),this.Tg=!1))};k.prototype.eu=function(){this.dg||(this.cb.sort(h),this.dg=!0)};k.prototype.reset=
function(){S(this.cb);this.dg=!0;this.ud.clear();this.Tg=!1};k.prototype.dump=function(a){this.xl();this.eu();this.cb.length&&a.push(this.cb)};ca=k;var E="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ib=function(a){return 0>=a||11<=a?"source-over":E[a-1]};jb=function(a,f,c){if(c)switch(a.Bb=c.ONE,a.xb=c.ONE_MINUS_SRC_ALPHA,f){case 1:a.Bb=c.ONE;a.xb=c.ONE;break;case 3:a.Bb=c.ONE;a.xb=c.ZERO;break;case 4:a.Bb=c.ONE_MINUS_DST_ALPHA;
a.xb=c.ONE;break;case 5:a.Bb=c.DST_ALPHA;a.xb=c.ZERO;break;case 6:a.Bb=c.ZERO;a.xb=c.SRC_ALPHA;break;case 7:a.Bb=c.ONE_MINUS_DST_ALPHA;a.xb=c.ZERO;break;case 8:a.Bb=c.ZERO;a.xb=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Bb=c.DST_ALPHA;a.xb=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Bb=c.ONE_MINUS_DST_ALPHA,a.xb=c.SRC_ALPHA}};lb=function(a){return Math.round(1E6*a)/1E6};mb=function(a,f){return"string"!==typeof a||"string"!==typeof f||a.length!==f.length?!1:a===f?!0:a.toLowerCase()===f.toLowerCase()};nb=function(a){a=
a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||mb(a.tagName,"canvas")?!0:!1}})();var gc="undefined"!==typeof Float32Array?Float32Array:Array;function hc(e){var n=new gc(3);e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]);return n}function ic(e){var n=new gc(16);e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n}
function jc(e,n){n[0]=e[0];n[1]=e[1];n[2]=e[2];n[3]=e[3];n[4]=e[4];n[5]=e[5];n[6]=e[6];n[7]=e[7];n[8]=e[8];n[9]=e[9];n[10]=e[10];n[11]=e[11];n[12]=e[12];n[13]=e[13];n[14]=e[14];n[15]=e[15]}function kc(e,n){var m=n[0],g=n[1];n=n[2];e[0]*=m;e[1]*=m;e[2]*=m;e[3]*=m;e[4]*=g;e[5]*=g;e[6]*=g;e[7]*=g;e[8]*=n;e[9]*=n;e[10]*=n;e[11]*=n}
function lc(e,n,m,g){g||(g=ic());var t,r,b,a,v,d,f,c,k=e[0],h=e[1];e=e[2];r=m[0];b=m[1];t=m[2];m=n[1];d=n[2];k===n[0]&&h===m&&e===d?(e=g,e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1):(m=k-n[0],d=h-n[1],f=e-n[2],c=1/Math.sqrt(m*m+d*d+f*f),m*=c,d*=c,f*=c,n=b*f-t*d,t=t*m-r*f,r=r*d-b*m,(c=Math.sqrt(n*n+t*t+r*r))?(c=1/c,n*=c,t*=c,r*=c):r=t=n=0,b=d*r-f*t,a=f*n-m*r,v=m*t-d*n,(c=Math.sqrt(b*b+a*a+v*v))?(c=1/c,b*=c,a*=c,v*=c):v=a=b=0,
g[0]=n,g[1]=b,g[2]=m,g[3]=0,g[4]=t,g[5]=a,g[6]=d,g[7]=0,g[8]=r,g[9]=v,g[10]=f,g[11]=0,g[12]=-(n*k+t*h+r*e),g[13]=-(b*k+a*h+v*e),g[14]=-(m*k+d*h+f*e),g[15]=1)}
(function(){function e(a,b,d){this.ye=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.wa=!!d;this.Aj=this.wh=!1;this.ml=0;this.Lk=1;this.vn=1E3;this.hx=(this.vn-this.Lk)/32768;this.cl=hc([0,0,100]);this.Pp=hc([0,0,0]);this.wr=hc([0,1,0]);this.Bi=hc([1,1,1]);this.Qo=!0;this.Nj=ic();this.qc=ic();this.gm=ic();this.ll=ic();this.n=a;this.pp()}function n(a,b,d){this.n=a;this.ki=b;this.name=d;this.Ac=a.getAttribLocation(b,"aPos");this.Ce=a.getAttribLocation(b,
"aTex");this.Np=a.getUniformLocation(b,"matP");this.Jj=a.getUniformLocation(b,"matMV");this.ng=a.getUniformLocation(b,"opacity");this.lm=a.getUniformLocation(b,"colorFill");this.Op=a.getUniformLocation(b,"samplerFront");this.Mh=a.getUniformLocation(b,"samplerBack");this.tf=a.getUniformLocation(b,"destStart");this.sf=a.getUniformLocation(b,"destEnd");this.Oh=a.getUniformLocation(b,"seconds");this.nm=a.getUniformLocation(b,"pixelWidth");this.mm=a.getUniformLocation(b,"pixelHeight");this.Lh=a.getUniformLocation(b,
"layerScale");this.Kh=a.getUniformLocation(b,"layerAngle");this.Ph=a.getUniformLocation(b,"viewOrigin");this.Nh=a.getUniformLocation(b,"scrollPos");this.qv=!!(this.nm||this.mm||this.Oh||this.Mh||this.tf||this.sf||this.Lh||this.Kh||this.Ph||this.Nh);this.Xp=this.Yp=-999;this.Mj=1;this.Tp=this.Sp=0;this.Vp=this.Rp=this.Qp=1;this.aq=this.$p=this.Zp=this.cq=this.bq=this.Up=0;this.fm=[];this.Wp=ic();this.ng&&a.uniform1f(this.ng,1);this.lm&&a.uniform4f(this.lm,1,1,1,1);this.Op&&a.uniform1i(this.Op,0);this.Mh&&
a.uniform1i(this.Mh,1);this.tf&&a.uniform2f(this.tf,0,0);this.sf&&a.uniform2f(this.sf,1,1);this.Lh&&a.uniform1f(this.Lh,1);this.Kh&&a.uniform1f(this.Kh,0);this.Ph&&a.uniform2f(this.Ph,0,0);this.Nh&&a.uniform2f(this.Nh,0,0);this.Oh&&a.uniform1f(this.Oh,0);this.ef=!1}function m(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function g(a,b){this.type=a;this.k=b;this.n=b.n;this.qd=this.Lb=this.sq=0;this.P=this.Ic=null;this.cr=[]}var t=ic();e.prototype.pp=function(){var a=this.n,b;this.Ep=1;this.nf=this.mf=null;this.Ui=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.wa?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Gp=a.ONE;this.Cp=a.ONE_MINUS_SRC_ALPHA;
this.Jk=new Float32Array(8E3*(this.wa?3:2));this.vk=new Float32Array(16E3);this.Dq=new Float32Array(32E3);this.Jm=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Jm);a.bufferData(a.ARRAY_BUFFER,this.Dq.byteLength,a.DYNAMIC_DRAW);this.Ai=Array(4);this.qi=Array(4);for(b=0;4>b;b++)this.Ai[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Ai[b]),a.bufferData(a.ARRAY_BUFFER,this.Jk.byteLength,a.DYNAMIC_DRAW),this.qi[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.qi[b]),a.bufferData(a.ARRAY_BUFFER,
this.vk.byteLength,a.DYNAMIC_DRAW);this.Fd=0;this.uv=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.uv);for(var d=new Uint16Array(12E3),f=b=0;12E3>b;)d[b++]=f,d[b++]=f+1,d[b++]=f+2,d[b++]=f,d[b++]=f+2,d[b++]=f+3,f+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,d,a.STATIC_DRAW);this.Km=this.Fg=this.de=0;this.Ja=[];b=this.wa?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";d=this.ah({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Ja.push(d);d=this.ah({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ja.push(d);d=this.ah({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Ja.push(d);d=this.ah({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Ja.push(d);for(var c in mc)mc.hasOwnProperty(c)&&this.Ja.push(this.ah(mc[c],b,c));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.ne=[];this.Ed=0;this.zb=!1;this.Ho=this.Ih=-1;this.Pf=null;this.wl=a.createFramebuffer();this.Yi=this.hk=null;this.ro=!1;this.wa&&(this.Yi=a.createRenderbuffer());this.Je=hc([0,0,0]);this.dq=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.dq&&(this.dq=2048);this.Sb(0)};n.prototype.pn=function(a){m(this.Wp,a)||(jc(a,this.Wp),this.n.uniformMatrix4fv(this.Jj,
!1,a))};e.prototype.ah=function(a,b,d){var f=this.n,c=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(c,a.src);f.compileShader(c);if(!f.getShaderParameter(c,f.COMPILE_STATUS))return f.deleteShader(c),null;var k=f.createShader(f.VERTEX_SHADER);f.shaderSource(k,b);f.compileShader(k);if(!f.getShaderParameter(k,f.COMPILE_STATUS))return f.deleteShader(c),f.deleteShader(k),null;b=f.createProgram();f.attachShader(b,c);f.attachShader(b,k);f.linkProgram(b);if(!f.getProgramParameter(b,f.LINK_STATUS))return f.deleteShader(c),
f.deleteShader(k),f.deleteProgram(b),null;f.useProgram(b);f.deleteShader(c);f.deleteShader(k);d=new n(f,b,d);d.dj=a.dj||0;d.ej=a.ej||0;d.kl=!!a.kl;d.Ec=!!a.Ec;d.Wk=!!a.Wk;d.N=a.N||[];a=0;for(c=d.N.length;a<c;a++)d.N[a][1]=f.getUniformLocation(b,d.N[a][0]),d.fm.push(0),f.uniform1f(d.N[a][1],0);return d};e.prototype.Jl=function(a){var b,d;b=0;for(d=this.Ja.length;b<d;b++)if(this.Ja[b].name===a)return b;return-1};e.prototype.Gq=function(a,b,d){var f=this.qc,c=this.Nj,k=[0,0,0,0,0,0,0,0];k[0]=f[0]*a+
f[4]*b+f[12];k[1]=f[1]*a+f[5]*b+f[13];k[2]=f[2]*a+f[6]*b+f[14];k[3]=f[3]*a+f[7]*b+f[15];k[4]=c[0]*k[0]+c[4]*k[1]+c[8]*k[2]+c[12]*k[3];k[5]=c[1]*k[0]+c[5]*k[1]+c[9]*k[2]+c[13]*k[3];k[6]=c[2]*k[0]+c[6]*k[1]+c[10]*k[2]+c[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],d[0]=(.5*k[4]+.5)*this.width,d[1]=(.5*k[5]+.5)*this.height)};e.prototype.zf=function(a,b,d){if(this.width!==a||this.height!==b||d){this.Ze();d=this.n;this.width=a;this.height=b;d.viewport(0,0,a,b);lc(this.cl,
this.Pp,this.wr,this.qc);if(this.wa){var f=-a/2;a=a/2;var c=b/2;b=-b/2;var k=this.Lk,h=this.vn,q=this.Nj;q||(q=ic());var p=a-f,e=b-c,l=h-k;q[0]=2/p;q[1]=0;q[2]=0;q[3]=0;q[4]=0;q[5]=2/e;q[6]=0;q[7]=0;q[8]=0;q[9]=0;q[10]=-2/l;q[11]=0;q[12]=-(f+a)/p;q[13]=-(b+c)/e;q[14]=-(h+k)/l;q[15]=1;this.Bi[0]=1;this.Bi[1]=1}else b=a/b,f=this.Lk,a=this.vn,q=this.Nj,h=f*Math.tan(45*Math.PI/360),b*=h,c=-b,k=-h,q||(q=ic()),p=b-c,e=h-k,l=a-f,q[0]=2*f/p,q[1]=0,q[2]=0,q[3]=0,q[4]=0,q[5]=2*f/e,q[6]=0,q[7]=0,q[8]=(b+c)/
p,q[9]=(h+k)/e,q[10]=-(a+f)/l,q[11]=-1,q[12]=0,q[13]=0,q[14]=-(a*f*2)/l,q[15]=0,f=[0,0],a=[0,0],this.Gq(0,0,f),this.Gq(1,1,a),this.Bi[0]=1/(a[0]-f[0]),this.Bi[1]=-1/(a[1]-f[1]);f=0;for(a=this.Ja.length;f<a;f++)c=this.Ja[f],c.ef=!1,c.Np&&(d.useProgram(c.ki),d.uniformMatrix4fv(c.Np,!1,this.Nj));d.useProgram(this.Ja[this.Ih].ki);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE0);this.nf=this.mf=null;this.Yi&&(d.bindFramebuffer(d.FRAMEBUFFER,
this.wl),d.bindRenderbuffer(d.RENDERBUFFER,this.Yi),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_COMPONENT16,this.width,this.height),this.ro||(d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,this.Yi),this.ro=!0),d.bindRenderbuffer(d.RENDERBUFFER,null),d.bindFramebuffer(d.FRAMEBUFFER,null),this.hk=null)}};e.prototype.xd=function(){lc(this.cl,this.Pp,this.wr,this.qc);kc(this.qc,this.Bi)};e.prototype.translate=function(a,b){if(0!==a||0!==b){this.Je[0]=a;this.Je[1]=b;this.Je[2]=
0;var d=this.qc,f=this.Je,c=f[0],k=f[1],f=f[2];d[12]=d[0]*c+d[4]*k+d[8]*f+d[12];d[13]=d[1]*c+d[5]*k+d[9]*f+d[13];d[14]=d[2]*c+d[6]*k+d[10]*f+d[14];d[15]=d[3]*c+d[7]*k+d[11]*f+d[15]}};e.prototype.scale=function(a,b){if(1!==a||1!==b)this.Je[0]=a,this.Je[1]=b,this.Je[2]=1,kc(this.qc,this.Je)};e.prototype.Um=function(a){if(0!==a){var b=this.qc,d,f=Math.sin(a);a=Math.cos(a);var c=b[0],k=b[1],h=b[2],q=b[3],p=b[4],e=b[5],l=b[6],w=b[7];d?b!==d&&(d[8]=b[8],d[9]=b[9],d[10]=b[10],d[11]=b[11],d[12]=b[12],d[13]=
b[13],d[14]=b[14],d[15]=b[15]):d=b;d[0]=c*a+p*f;d[1]=k*a+e*f;d[2]=h*a+l*f;d[3]=q*a+w*f;d[4]=c*-f+p*a;d[5]=k*-f+e*a;d[6]=h*-f+l*a;d[7]=q*-f+w*a}};e.prototype.ad=function(){if(!m(this.gm,this.qc)){var a=this.hc();a.type=5;a.P?jc(this.qc,a.P):a.P=ic(this.qc);jc(this.qc,this.gm);this.zb=!1}};e.prototype.mk=function(a){this.wa&&(32760<a&&(a=32760),this.ml=this.cl[2]-this.Lk-a*this.hx)};g.prototype.Pt=function(){var a=this.n,b=this.k;0!==this.Lb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.wl),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Aj=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Aj=!1)};g.prototype.Tt=function(){this.n.bindTexture(this.n.TEXTURE_2D,this.Ic)};g.prototype.Ut=function(){var a=this.n;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Ic);a.activeTexture(a.TEXTURE0)};g.prototype.Qt=function(){var a=this.sq,
b=this.k;b.Ui=a;b=b.Pf;b.ng&&b.Mj!==a&&(b.Mj=a,this.n.uniform1f(b.ng,a))};g.prototype.Kt=function(){this.n.drawElements(this.n.TRIANGLES,this.qd,this.n.UNSIGNED_SHORT,this.Lb)};g.prototype.Mt=function(){this.n.blendFunc(this.Lb,this.qd)};g.prototype.Vt=function(){var a,b,d,f=this.k.Ja,c=this.k.Ho;a=0;for(b=f.length;a<b;a++)d=f[a],a===c&&d.Jj?(d.pn(this.P),d.ef=!0):d.ef=!1;jc(this.P,this.k.ll)};g.prototype.Lt=function(){var a=this.n,b=this.k;this.Ic?(b.nf===this.Ic&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
null),b.nf=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.wl),b.Aj||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ic,0)):(b.wa||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};g.prototype.Ht=function(){var a=this.n,b=this.Lb;0===b?(a.clearColor(this.P[0],this.P[1],this.P[2],this.P[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.P[0],this.P[1],this.P[2],
this.P[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};g.prototype.Ot=function(){var a=this.n;0!==this.Lb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};g.prototype.Jt=function(){var a=this.n,b=this.k;b.wa&&a.disable(a.DEPTH_TEST);var d=b.Ja[1];a.useProgram(d.ki);!d.ef&&d.Jj&&(d.pn(b.ll),d.ef=!0);a.enableVertexAttribArray(d.Ac);a.bindBuffer(a.ARRAY_BUFFER,b.Jm);a.vertexAttribPointer(d.Ac,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Lb/
4,this.qd);d=b.Pf;a.useProgram(d.ki);0<=d.Ac&&(a.enableVertexAttribArray(d.Ac),a.bindBuffer(a.ARRAY_BUFFER,b.Ai[b.Fd]),a.vertexAttribPointer(d.Ac,b.wa?3:2,a.FLOAT,!1,0,0));0<=d.Ce&&(a.enableVertexAttribArray(d.Ce),a.bindBuffer(a.ARRAY_BUFFER,b.qi[b.Fd]),a.vertexAttribPointer(d.Ce,2,a.FLOAT,!1,0,0));b.wa&&a.enable(a.DEPTH_TEST)};g.prototype.Rt=function(){var a=this.n,b=this.k,d=b.Ja[this.Lb];b.Ho=this.Lb;b.Pf=d;a.useProgram(d.ki);!d.ef&&d.Jj&&(d.pn(b.ll),d.ef=!0);d.ng&&d.Mj!==b.Ui&&(d.Mj=b.Ui,a.uniform1f(d.ng,
b.Ui));0<=d.Ac&&(a.enableVertexAttribArray(d.Ac),a.bindBuffer(a.ARRAY_BUFFER,b.Ai[b.Fd]),a.vertexAttribPointer(d.Ac,b.wa?3:2,a.FLOAT,!1,0,0));0<=d.Ce&&(a.enableVertexAttribArray(d.Ce),a.bindBuffer(a.ARRAY_BUFFER,b.qi[b.Fd]),a.vertexAttribPointer(d.Ce,2,a.FLOAT,!1,0,0))};g.prototype.Nt=function(){var a=this.P;this.n.uniform4f(this.k.Pf.lm,a[0],a[1],a[2],a[3])};g.prototype.St=function(){var a,b,d=this.k.Pf,f=this.n;a=this.P;d.Mh&&this.k.nf!==this.Ic&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,
this.Ic),this.k.nf=this.Ic,f.activeTexture(f.TEXTURE0));var c=a[0];d.nm&&c!==d.Yp&&(d.Yp=c,f.uniform1f(d.nm,c));c=a[1];d.mm&&c!==d.Xp&&(d.Xp=c,f.uniform1f(d.mm,c));c=a[2];b=a[3];!d.tf||c===d.Sp&&b===d.Tp||(d.Sp=c,d.Tp=b,f.uniform2f(d.tf,c,b));c=a[4];b=a[5];!d.sf||c===d.Qp&&b===d.Rp||(d.Qp=c,d.Rp=b,f.uniform2f(d.sf,c,b));c=a[6];d.Lh&&c!==d.Vp&&(d.Vp=c,f.uniform1f(d.Lh,c));c=a[7];d.Kh&&c!==d.Up&&(d.Up=c,f.uniform1f(d.Kh,c));c=a[8];b=a[9];!d.Ph||c===d.bq&&b===d.cq||(d.bq=c,d.cq=b,f.uniform2f(d.Ph,c,
b));c=a[10];b=a[11];!d.Nh||c===d.Zp&&b===d.$p||(d.Zp=c,d.$p=b,f.uniform2f(d.Nh,c,b));c=a[12];d.Oh&&c!==d.aq&&(d.aq=c,f.uniform1f(d.Oh,c));if(d.N.length)for(a=0,b=d.N.length;a<b;a++)c=this.cr[a],c!==d.fm[a]&&(d.fm[a]=c,f.uniform1f(d.N[a][1],c))};e.prototype.hc=function(){this.Ed===this.ne.length&&this.ne.push(new g(0,this));return this.ne[this.Ed++]};e.prototype.Ze=function(){if(0!==this.Ed&&!this.n.isContextLost()){var a=this.n;0<this.Km&&(a.bindBuffer(a.ARRAY_BUFFER,this.Jm),a.bufferSubData(a.ARRAY_BUFFER,
0,this.Dq.subarray(0,this.Km)),b&&0<=b.Ac&&"<point>"===b.name&&a.vertexAttribPointer(b.Ac,4,a.FLOAT,!1,0,0));if(0<this.de){var b=this.Pf;a.bindBuffer(a.ARRAY_BUFFER,this.Ai[this.Fd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Jk.subarray(0,this.de));b&&0<=b.Ac&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ac,this.wa?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.qi[this.Fd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.vk.subarray(0,this.Fg));b&&0<=b.Ce&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ce,2,
a.FLOAT,!1,0,0)}for(var d,a=0,b=this.Ed;a<b;a++)switch(d=this.ne[a],d.type){case 1:d.Kt();break;case 2:d.Tt();break;case 3:d.Qt();break;case 4:d.Mt();break;case 5:d.Vt();break;case 6:d.Lt();break;case 7:d.Ht();break;case 8:d.Jt();break;case 9:d.Rt();break;case 10:d.St();break;case 11:d.Ut();break;case 12:d.Nt();break;case 13:d.Ot();break;case 14:d.Pt()}this.Km=this.Fg=this.de=this.Ed=0;this.Aj=this.zb=!1;this.Fd++;4<=this.Fd&&(this.Fd=0)}};e.prototype.yf=function(a){if(a!==this.Ep&&!this.wh){var b=
this.hc();b.type=3;this.Ep=b.sq=a;this.zb=!1}};e.prototype.ic=function(a){if(a!==this.mf){var b=this.hc();b.type=2;this.mf=b.Ic=a;this.zb=!1}};e.prototype.He=function(a,b){if((a!==this.Gp||b!==this.Cp)&&!this.wh){var d=this.hc();d.type=4;d.Lb=a;d.qd=b;this.Gp=a;this.Cp=b;this.zb=!1}};e.prototype.Rq=function(){this.He(this.n.ONE,this.n.ONE_MINUS_SRC_ALPHA)};e.prototype.ei=function(a,b,d,f,c,k,h,q){15992<=this.de&&this.Ze();var p=this.de,e=this.Fg,l=this.Jk,w=this.vk,r=this.ml;if(this.zb)this.ne[this.Ed-
1].qd+=6;else{var m=this.hc();m.type=1;m.Lb=this.wa?p:p/2*3;m.qd=6;this.zb=!0}this.wa?(l[p++]=a,l[p++]=b,l[p++]=r,l[p++]=d,l[p++]=f,l[p++]=r,l[p++]=c,l[p++]=k,l[p++]=r,l[p++]=h,l[p++]=q,l[p++]=r):(l[p++]=a,l[p++]=b,l[p++]=d,l[p++]=f,l[p++]=c,l[p++]=k,l[p++]=h,l[p++]=q);w[e++]=0;w[e++]=0;w[e++]=1;w[e++]=0;w[e++]=1;w[e++]=1;w[e++]=0;w[e++]=1;this.de=p;this.Fg=e};e.prototype.vd=function(a,b,d,f,c,k,h,q,p){15992<=this.de&&this.Ze();var e=this.de,l=this.Fg,w=this.Jk,r=this.vk,m=this.ml;if(this.zb)this.ne[this.Ed-
1].qd+=6;else{var n=this.hc();n.type=1;n.Lb=this.wa?e:e/2*3;n.qd=6;this.zb=!0}var n=p.left,g=p.top,t=p.right;p=p.bottom;this.wa?(w[e++]=a,w[e++]=b,w[e++]=m,w[e++]=d,w[e++]=f,w[e++]=m,w[e++]=c,w[e++]=k,w[e++]=m,w[e++]=h,w[e++]=q,w[e++]=m):(w[e++]=a,w[e++]=b,w[e++]=d,w[e++]=f,w[e++]=c,w[e++]=k,w[e++]=h,w[e++]=q);r[l++]=n;r[l++]=g;r[l++]=t;r[l++]=g;r[l++]=t;r[l++]=p;r[l++]=n;r[l++]=p;this.de=e;this.Fg=l};e.prototype.Sb=function(a){if(this.Ih!==a){if(!this.Ja[a]){if(0===this.Ih)return;a=0}var b=this.hc();
b.type=9;this.Ih=b.Lb=a;this.zb=!1}};e.prototype.ci=function(a){a=this.Ja[a];return!(!a.tf&&!a.sf)};e.prototype.Mm=function(a){a=this.Ja[a];return!!(a.tf||a.sf||a.kl)};e.prototype.Lm=function(a){return this.Ja[a].Ec};e.prototype.rw=function(a){a=this.Ja[a];return 0!==a.dj||0!==a.ej};e.prototype.Xu=function(a){return this.Ja[a].dj};e.prototype.Yu=function(a){return this.Ja[a].ej};e.prototype.Zu=function(a,b){return this.Ja[a].N[b][2]};e.prototype.fk=function(a){return this.Ja[a].Wk};e.prototype.Cg=
function(a,b,d,f,c,k,h,q,p,e,l,w,r,m,n){var g=this.Ja[this.Ih],t,H;if(g.qv||n.length){t=this.hc();t.type=10;t.P?jc(this.qc,t.P):t.P=ic();H=t.P;H[0]=b;H[1]=d;H[2]=f;H[3]=c;H[4]=k;H[5]=h;H[6]=q;H[7]=p;H[8]=e;H[9]=l;H[10]=w;H[11]=r;H[12]=m;g.Mh?t.Ic=a:t.Ic=null;if(n.length)for(d=t.cr,d.length=n.length,a=0,b=n.length;a<b;a++)d[a]=n[a];this.zb=!1}};e.prototype.clear=function(a,b,d,f){var c=this.hc();c.type=7;c.Lb=0;c.P||(c.P=ic());c.P[0]=a;c.P[1]=b;c.P[2]=d;c.P[3]=f;this.zb=!1};e.prototype.clearRect=function(a,
b,d,f){if(!(0>d||0>f)){var c=this.hc();c.type=7;c.Lb=1;c.P||(c.P=ic());c.P[0]=a;c.P[1]=b;c.P[2]=d;c.P[3]=f;this.zb=!1}};e.prototype.Vq=function(a){if(this.wa&&(a=!!a,this.wh!==a)){var b=this.hc();b.type=14;b.Lb=a?1:0;this.zb=!1;this.wh=a;this.hk=null;this.wh?this.Sb(2):this.Sb(0)}};e.prototype.Tq=function(a){if(this.wa){var b=this.hc();b.type=13;b.Lb=a?1:0;this.zb=!1}};e.prototype.Zo=function(){jc(this.gm,t);this.xd();this.ad();var a=this.width/2,b=this.height/2;this.ei(-a,b,a,b,a,-b,-a,-b);jc(t,
this.qc);this.ad()};e.prototype.Sq=function(a,b,d){this.Sb(3);var f=this.hc();f.type=12;f.P||(f.P=ic());f.P[0]=a;f.P[1]=b;f.P[2]=d;f.P[3]=1;this.zb=!1};e.prototype.Nw=function(){this.Sb(0)};e.prototype.zw=function(){this.Sb(2)};e.prototype.qw=function(){this.Ze();this.n.flush()};var r=[],b={};e.prototype.At=function(){S(r);b={}};e.prototype.mg=function(a,e,d,f){e=!!e;d=!!d;var c=a.src+","+e+","+d+(e?",undefined":""),k=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(c))return k=b[c],k.Ki++,k;
this.Ze();var h=this.n,q=ha(a.width)&&ha(a.height),k=h.createTexture();h.bindTexture(h.TEXTURE_2D,k);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=h.RGBA,A=h.RGBA,l=h.UNSIGNED_BYTE;if(f&&!this.ye)switch(f){case 1:A=p=h.RGB;break;case 2:l=h.UNSIGNED_SHORT_4_4_4_4;break;case 3:l=h.UNSIGNED_SHORT_5_5_5_1;break;case 4:A=p=h.RGB,l=h.UNSIGNED_SHORT_5_6_5}if(!q&&e){f=document.createElement("canvas");f.width=ka(a.width);f.height=ka(a.height);var w=f.getContext("2d");"undefined"!==typeof w.imageSmoothingEnabled?
w.imageSmoothingEnabled=d:(w.webkitImageSmoothingEnabled=d,w.mozImageSmoothingEnabled=d,w.msImageSmoothingEnabled=d);w.drawImage(a,0,0,a.width,a.height,0,0,f.width,f.height);h.texImage2D(h.TEXTURE_2D,0,p,A,l,f)}else h.texImage2D(h.TEXTURE_2D,0,p,A,l,a);e?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));d?(h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_MAG_FILTER,h.LINEAR),q&&this.Qo?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_LINEAR),h.generateMipmap(h.TEXTURE_2D)):h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST));h.bindTexture(h.TEXTURE_2D,null);this.mf=null;k.Pe=a.width;k.Oe=a.height;k.Ki=1;k.zo=c;r.push(k);return b[c]=k};e.prototype.uc=function(a,b,d){var f;this.Ze();var c=this.n;
this.ye&&(f=!1);var k=c.createTexture();c.bindTexture(c.TEXTURE_2D,k);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,a,b,0,c.RGBA,f?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,null);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,d?c.LINEAR:c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,d?c.LINEAR:c.NEAREST);c.bindTexture(c.TEXTURE_2D,null);this.mf=null;k.Pe=a;k.Oe=b;r.push(k);
return k};e.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ki&&1<a.Ki?a.Ki--:(this.Ze(),a===this.mf&&(this.n.bindTexture(this.n.TEXTURE_2D,null),this.mf=null),a===this.nf&&(this.n.activeTexture(this.n.TEXTURE1),this.n.bindTexture(this.n.TEXTURE_2D,null),this.n.activeTexture(this.n.TEXTURE0),this.nf=null),Ca(r,a),"undefined"!==typeof a.zo&&delete b[a.zo],this.n.deleteTexture(a)))};e.prototype.Gc=function(a){if(a!==this.hk){var b=this.hc();b.type=6;this.hk=b.Ic=a;this.zb=!1}};ob=e})();
(function(){function e(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var f=this;this.ac=(this.vh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Za=!!a.dc;this.tp="undefined"!==typeof window.AppMobi||
this.Za;this.$b=!!window.c2cocoonjs;this.Rc=!!window.c2ejecta;this.$b&&(CocoonJS.App.onSuspended.addEventListener(function(){f.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){f.setSuspended(!1)}));this.Rc&&(document.addEventListener("pagehide",function(){f.setSuspended(!0)}),document.addEventListener("pageshow",function(){f.setSuspended(!1)}),document.addEventListener("resize",function(){f.setSize(window.innerWidth,window.innerHeight)}));this.O=this.Za||this.$b||this.Rc;this.yh=
/edge\//i.test(navigator.userAgent);this.ye=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.yh;this.vp=/tizen/i.test(navigator.userAgent);this.yj=/android/i.test(navigator.userAgent)&&!this.vp&&!this.ye&&!this.yh;this.zp=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ye&&!this.yh;this.Iv=/ipad/i.test(navigator.userAgent);this.fg=this.zp||this.Iv||this.Rc;this.uh=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ye&&!this.yh;this.Vl=/amazonwebappplatform/i.test(navigator.userAgent);this.zv=/firefox/i.test(navigator.userAgent);this.Dv=/safari/i.test(navigator.userAgent)&&!this.uh&&!this.ye&&!this.yh;this.Ev=/windows/i.test(navigator.userAgent);this.Cv=this.Pd="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.wp=!("undefined"===typeof window.c2isWindows8||
!window.c2isWindows8);this.xp=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.$f=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.cm=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.am=!!window.cr_windows10;this.$l=this.wp||this.xp||this.cm||this.am;this.xv=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.zj=this.yj&&!this.uh&&!this.vh&&!this.zv&&!this.Vl&&!this.O;this.devicePixelRatio=
1;this.jf=this.ac||this.vh||this.tp||this.$b||this.yj||this.fg||this.$f||this.cm||this.xv||this.vp||this.Rc;this.jf||(this.jf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Ch=!!(this.fg&&this.ac&&window.webkit);this.Ol=null;this.sv="";this.Ch&&(this.Ol=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Pd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.Pd=!0);this.yv="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.Xg=document.getElementById("c2canvasdiv");this.k=this.n=null;this.Kl="(unavailable)";this.wa=!1;this.Xe=0;this.Ea=null;this.zl="";this.jj=!1;this.qq=this.rq=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Za&&(window.c2runtime=
this);this.Pd&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.zj&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.D=this.width;this.C=this.height;this.Si=this.width;this.dh=this.height;this.jg=window.innerWidth;this.ig=window.innerHeight;this.Lu=!1;this.ja=!0;this.Ah=!1;Date.now||
(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.j=[];this.Ga=[];this.jm={};this.Tc=[];this.ul={};this.Jd=[];this.Mg=[];this.Dk=[];this.kt=[];this.lt=[];this.Se={};this.Xl=this.xe=!1;this.Sc=0;this.Wl=this.Zl=!1;this.hd=[];this.xh=!1;this.Qd=this.Ab=this.Gj=this.Zm="";this.ni=this.fr=!1;this.ij=[];this.We=this.Ve=0;this.gq=30;this.il=this.Qh=0;this.Df=1;this.ab=new db;this.ee=new db;this.Rj=this.mj=this.cj=this.si=this.pf=this.yl=this.Dj=0;this.Qe=null;this.$i=[];this.tl=
[];this.bj=-1;this.om=[[]];this.kn=this.Kj=0;this.Om(null);this.gh=this.lq=this.Th=0;this.oi=[];this.gn=this.Pm=-1;this.gg=!0;this.rf=0;this.kf=!1;this.Pw=0;this.Jf=null;this.qa=this.sj=!1;this.pq=new ba;this.wm=new ba;this.xm=new ba;this.Mq=[];new fb([]);new fb([]);this.ke=[];this.ph={};this.re={};this.je={};this.Lg={};this.wo={};this.Mp=this.Fj=this.Ma=this.Ra=this.Lp=this.Ej=this.ka=null;this.Jg=this.dm=!1;this.Al=[null,null];this.Ld=0;this.hh="";this.Td={};this.li=this.Ae=null;this.hr="";this.Qj=
[];this.yw()}}function n(a,f){return 128>=f?a[3]:256>=f?a[2]:512>=f?a[1]:a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function g(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function t(a,f,c,b){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=g;d.onerror=b;d.onsuccess=function(d){d=d.target.result;d.onerror=b;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:f}).onsuccess=c}}catch(h){b(h)}}function r(a,f,c){try{var b=indexedDB.open("_C2SaveStates");
b.onupgradeneeded=g;b.onerror=c;b.onsuccess=function(b){b=b.target.result;b.onerror=c;var d=b.transaction(["saves"]).objectStore("saves").get(a);d.onsuccess=function(){d.result?f(d.result.data):f(null)}}}catch(d){c(d)}}function b(){D("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var f,c={};for(f in a)!a.hasOwnProperty(f)||a[f]instanceof
ba||a[f]&&"undefined"!==typeof a[f].ny||"spriteCreatedDestroyCallback"!==f&&(c[f]=a[f]);return c}var v=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;e.prototype.yw=function(){var a=this;if(this.Ch)this.Ol?this.Ol.startServer({port:0,localhost_only:!0},function(f){a.sv=f;a.Wo(function(f){a.lg(JSON.parse(f))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+
a)}):this.Wo(function(f){a.lg(JSON.parse(f))},function(){alert("Error fetching data.js")});else{var f;this.$f?f=new ActiveXObject("Microsoft.XMLHTTP"):f=new XMLHttpRequest;var c="data.js";if(this.wp||this.$f||this.cm||this.am)c="data.json";f.open("GET",c,!0);var b=!1;if(!this.O&&"response"in f&&"responseType"in f)try{f.responseType="json",b="json"===f.responseType}catch(d){b=!1}if(!b&&"responseType"in f)try{f.responseType="text"}catch(h){}if("overrideMimeType"in f)try{f.overrideMimeType("application/json; charset=utf-8")}catch(k){}this.$f?
f.onreadystatechange=function(){4===f.readyState&&a.lg(JSON.parse(f.responseText))}:(f.onload=function(){if(b)a.lg(f.response);else if(a.Rc){var c=f.responseText,c=c.substr(c.indexOf("{"));a.lg(JSON.parse(c))}else a.lg(JSON.parse(f.responseText))},f.onerror=function(a){da("Error requesting "+c+":");da(a)});f.send()}};e.prototype.vv=function(){var a=this,f,c,b,d,h,k,l,p,q;this.lf=(!this.O||this.Rc||this.ac)&&this.ax&&!this.zj;0===this.yb&&this.fg&&(this.lf=!1);this.devicePixelRatio=this.lf?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.ob();c=!(!this.Lu&&(!this.Uk||this.Pd||this.$l||this.$f||this.vh||this.ac||this.Vl));0<this.yb&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.cu&&(this.$b||this.Rc||!this.O)&&(f={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.n=this.canvas.getContext("webgl",f)||this.canvas.getContext("experimental-webgl",f))}catch(e){}if(this.n){if(f=this.n.getExtension("WEBGL_debug_renderer_info"))this.Kl=
this.n.getParameter(f.UNMASKED_RENDERER_WEBGL)+" ["+this.n.getParameter(f.UNMASKED_VENDOR_WEBGL)+"]";this.wa&&(this.Kl+=" [front-to-back enabled]");this.O||(this.jb=document.createElement("canvas"),jQuery(this.jb).appendTo(this.canvas.parentNode),this.jb.oncontextmenu=function(){return!1},this.jb.onselectstart=function(){return!1},this.jb.width=Math.round(this.Si*this.devicePixelRatio),this.jb.height=Math.round(this.dh*this.devicePixelRatio),jQuery(this.jb).css({width:this.Si+"px",height:this.dh+
"px"}),this.Fq(),this.Gm=this.jb.getContext("2d"));this.k=new ob(this.n,this.jf,this.wa);this.k.zf(this.canvas.width,this.canvas.height);this.k.Qo=0!==this.Wt;this.Ea=null;this.canvas.addEventListener("webglcontextlost",function(f){f.preventDefault();a.Tv();D("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.k.pp();a.k.zf(a.k.width,a.k.height,!0);a.Ra=null;a.Ma=null;a.Al[0]=null;a.Al[1]=null;a.Uv();a.ja=!0;D("[Construct 2] WebGL context restored");
window.cr_setSuspended(!1)},!1);f=0;for(c=this.j.length;f<c;f++)for(h=this.j[f],b=0,d=h.J.length;b<d;b++)l=h.J[b],l.Oa=this.k.Jl(l.id),l.Ec=this.k.Lm(l.Oa),this.Jg=this.Jg||this.k.ci(l.Oa);f=0;for(c=this.Tc.length;f<c;f++){p=this.Tc[f];b=0;for(d=p.J.length;b<d;b++)l=p.J[b],l.Oa=this.k.Jl(l.id),l.Ec=this.k.Lm(l.Oa);p.$c();b=0;for(d=p.M.length;b<d;b++){q=p.M[b];h=0;for(k=q.J.length;h<k;h++)l=q.J[h],l.Oa=this.k.Jl(l.id),l.Ec=this.k.Lm(l.Oa),this.Jg=this.Jg||this.k.ci(l.Oa);q.$c()}}}else{if(0<this.yb&&
this.Za){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ea=AppMobi.canvas.getContext("2d");try{this.Ea.samplingMode=this.Aa?"smooth":"sharp",this.Ea.globalScale=1,this.Ea.HTML5CompatibilityMode=!0,this.Ea.imageSmoothingEnabled=this.Aa}catch(w){}0!==this.width&&0!==this.height&&(this.Ea.width=this.width,this.Ea.height=this.height)}this.Ea||(this.$b?(f={antialias:!!this.Aa,alpha:c},this.Ea=this.canvas.getContext("2d",f)):(f={alpha:c},this.Ea=
this.canvas.getContext("2d",f)),this.lk(this.Ea,this.Aa));this.Gm=this.jb=null}this.nr=function(f){a.Wa(!1,f)};window==window.top||this.O||this.$l||this.$f||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.$b&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(D("Reloading for continuous preview"),this.Gj=
"__c2_continuouspreview",this.ni=!0),this.gw&&!this.jf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var f=window.parent;f&&f.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.wf()});this.O||(f=function(a){if(nb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(f){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",
f):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",f):document.addEventListener("touchstart",f),document.addEventListener("mousedown",f));0===this.yb&&this.lf&&1<this.devicePixelRatio&&this.setSize(this.Ta,this.Sa,!0);this.sr();this.nv();this.go();this.X={}};e.prototype.setSize=function(a,f,c){var b=0,d=0,h=0,k=0,k=0;if(this.jg!==a||this.ig!==f||c){this.jg=a;this.ig=f;var l=this.yb,p=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||
document.fullScreen||this.kf)&&!this.ac;if(p||0!==this.yb||c)p&&0<this.Ld&&(l=this.Ld),c=this.devicePixelRatio,4<=l?(h=this.Ta/this.Sa,a/f>h?(h*=f,5===l?(k=h*c/this.Ta,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),h=this.Ta*k/c,k=this.Sa*k/c,b=(a-h)/2,d=(f-k)/2,a=h,f=k):(b=(a-h)/2,a=h)):(k=a/h,5===l?(k=k*c/this.Sa,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),h=this.Ta*k/c,k=this.Sa*k/c,b=(a-h)/2,d=(f-k)/2,a=h):d=(f-k)/2,f=k),p&&!this.Pd&&(d=b=0)):this.Pd&&this.kf&&0===this.$o&&(b=Math.floor((a-this.Ta)/
2),d=Math.floor((f-this.Sa)/2),a=this.Ta,f=this.Sa),2>l&&(this.Vg=c),this.Si=Math.round(a),this.dh=Math.round(f),this.width=Math.round(a*c),this.height=Math.round(f*c),this.ja=!0,this.Er?(this.D=this.width,this.C=this.height,this.mc=!0):this.width<this.Ta&&this.height<this.Sa||1===l?(this.D=this.width,this.C=this.height,this.mc=!0):(this.D=this.Ta,this.C=this.Sa,this.mc=!1,2===l?(h=this.Ta/this.Sa,l=this.jg/this.ig,l<h?this.D=this.C*l:l>h&&(this.C=this.D/l)):3===l&&(h=this.Ta/this.Sa,l=this.jg/this.ig,
l>h?this.D=this.C*l:l<h&&(this.C=this.D/l))),this.Xg&&!this.O&&(jQuery(this.Xg).css({width:Math.round(a)+"px",height:Math.round(f)+"px","margin-left":Math.floor(b)+"px","margin-top":Math.floor(d)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(f)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(f*c),this.Rc?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(d)+"px",this.canvas.style.width=
Math.round(a)+"px",this.canvas.style.height=Math.round(f)+"px"):this.lf&&!this.O&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(f)+"px")),this.jb&&(this.jb.width=Math.round(a*c),this.jb.height=Math.round(f*c),this.jb.style.width=this.Si+"px",this.jb.style.height=this.dh+"px"),this.k&&this.k.zf(Math.round(a*c),Math.round(f*c)),this.Za&&this.Ea&&(this.Ea.width=Math.round(a),this.Ea.height=Math.round(f)),this.Ea&&this.lk(this.Ea,this.Aa),this.sr(),this.zp&&!this.ac&&
window.scrollTo(0,0)}};e.prototype.sr=function(){if(this.pt&&0!==this.Em){var a="portrait";2===this.Em&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(f){console&&console.warn&&console.warn("Failed to lock orientation: ",
f)}}};e.prototype.Tv=function(){this.k.At();this.dm=!0;var a,f,c;a=0;for(f=this.j.length;a<f;a++)c=this.j[a],c.Sj&&c.Sj()};e.prototype.Uv=function(){this.dm=!1;var a,f,c;a=0;for(f=this.j.length;a<f;a++)c=this.j[a],c.Tj&&c.Tj()};e.prototype.Fq=function(){if(!this.O){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.kf)&&!this.ac?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.jb).css(a)}};
var d=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;e.prototype.setSuspended=function(a){var f;if(a&&!this.Ah)for(D("[Construct 2] Suspending"),this.Ah=!0,-1!==this.Pm&&d&&d(this.Pm),-1!==this.gn&&clearTimeout(this.gn),a=0,f=this.oi.length;a<f;a++)this.oi[a](!0);else if(!a&&this.Ah){D("[Construct 2] Resuming");this.Ah=!1;this.Dj=$a();this.pf=$a();a=this.Qh=this.mj=0;for(f=this.oi.length;a<
f;a++)this.oi[a](!1);this.Wa(!1)}};e.prototype.mo=function(a){this.oi.push(a)};e.prototype.ge=function(a){return this.Qj[a]};e.prototype.lg=function(a){a&&a.project||da("Project model unavailable");a=a.project;this.name=a[0];this.Yo=a[1];this.yb=a[12];this.$o=a[12];this.Ta=a[10];this.Sa=a[11];this.zq=this.Ta/2;this.Aq=this.Sa/2;this.O&&!this.Rc&&(4<=a[12]||0===a[12])&&(D("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.$o=this.yb=
3);this.rn=a[18];this.Be=a[19];if(0===this.Be){var f=new Image;f.crossOrigin="anonymous";this.Xq(f,"loading-logo.png");this.Ae={Lj:f}}else if(4===this.Be){f=new Image;f.src="";var c=new Image;c.src="";var b=new Image;b.src="";var d=new Image;d.src="";var h=new Image;h.src="";var k=new Image;k.src="";var l=new Image;l.src="";var p=new Image;p.src="";var q=new Image;q.src="";var e=new Image;e.src="";var w=new Image;w.src="";var r=new Image;r.src="";this.Ae={Lj:[f,c,b,d],mw:[h,k,l,p],dx:[q,e,w,r]}}this.Th=
a[21];this.Qj=nc();this.zd=new X(this);f=0;for(c=a[2].length;f<c;f++)l=a[2][f],b=this.ge(l[0]),pb(l,b.prototype),p=new b(this),p.qk=l[1],p.ze=l[2],p.iq=l[9],p.H&&p.H(),this.plugins.push(p);this.Qj=nc();f=0;for(c=a[3].length;f<c;f++){l=a[3][f];h=this.ge(l[1]);p=null;b=0;for(d=this.plugins.length;b<d;b++)if(this.plugins[b]instanceof h){p=this.plugins[b];break}q=new p.ca(p);q.name=l[0];q.A=l[2];q.Tl=l[3].slice(0);q.cx=l[3].length;q.qt=l[4];q.Nu=l[5];q.V=l[11];q.A?(q.Oj=[],q.Kd=this.gh++,q.Fa=null):(q.Oj=
null,q.Kd=-1,q.Fa=[]);q.gj=null;q.Tf=null;q.Ro=null;q.cc=!1;q.Yb=null;l[6]?(q.wk=l[6][0],q.en=l[6][1],q.ri=l[6][2]):(q.wk=null,q.en=0,q.ri=0);l[7]?q.Wb=l[7]:q.Wb=null;q.index=f;q.c=[];q.Wi=[];q.$d=[new qb(q)];q.jd=0;q.vc=null;q.Et=0;q.Eg=!0;q.Fk=rb;q.hp=sb;q.Vu=tb;q.la=ub;q.di=vb;q.Nm=wb;q.yg=xb;q.pj=yb;q.Bl=zb;q.El=Ab;q.me=Bb;q.Gl=Cb;q.Do=new gb(this.Ta,this.Sa);q.oo=!0;q.po=!1;q.X={};q.toString=Eb;q.Ga=[];b=0;for(d=l[8].length;b<d;b++){e=l[8][b];w=this.ge(e[1]);r=null;h=0;for(k=this.Ga.length;h<
k;h++)if(this.Ga[h]instanceof w){r=this.Ga[h];break}r||(r=new w(this),r.kq=[],r.sg=new ba,r.H&&r.H(),this.Ga.push(r));-1===r.kq.indexOf(q)&&r.kq.push(q);h=new r.ca(r,q);h.name=e[0];h.V=e[2];h.H();q.Ga.push(h)}q.global=l[9];q.Yl=l[10];q.J=[];b=0;for(d=l[12].length;b<d;b++)q.J.push({id:l[12][b][0],name:l[12][b][1],Oa:-1,Ec:!1,jc:!0,index:b});q.Iy=l[13];this.rn&&!q.A&&!q.Yl&&p.ze||q.H();q.name&&(this.types[q.name]=q);this.j.push(q);p.qk&&(b=new p.U(q),b.uid=this.Th++,b.Iq=this.lq++,b.gf=0,b.nh=Fb,b.toString=
Gb,b.F=l[14],b.H(),q.c.push(b),this.Td[b.uid.toString()]=b)}f=0;for(c=a[4].length;f<c;f++)for(h=a[4][f],k=this.j[h[0]],b=1,d=h.length;b<d;b++)l=this.j[h[b]],l.Fa.push(k),k.Oj.push(l);f=0;for(c=a[28].length;f<c;f++){h=a[28][f];k=[];b=0;for(d=h.length;b<d;b++)k.push(this.j[h[b]]);b=0;for(d=k.length;b<d;b++)k[b].cc=!0,k[b].Yb=k}if(0<this.gh)for(f=0,c=this.j.length;f<c;f++)if(l=this.j[f],!l.A&&l.Fa.length){l.gj=Array(this.gh);l.Tf=Array(this.gh);l.Ro=Array(this.gh);q=[];b=r=w=e=0;for(d=l.Fa.length;b<
d;b++)for(p=l.Fa[b],l.gj[p.Kd]=e,e+=p.cx,l.Tf[p.Kd]=w,w+=p.qt,l.Ro[p.Kd]=r,r+=p.Nu,h=0,k=p.J.length;h<k;h++)q.push(wa({},p.J[h]));l.J=q.concat(l.J);b=0;for(d=l.J.length;b<d;b++)l.J[b].index=b}f=0;for(c=a[5].length;f<c;f++)l=a[5][f],b=new Hb(this,l),this.jm[b.name]=b,this.Tc.push(b);f=0;for(c=a[6].length;f<c;f++)l=a[6][f],b=new Ib(this,l),this.ul[b.name]=b,this.Jd.push(b);f=0;for(c=this.Jd.length;f<c;f++)this.Jd[f].Ka();f=0;for(c=this.Jd.length;f<c;f++)this.Jd[f].nn();f=0;for(c=this.Dk.length;f<c;f++)this.Dk[f].Ka();
S(this.Dk);this.nt=a[7];this.hh=a[8];this.Wc=a[9];this.Vg=1;this.cu=a[13];this.Aa=a[14];this.Uk=a[15];this.ax=a[17];this.Em=a[20];this.pt=0<this.Em;this.gw=a[22];this.mc=this.Er=a[23];this.Wt=a[24];this.ow=a[25];this.wa=a[27]&&!this.ye;this.rk=Date.now();S(this.Qj);this.vv()};var f=!1;e.prototype.tn=function(a,c){a.cocoonLazyLoad=!0;a.onerror=function(c){f=a.yo=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",c)};this.Rc?a.src=c:a.src||("undefined"!==typeof XAPKReader?
XAPKReader.get(c,function(f){a.src=f},function(b){f=a.yo=!0;console&&console.error&&console.error("Error extracting image '"+c+"' from expansion file: ",b)}):(a.crossOrigin="anonymous",this.Xq(a,c)));this.Mg.push(a)};e.prototype.Ku=function(a){var f,c;f=0;for(c=this.Mg.length;f<c;f++)if(this.Mg[f].Bt===a)return this.Mg[f];return null};var c=0,k=!1;e.prototype.nv=function(){this.Jf&&(c=this.Jf.Lw(this.nt))};e.prototype.qo=function(){var a=c,f=0,b=0,h=!0,d,l,b=0;for(d=this.Mg.length;b<d;b++){l=this.Mg[b];
var p=l.Go;if(!p||0>=p)p=5E4;a+=p;l.src&&(l.complete||l.loaded)&&!l.yo?f+=p:h=!1}h&&this.ow&&this.Jf&&(k||(this.Jf.Qw(),k=!0),b=this.Jf.Wu(),f+=b,b<c&&(h=!1));this.Xc=0==a?1:f/a;return h};var h=!1;e.prototype.go=function(){if(this.Ea||this.k){var a=this.Ea||this.Gm;this.jb&&this.Fq();var c=window.innerWidth,b=window.innerHeight;this.jg===c&&this.ig===b||this.setSize(c,b);this.Xc=0;this.Kp=-1;var d=this;if(this.qo()&&(4!==this.Be||h))this.ov();else{b=Date.now()-this.rk;if(a){var l=this.width,k=this.height,
c=this.devicePixelRatio;if(3>this.Be&&(this.$b||500<=b&&this.Kp!=this.Xc)){a.clearRect(0,0,l,k);var b=l/2,k=k/2,l=0===this.Be&&this.Ae.Lj.complete,p=40*c,q=0,e=80*c,w;if(l){var r=this.Ae.Lj,e=r.width*c;w=r.height*c;p=e/2;q=w/2;a.drawImage(r,pa(b-p),pa(k-q),e,w)}1>=this.Be?(b=pa(b-p)+.5,k=pa(k+(q+(l?12*c:0)))+.5,a.fillStyle=f?"red":"DodgerBlue",a.fillRect(b,k,Math.floor(e*this.Xc),6*c),a.strokeStyle="black",a.strokeRect(b,k,e,6*c),a.strokeStyle="white",a.strokeRect(b-1*c,k-1*c,e+2*c,8*c)):2===this.Be&&
(a.font=this.Rc?"12pt ArialMT":"12pt Arial",a.fillStyle=f?"#f00":"#999",a.Hy="middle",c=Math.round(100*this.Xc)+"%",l=a.measureText?a.measureText(c):null,a.fillText(c,b-(l?l.width:0)/2,k));this.Kp=this.Xc}else if(4===this.Be){this.au(a);v?v(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.$b?10:100)}}};var q=-1,p="undefined"===typeof cr_is_preview?200:0,A=!0,l=!1,w=0,V=0,x="undefined"===typeof cr_is_preview?3E3:0,C=null,K=null,I=0;e.prototype.au=function(a){if(!h){for(var c=
Math.ceil(this.width),b=Math.ceil(this.height),d=this.Ae.Lj,k=this.Ae.mw,e=this.Ae.dx,r=0;4>r;++r)if(!d[r].complete||!k[r].complete||!e[r].complete)return;0===I&&(q=Date.now());var r=Date.now(),m=!1,v=a,g,t;A||l?(a.clearRect(0,0,c,b),C&&C.width===c&&C.height===b||(C=document.createElement("canvas"),C.width=c,C.height=b,K=C.getContext("2d")),v=K,m=!0,A&&1===I&&(q=Date.now())):a.globalAlpha=1;v.fillStyle="#333333";v.fillRect(0,0,c,b);256<this.dh?(g=Da(.22*b,105,.6*c),t=.25*g,v.drawImage(n(k,g),.5*c-
g/2,.2*b-t/2,g,t),t=g=Math.min(.395*b,.95*c),v.drawImage(n(d,g),.5*c-g/2,.485*b-t/2,g,t),g=Da(.22*b,105,.6*c),t=.25*g,v.drawImage(n(e,g),.5*c-g/2,.868*b-t/2,g,t),v.fillStyle="#3C3C3C",g=c,t=Math.max(.005*b,2),v.fillRect(0,.8*b-t/2,g,t),v.fillStyle=f?"red":"#E0FF65",g=c*this.Xc,v.fillRect(.5*c-g/2,.8*b-t/2,g,t)):(t=g=.55*b,v.drawImage(n(d,g),.5*c-g/2,.45*b-t/2,g,t),v.fillStyle="#3C3C3C",g=c,t=Math.max(.005*b,2),v.fillRect(0,.85*b-t/2,g,t),v.fillStyle=f?"red":"#E0FF65",g=c*this.Xc,v.fillRect(.5*c-g/
2,.85*b-t/2,g,t));m&&(A?a.globalAlpha=0===I?0:Math.min((r-q)/300,1):l&&(a.globalAlpha=Math.max(1-(r-V)/300,0)),a.drawImage(C,0,0,c,b));A&&300<=r-q&&2<=I&&(A=!1,w=r);!A&&r-w>=x&&!l&&1<=this.Xc&&(l=!0,V=r);if(l&&r-V>=300+p||"undefined"!==typeof cr_is_preview&&1<=this.Xc&&500>Date.now()-q)h=!0,l=A=!1,this.Ae=K=C=null;++I}};e.prototype.ov=function(){this.jb&&(this.canvas.parentNode.removeChild(this.jb),this.jb=this.Gm=null);this.rk=Date.now();this.pf=$a();var a,f,c;if(this.rn)for(a=0,f=this.j.length;a<
f;a++)c=this.j[a],c.A||c.Yl||!c.ba.ze||c.H();else this.gg=!1;a=0;for(f=this.Tc.length;a<f;a++)this.Tc[a].Ct();2<=this.yb&&(a=this.Ta/this.Sa,f=this.width/this.height,this.Vg=2!==this.yb&&f>a||2===this.yb&&f<a?this.height/this.Sa:this.width/this.Ta);this.Yo?this.jm[this.Yo].cn():this.Tc[0].cn();this.rn||(this.rf=1,this.trigger(X.prototype.d.Nk,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(f=this.j.length;a<
f;a++)c=this.j[a],c.Sv&&c.Sv();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Wa(!1);this.Za&&AppMobi.webview.execute("onGameReady();")};e.prototype.Wa=function(a,f,c){if(this.ka){var b=$a();if(c||!this.Ah||a){a||(v?this.Pm=v(this.nr):this.gn=setTimeout(this.nr,this.jf?1:16));f=f||b;var d=this.yb;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.ac)||this.kf)&&0<this.Ld&&
(d=this.Ld);if(0<d){var d=window.innerWidth,h=window.innerHeight;this.jg===d&&this.ig===h||this.setSize(d,h)}this.O||(c?(this.jj||(this.zl=jQuery(this.canvas).css("margin")||"0",this.jj=!0),this.uh||this.Pd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.jj?(this.uh||this.Pd||jQuery(this.canvas).css("margin",this.zl),this.zl="",this.jj=!1,0===this.yb&&
this.setSize(Math.round(this.rq/this.devicePixelRatio),Math.round(this.qq/this.devicePixelRatio),!0)):(this.rq=this.width,this.qq=this.height));this.gg&&(c=this.qo(),this.rf=this.Xc,c&&(this.gg=!1,this.Xc=1,this.trigger(X.prototype.d.Nk,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Mv(f);!this.ja&&!this.$b||this.dm||this.ni||a||(this.ja=!1,this.k?this.Ob():this.kd(),this.li&&(this.canvas&&this.canvas.toDataURL&&(this.hr=this.canvas.toDataURL(this.li[0],this.li[1]),window.cr_onSnapshot&&
window.cr_onSnapshot(this.hr),this.trigger(X.prototype.d.ms,null)),this.li=null));this.ry||(this.si++,this.cj++,this.mj++);this.Qh+=$a()-b}}};e.prototype.Mv=function(a){var f,c,b,d,h,l,k,p;1E3<=a-this.pf&&(this.pf+=1E3,1E3<=a-this.pf&&(this.pf=a),this.yl=this.mj,this.mj=0,this.il=this.Qh,this.Qh=0);f=0;0!==this.Dj&&(f=a-this.Dj,0>f&&(f=0),this.We=f/=1E3,.5<this.We?this.We=0:this.We>1/this.gq&&(this.We=1/this.gq));this.Dj=a;this.Ve=this.We*this.Df;this.ab.add(this.Ve);this.ee.add(f);a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.kf)&&!this.ac;2<=this.yb||a&&0<this.Ld?(f=this.Ta/this.Sa,c=this.width/this.height,b=this.yb,a&&0<this.Ld&&(b=this.Ld),this.Vg=2!==b&&c>f||2===b&&c<f?this.height/this.Sa:this.width/this.Ta,this.ka&&(this.ka.Pq(this.ka.scrollX),this.ka.Qq(this.ka.scrollY))):this.Vg=this.lf?this.devicePixelRatio:1;this.ob();this.Sc++;this.zd.Cw();this.Sc--;this.ob();this.Sc++;c=this.pq.bd();a=0;for(f=c.length;a<f;a++)c[a].Cy();a=
0;for(f=this.j.length;a<f;a++)if(l=this.j[a],!l.A&&(l.Ga.length||l.Fa.length))for(c=0,b=l.c.length;c<b;c++)for(k=l.c[c],d=0,h=k.B.length;d<h;d++)k.B[d].Wa();a=0;for(f=this.j.length;a<f;a++)if(l=this.j[a],!l.A&&(l.Ga.length||l.Fa.length))for(c=0,b=l.c.length;c<b;c++)for(k=l.c[c],d=0,h=k.B.length;d<h;d++)p=k.B[d],p.lw&&p.lw();c=this.wm.bd();a=0;for(f=c.length;a<f;a++)c[a].Wa();this.Sc--;this.pv();for(a=0;this.Qe&&10>a++;)this.Mo(this.Qe);a=0;for(f=this.Jd.length;a<f;a++)this.Jd[a].Nl=!1;this.ka.$e&&
this.ka.$e.Va();S(this.Mq);this.Sc++;a=0;for(f=this.j.length;a<f;a++)if(l=this.j[a],!l.A&&(l.Ga.length||l.Fa.length))for(c=0,b=l.c.length;c<b;c++)for(k=l.c[c],d=0,h=k.B.length;d<h;d++)p=k.B[d],p.zk&&p.zk();c=this.xm.bd();a=0;for(f=c.length;a<f;a++)c[a].zk();this.Sc--};e.prototype.wf=function(){var a,f,c,b,d,h,l,k,p;a=0;for(f=this.j.length;a<f;a++)if(l=this.j[a],!l.A)for(c=0,b=l.c.length;c<b;c++)if(k=l.c[c],k.wf&&k.wf(),k.B)for(d=0,h=k.B.length;d<h;d++)p=k.B[d],p.wf&&p.wf()};e.prototype.Mo=function(a){var f=
this.ka;this.ka.Rw();var c,b,d;if(this.k)for(c=0,b=this.j.length;c<b;c++)d=this.j[c],d.A||!d.Ek||d.global&&0!==d.c.length||-1!==a.sh.indexOf(d)||d.Ek();f==a&&S(this.zd.Tb);S(this.Mq);this.Nq(!0);a.cn();this.Nq(!1);this.ja=!0;this.ob()};e.prototype.Nq=function(a){var f,c,b,d,h,l,k,p,q;f=0;for(c=this.Ga.length;f<c;f++)b=this.Ga[f],a?b.Uh&&b.Uh():b.vg&&b.vg();f=0;for(c=this.j.length;f<c;f++)if(b=this.j[f],b.global||b.ba.qk)for(d=0,h=b.c.length;d<h;d++)if(l=b.c[d],a?l.Uh&&l.Uh():l.vg&&l.vg(),l.B)for(k=
0,p=l.B.length;k<p;k++)q=l.B[k],a?q.Uh&&q.Uh():q.vg&&q.vg()};e.prototype.Cf=function(a){this.wm.add(a)};e.prototype.Tw=function(a){this.xm.add(a)};e.prototype.fp=function(a){return a&&-1!==a.Sh?this.We*a.Sh:this.Ve};e.prototype.kd=function(){this.ka.kd(this.Ea);this.Za&&this.Ea.present()};e.prototype.Ob=function(){this.wa&&(this.Xe=1,this.ka.Ue(this.k));this.ka.Ob(this.k);this.k.qw()};e.prototype.ko=function(a){a&&this.$i.push(a)};e.prototype.xw=function(a){Ca(this.$i,a)};e.prototype.kh=function(a){a=
a.toString();return this.Td.hasOwnProperty(a)?this.Td[a]:null};var H=[];e.prototype.Ke=function(a){var f,c;f=a.type.name;var b=null;if(this.Se.hasOwnProperty(f)){if(b=this.Se[f],b.contains(a))return}else b=H.length?H.pop():new ba,this.Se[f]=b;b.add(a);this.xe=!0;if(a.cc)for(f=0,c=a.siblings.length;f<c;f++)this.Ke(a.siblings[f]);this.Xl&&b.Kg.push(a);this.Wl||(this.Sc++,this.trigger(Object.getPrototypeOf(a.type.ba).d.os,a),this.Sc--)};e.prototype.ob=function(){if(this.xe){var a,f,c,b,d,h;this.Xl=!0;
c=0;for(d=this.hd.length;c<d;++c)for(a=this.hd[c],f=a.type,f.c.push(a),b=0,h=f.Fa.length;b<h;++b)f.Fa[b].c.push(a),f.Fa[b].Eg=!0;S(this.hd);this.as();Za(this.Se);this.xe=this.Xl=!1}};e.prototype.as=function(){for(var a in this.Se)this.Se.hasOwnProperty(a)&&this.Jr(this.Se[a])};e.prototype.Jr=function(a){var f=a.bd(),c=f[0].type,b,d,h,l,k,p;ab(c.c,a);c.Eg=!0;0===c.c.length&&(c.po=!1);b=0;for(d=c.Fa.length;b<d;++b)p=c.Fa[b],ab(p.c,a),p.Eg=!0;b=0;for(d=this.zd.Tb.length;b<d;++b)if(k=this.zd.Tb[b],k.Kb.hasOwnProperty(c.index)&&
ab(k.Kb[c.index].Nd,a),!c.A)for(h=0,l=c.Fa.length;h<l;++h)p=c.Fa[h],k.Kb.hasOwnProperty(p.index)&&ab(k.Kb[p.index].Nd,a);if(k=f[0].g){if(k.sc)for(h=k.c,b=0,d=h.length;b<d;++b)l=h[b],a.contains(l)&&(l.Xa(),k.kb.update(l,l.Pb,null),l.Pb.set(0,0,-1,-1));ab(k.c,a);k.ii(0)}for(b=0;b<f.length;++b)this.Ir(f[b],c);a.clear();H.push(a);this.ja=!0};e.prototype.Ir=function(a,f){var c,b,d;c=0;for(b=this.$i.length;c<b;++c)this.$i[c](a);a.se&&f.Do.update(a,a.se,null);(c=a.g)&&c.Ag(a,!0);if(a.B)for(c=0,b=a.B.length;c<
b;++c)d=a.B[c],d.Fe&&d.Fe(),d.behavior.sg.remove(a);this.pq.remove(a);this.wm.remove(a);this.xm.remove(a);a.Fe&&a.Fe();this.Td.hasOwnProperty(a.uid.toString())&&delete this.Td[a.uid.toString()];this.Rj--;100>f.Wi.length&&f.Wi.push(a)};e.prototype.jl=function(a,f,c,b){if(a.A){var d=pa(Math.random()*a.Oj.length);return this.jl(a.Oj[d],f,c,b)}return a.vc?this.te(a.vc,f,!1,c,b,!1):null};var E=[];e.prototype.te=function(a,f,c,b,d,h){var l,k,p,q;if(!a)return null;var e=this.j[a[1]],w=e.ba.ze;if(this.gg&&
w&&!e.Yl||w&&!this.k&&11===a[0][11])return null;var r=f;w||(f=null);var g;e.Wi.length?(g=e.Wi.pop(),g.Fc=!0,e.ba.U.call(g,e)):(g=new e.ba.U(e),g.Fc=!1);!c||h||this.Td.hasOwnProperty(a[2].toString())?g.uid=this.Th++:g.uid=a[2];this.Td[g.uid.toString()]=g;g.Iq=this.lq++;g.gf=e.c.length;l=0;for(k=this.hd.length;l<k;++l)this.hd[l].type===e&&g.gf++;g.nh=Fb;g.toString=Gb;p=a[3];if(g.Fc)Za(g.X);else{g.X={};if("undefined"!==typeof cr_is_preview)for(g.sp=[],g.sp.length=p.length,l=0,k=p.length;l<k;l++)g.sp[l]=
p[l][1];g.Qa=[];g.Qa.length=p.length}l=0;for(k=p.length;l<k;l++)g.Qa[l]=p[l][0];if(w){var A=a[0];g.x=ea(b)?A[0]:b;g.y=ea(d)?A[1]:d;g.z=A[2];g.width=A[3];g.height=A[4];g.depth=A[5];g.i=A[6];g.opacity=A[7];g.Fb=A[8];g.Gb=A[9];g.qb=A[10];l=A[11];!this.k&&e.J.length&&(g.qb=l);g.Zg=ib(g.qb);this.n&&jb(g,g.qb,this.n);if(g.Fc){l=0;for(k=A[12].length;l<k;l++)for(p=0,q=A[12][l].length;p<q;p++)g.Ha[l][p]=A[12][l][p];g.pb.set(0,0,0,0);g.se.set(0,0,-1,-1);g.Pb.set(0,0,-1,-1);g.Lf.pk(g.pb);S(g.$k)}else{g.Ha=A[12].slice(0);
l=0;for(k=g.Ha.length;l<k;l++)g.Ha[l]=A[12][l].slice(0);g.Z=[];g.ie=[];g.ie.length=e.J.length;g.pb=new ua(0,0,0,0);g.se=new ua(0,0,-1,-1);g.Pb=new ua(0,0,-1,-1);g.Lf=new va;g.$k=[];g.Ba=Jb;g.ky=Kb;g.lc=Lb;g.Xa=Mb;g.$w=Nb;g.Jy=Ob;g.xc=Pb}g.Vw=!1;g.Xw=0;g.Ww=0;g.Uw=null;14===A.length&&(g.Vw=!0,g.Xw=A[13][0],g.Ww=A[13][1],g.Uw=A[13][2]);l=0;for(k=e.J.length;l<k;l++)g.ie[l]=!0;g.Yd=!0;g.$c=Qb;g.$c();g.Br=!!g.Z.length;g.Zk=!0;g.dl=!0;e.oo=!0;g.visible=!0;g.Sh=-1;g.g=f;g.cd=f.c.length;g.Xe=0;"undefined"===
typeof g.gd&&(g.gd=null);this.ja=g.Yg=!0}var m;S(E);l=0;for(k=e.Fa.length;l<k;l++)E.push.apply(E,e.Fa[l].Ga);E.push.apply(E,e.Ga);if(g.Fc)for(l=0,k=E.length;l<k;l++){var n=E[l];m=g.B[l];m.Fc=!0;n.behavior.U.call(m,n,g);A=a[4][l];p=0;for(q=A.length;p<q;p++)m.F[p]=A[p];m.H();n.behavior.sg.add(g)}else for(g.B=[],l=0,k=E.length;l<k;l++)n=E[l],m=new n.behavior.U(n,g),m.Fc=!1,m.F=a[4][l].slice(0),m.H(),g.B.push(m),n.behavior.sg.add(g);A=a[5];if(g.Fc)for(l=0,k=A.length;l<k;l++)g.F[l]=A[l];else g.F=A.slice(0);
this.hd.push(g);this.xe=!0;f&&(f.Ug(g,!0),1!==f.Cc||1!==f.Dc)&&(e.po=!0);this.Rj++;if(e.cc){if(g.cc=!0,g.Fc?S(g.siblings):g.siblings=[],!c&&!h){l=0;for(k=e.Yb.length;l<k;l++)if(e.Yb[l]!==e){if(!e.Yb[l].vc)return null;g.siblings.push(this.te(e.Yb[l].vc,r,!1,w?g.x:b,w?g.y:d,!0))}l=0;for(k=g.siblings.length;l<k;l++)for(g.siblings[l].siblings.push(g),p=0;p<k;p++)l!==p&&g.siblings[l].siblings.push(g.siblings[p])}}else g.cc=!1,g.siblings=null;g.H();l=0;for(k=g.B.length;l<k;l++)g.B[l].kw&&g.B[l].kw();return g};
e.prototype.jh=function(a){var f,c;f=0;for(c=this.ka.M.length;f<c;f++){var b=this.ka.M[f];if(mb(b.name,a))return b}return null};e.prototype.Md=function(a){a=pa(a);0>a&&(a=0);a>=this.ka.M.length&&(a=this.ka.M.length-1);return this.ka.M[a]};e.prototype.gl=function(a){var f,c;f=0;for(c=a.length;f<c;f++)a[f].la().ra=!0};e.prototype.di=function(a){var f,c;f=0;for(c=a.length;f<c;f++)a[f].di()};e.prototype.Nm=function(a){var f,c;f=0;for(c=a.length;f<c;f++)a[f].Nm()};e.prototype.yg=function(a){var f,c;f=
0;for(c=a.length;f<c;f++)a[f].yg()};e.prototype.pi=function(a,f,c){var b=a.la(),d,l,h,k,p=this.Eb().Zb.Uc,q,e,w;if(b.ra)for(b.ra=!1,S(b.c),d=0,k=a.c.length;d<k;d++)h=a.c[d],h.Xa(),q=h.g.Da(f,c,!0),e=h.g.Da(f,c,!1),h.lc(q,e)?b.c.push(h):p&&b.R.push(h);else{l=0;w=p?b.R:b.c;d=0;for(k=w.length;d<k;d++)h=w[d],h.Xa(),q=h.g.Da(f,c,!0),e=h.g.Da(f,c,!1),h.lc(q,e)&&(p?b.c.push(h):(b.c[l]=b.c[d],l++));w.length=l}a.me();return b.Ml()};new va;new ua(0,0,0,0);e.prototype.tr=function(a,f){if(!f)return!1;var c,b,
d,l,h;c=0;for(b=a.Ga.length;c<b;c++)if(a.Ga[c].behavior instanceof f)return!0;if(!a.A)for(c=0,b=a.Fa.length;c<b;c++)for(h=a.Fa[c],d=0,l=h.Ga.length;d<l;d++)if(h.Ga[d].behavior instanceof f)return!0;return!1};e.prototype.ln=function(a){return this.tr(a,fc.Jx)};e.prototype.mn=function(a){return this.tr(a,fc.Kx)};var y=-1;e.prototype.trigger=function(a,f,c){if(!this.ka)return!1;var b=this.ka.$e;if(!b)return!1;var d=!1,l,h,k;y++;var p=b.pl;h=0;for(k=p.length;h<k;++h)l=this.qr(a,f,p[h],c),d=d||l;l=this.qr(a,
f,b,c);y--;return d||l};e.prototype.qr=function(a,f,c,b){var d=!1,l,h,k,p;if(f)for(k=this.jn(a,f,f.type.name,c,b),d=d||k,p=f.type.Fa,l=0,h=p.length;l<h;++l)k=this.jn(a,f,p[l].name,c,b),d=d||k;else k=this.jn(a,f,"system",c,b),d=d||k;return d};e.prototype.jn=function(a,f,c,b,d){var l,h=!1,k=!1,k="undefined"!==typeof d,p=(k?b.To:b.rr)[c];if(!p)return h;var q=null;b=0;for(l=p.length;b<l;++b)if(p[b].method==a){q=p[b].fh;break}if(!q)return h;var e;k?e=q[d]:e=q;if(!e)return null;b=0;for(l=e.length;b<l;b++)a=
e[b][0],d=e[b][1],k=this.Iu(f,c,a,d),h=h||k;return h};e.prototype.Iu=function(a,f,c,b){var d,l,h=!1;this.kn++;var k=this.Eb().Zb;k&&this.di(k.Ie);var p=1<this.kn;this.di(c.Ie);p&&this.sw();var q=this.Om(c);q.Zb=c;a&&(d=this.types[f].la(),d.ra=!1,S(d.c),d.c[0]=a,this.types[f].me());a=!0;if(c.parent){f=q.lr;for(d=c.parent;d;)f.push(d),d=d.parent;f.reverse();d=0;for(l=f.length;d<l;d++)if(!f[d].Ew()){a=!1;break}}a&&(this.cj++,c.Uc?c.Dw(b):c.Va(),h=h||q.of);this.Eq();p&&this.jw();this.yg(c.Ie);k&&this.yg(k.Ie);
this.xe&&0===this.Sc&&0===y&&!this.Zl&&this.ob();this.kn--;return h};e.prototype.cp=function(){var a=this.Eb();return a.Zb.wb[a.Xb]};e.prototype.sw=function(){this.Kj++;this.Kj>=this.om.length&&this.om.push([])};e.prototype.jw=function(){this.Kj--};e.prototype.dp=function(){return this.om[this.Kj]};e.prototype.Om=function(a){this.bj++;this.bj>=this.tl.length&&this.tl.push(new Rb);var f=this.Eb();f.reset(a);return f};e.prototype.Eq=function(){this.bj--};e.prototype.Eb=function(){return this.tl[this.bj]};
e.prototype.gp=function(a,f){for(var c,b,d,l,h,k;f;){c=0;for(b=f.Hc.length;c<b;c++)if(k=f.Hc[c],k instanceof Sb&&mb(a,k.name))return k;f=f.parent}c=0;for(b=this.Jd.length;c<b;c++)for(h=this.Jd[c],d=0,l=h.ve.length;d<l;d++)if(k=h.ve[d],k instanceof Sb&&mb(a,k.name))return k;return null};e.prototype.ip=function(a){var f,c;f=0;for(c=this.Tc.length;f<c;f++)if(this.Tc[f].V===a)return this.Tc[f];return null};e.prototype.rj=function(a){var f,c;f=0;for(c=this.j.length;f<c;f++)if(this.j[f].V===a)return this.j[f];
return null};e.prototype.Ru=function(a){var f,c;f=0;for(c=this.ke.length;f<c;f++)if(this.ke[f].V===a)return this.ke[f];return null};e.prototype.Gt=function(a,f){this.li=[a,f];this.ja=!0};e.prototype.pv=function(){var a=this,f=this.Zm,c=this.Qd,d=this.Gj,l=!1;this.fr&&(l=!0,f="__c2_continuouspreview",this.fr=!1);if(f.length){this.ob();c=this.Iw();if(m()&&!this.$b)t(f,c,function(){D("Saved state to IndexedDB storage ("+c.length+" bytes)");a.Qd=c;a.trigger(X.prototype.d.Pk,null);a.Qd="";l&&b()},function(d){try{localStorage.setItem("__c2save_"+
f,c),D("Saved state to WebStorage ("+c.length+" bytes)"),a.Qd=c,a.trigger(X.prototype.d.Pk,null),a.Qd="",l&&b()}catch(h){D("Failed to save game state: "+d+"; "+h),a.trigger(X.prototype.d.Pn,null)}});else try{localStorage.setItem("__c2save_"+f,c),D("Saved state to WebStorage ("+c.length+" bytes)"),a.Qd=c,this.trigger(X.prototype.d.Pk,null),a.Qd="",l&&b()}catch(h){D("Error saving to WebStorage: "+h),a.trigger(X.prototype.d.Pn,null)}this.Ab=this.Gj=this.Zm=""}if(d.length){if(m()&&!this.$b)r(d,function(f){f?
(a.Ab=f,D("Loaded state from IndexedDB storage ("+a.Ab.length+" bytes)")):(a.Ab=localStorage.getItem("__c2save_"+d)||"",D("Loaded state from WebStorage ("+a.Ab.length+" bytes)"));a.ni=!1;a.Ab.length||a.trigger(X.prototype.d.Mk,null)},function(){a.Ab=localStorage.getItem("__c2save_"+d)||"";D("Loaded state from WebStorage ("+a.Ab.length+" bytes)");a.ni=!1;a.Ab.length||a.trigger(X.prototype.d.Mk,null)});else{try{this.Ab=localStorage.getItem("__c2save_"+d)||"",D("Loaded state from WebStorage ("+this.Ab.length+
" bytes)")}catch(k){this.Ab=""}this.ni=!1;a.Ab.length||a.trigger(X.prototype.d.Mk,null)}this.Zm=this.Gj=""}this.Ab.length&&(this.ob(),this.Lv(this.Ab),this.Qd=this.Ab,this.trigger(X.prototype.d.zs,null),this.Ab=this.Qd="")};e.prototype.Iw=function(){var f,c,b,d,l,h,k,p={c2save:!0,version:1,rt:{time:this.ab.T,walltime:this.ee.T,timescale:this.Df,tickcount:this.si,execcount:this.cj,next_uid:this.Th,running_layout:this.ka.V,start_time_offset:Date.now()-this.rk},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};f=0;for(c=this.j.length;f<c;f++)if(l=this.j[f],!l.A&&!this.ln(l)){h={instances:[]};Ta(l.X)&&(h.ex=a(l.X));b=0;for(d=l.c.length;b<d;b++)h.instances.push(this.Ym(l.c[b]));p.types[l.V.toString()]=h}f=0;for(c=this.Tc.length;f<c;f++)b=this.Tc[f],p.layouts[b.V.toString()]=b.lb();d=p.events.groups;f=0;for(c=this.ke.length;f<c;f++)b=this.ke[f],d[b.V.toString()]=this.ph[b.oh].Wf;c=p.events.cnds;for(k in this.re)this.re.hasOwnProperty(k)&&(f=this.re[k],Ta(f.X)&&(c[k]={ex:a(f.X)}));
c=p.events.acts;for(k in this.je)this.je.hasOwnProperty(k)&&(f=this.je[k],Ta(f.X)&&(c[k]={ex:a(f.X)}));c=p.events.vars;for(k in this.Lg)this.Lg.hasOwnProperty(k)&&(f=this.Lg[k],f.Bj||f.parent&&!f.Eh||(c[k]=f.data));p.system=this.zd.lb();return JSON.stringify(p)};e.prototype.Lq=function(){var a,f,c,b,d,l;this.Td={};a=0;for(f=this.j.length;a<f;a++)if(c=this.j[a],!c.A)for(b=0,d=c.c.length;b<d;b++)l=c.c[b],this.Td[l.uid.toString()]=l};e.prototype.Lv=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.xh=
!0;var f=a.rt;this.ab.reset();this.ab.T=f.time;this.ee.reset();this.ee.T=f.walltime||0;this.Df=f.timescale;this.si=f.tickcount;this.cj=f.execcount;this.rk=Date.now()-f.start_time_offset;var c=f.running_layout;if(c!==this.ka.V)if(c=this.ip(c))this.Mo(c);else return;var b,d,l,h,k,p,q;p=a.types;for(d in p)if(p.hasOwnProperty(d)&&(h=this.rj(parseInt(d,10)))&&!h.A&&!this.ln(h)){p[d].ex?h.X=p[d].ex:Za(h.X);k=h.c;l=p[d].instances;c=0;for(b=na(k.length,l.length);c<b;c++)this.Hj(k[c],l[c]);c=l.length;for(b=
k.length;c<b;c++)this.Ke(k[c]);c=k.length;for(b=l.length;c<b;c++){k=null;if(h.ba.ze&&(k=this.ka.qj(l[c].w.l),!k))continue;k=this.te(h.vc,k,!1,0,0,!0);this.Hj(k,l[c])}h.Eg=!0}this.ob();this.Lq();b=a.layouts;for(d in b)b.hasOwnProperty(d)&&(c=this.ip(parseInt(d,10)))&&c.Ib(b[d]);b=a.events.groups;for(d in b)b.hasOwnProperty(d)&&(c=this.Ru(parseInt(d,10)))&&this.ph[c.oh]&&this.ph[c.oh].Wq(b[d]);c=a.events.cnds;for(d in this.re)this.re.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.re[d].X=c[d].ex:this.re[d].X=
{});c=a.events.acts;for(d in this.je)this.je.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.je[d].X=c[d].ex:this.je[d].X={});c=a.events.vars;for(d in c)c.hasOwnProperty(d)&&this.Lg.hasOwnProperty(d)&&(this.Lg[d].data=c[d]);this.Th=f.next_uid;this.xh=!1;c=0;for(b=this.ij.length;c<b;++c)k=this.ij[c],this.trigger(Object.getPrototypeOf(k.type.ba).d.Pg,k);S(this.ij);this.zd.Ib(a.system);c=0;for(b=this.j.length;c<b;c++)if(h=this.j[c],!h.A&&!this.ln(h))for(d=0,a=h.c.length;d<a;d++){k=h.c[d];if(h.cc)for(p=
k.nh(),S(k.siblings),f=0,l=h.Yb.length;f<l;f++)q=h.Yb[f],h!==q&&k.siblings.push(q.c[p]);k.ed&&k.ed();if(k.B)for(f=0,l=k.B.length;f<l;f++)p=k.B[f],p.ed&&p.ed()}this.ja=!0}};e.prototype.Ym=function(f,c){var b,d,l,h,k;h=f.type;l=h.ba;var p={};c?p.c2=!0:p.uid=f.uid;Ta(f.X)&&(p.ex=a(f.X));if(f.Qa&&f.Qa.length)for(p.ivs={},b=0,d=f.Qa.length;b<d;b++)p.ivs[f.type.Tl[b].toString()]=f.Qa[b];if(l.ze){l={x:f.x,y:f.y,w:f.width,h:f.height,l:f.g.V,zi:f.xc()};0!==f.i&&(l.a=f.i);1!==f.opacity&&(l.o=f.opacity);.5!==
f.Fb&&(l.hX=f.Fb);.5!==f.Gb&&(l.hY=f.Gb);0!==f.qb&&(l.bm=f.qb);f.visible||(l.v=f.visible);f.Yg||(l.ce=f.Yg);-1!==f.Sh&&(l.mts=f.Sh);if(h.J.length)for(l.fx=[],b=0,d=h.J.length;b<d;b++)k=h.J[b],l.fx.push({name:k.name,active:f.ie[k.index],params:f.Ha[k.index]});p.w=l}if(f.B&&f.B.length)for(p.behs={},b=0,d=f.B.length;b<d;b++)h=f.B[b],h.lb&&(p.behs[h.type.V.toString()]=h.lb());f.lb&&(p.data=f.lb());return p};e.prototype.Tu=function(a,f){var c,b;c=0;for(b=a.Tl.length;c<b;c++)if(a.Tl[c]===f)return c;return-1};
e.prototype.Qu=function(a,f){var c,b;c=0;for(b=a.B.length;c<b;c++)if(a.B[c].type.V===f)return c;return-1};e.prototype.Hj=function(a,f,c){var b,d,l,h,k;k=a.type;h=k.ba;if(c){if(!f.c2)return}else a.uid=f.uid;f.ex?a.X=f.ex:Za(a.X);if(d=f.ivs)for(b in d)d.hasOwnProperty(b)&&(l=this.Tu(k,parseInt(b,10)),0>l||l>=a.Qa.length||(a.Qa[l]=d[b]));if(h.ze){l=f.w;a.g.V!==l.l&&(d=a.g,a.g=this.ka.qj(l.l),a.g?(d.Ag(a,!0),a.g.Ug(a,!0),a.Ba(),a.g.ii(0)):(a.g=d,c||this.Ke(a)));a.x=l.x;a.y=l.y;a.width=l.w;a.height=l.h;
a.cd=l.zi;a.i=l.hasOwnProperty("a")?l.a:0;a.opacity=l.hasOwnProperty("o")?l.o:1;a.Fb=l.hasOwnProperty("hX")?l.hX:.5;a.Gb=l.hasOwnProperty("hY")?l.hY:.5;a.visible=l.hasOwnProperty("v")?l.v:!0;a.Yg=l.hasOwnProperty("ce")?l.ce:!0;a.Sh=l.hasOwnProperty("mts")?l.mts:-1;a.qb=l.hasOwnProperty("bm")?l.bm:0;a.Zg=ib(a.qb);this.n&&jb(a,a.qb,this.n);a.Ba();if(l.hasOwnProperty("fx"))for(c=0,d=l.fx.length;c<d;c++)h=k.El(l.fx[c].name),0>h||(a.ie[h]=l.fx[c].active,a.Ha[h]=l.fx[c].params);a.$c()}if(k=f.behs)for(b in k)k.hasOwnProperty(b)&&
(c=this.Qu(a,parseInt(b,10)),0>c||a.B[c].Ib(k[b]));f.data&&a.Ib(f.data)};e.prototype.Uo=function(a,f,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(f,c)},c)};e.prototype.Wo=function(a,f){this.Uo("data.js",function(c){var b=new FileReader;b.onload=function(f){a(f.target.result)};b.onerror=f;b.readAsText(c)},f)};var J=[],O=0;e.prototype.qm=function(){if(J.length&&!(8<=O)){O++;var a=J.shift();this.It(a.filename,a.Sw,a.fu)}};e.prototype.Vo=function(a,
f,c){var b=this;J.push({filename:a,Sw:function(a){O--;b.qm();f(a)},fu:function(a){O--;b.qm();c(a)}});this.qm()};e.prototype.It=function(a,f,c){this.Uo(a,function(a){var c=new FileReader;c.onload=function(a){f(a.target.result)};c.readAsArrayBuffer(a)},c)};e.prototype.Ju=function(a,f,c){this.Vo(a,function(a){a=URL.createObjectURL(new Blob([a]));f(a)},c)};e.prototype.wv=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};e.prototype.Xq=function(a,f){this.Ch&&
!this.wv(f)?this.Ju(f,function(f){a.src=f},function(a){alert("Failed to load image: "+a)}):a.src=f};e.prototype.lk=function(a,f){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=f:(a.webkitImageSmoothingEnabled=f,a.mozImageSmoothingEnabled=f,a.msImageSmoothingEnabled=f)};Tb=function(a){return new e(document.getElementById(a))};Ub=function(a,f){return new e({dc:!0,width:a,height:f})};window.cr_createRuntime=Tb;window.cr_createDCRuntime=Ub;window.createCocoonJSRuntime=function(){window.c2cocoonjs=
!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Kf=!0;document.body.appendChild(a);a=new e(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new e(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a}})();window.cr_getC2Runtime=function(){var e=document.getElementById("c2canvas");return e?e.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(e,n){var m=window.cr_getC2Runtime();m&&m.Gt(e,n)};window.cr_sizeCanvas=function(e,n){if(0!==e&&0!==n){var m=window.cr_getC2Runtime();m&&m.setSize(e,n)}};window.cr_setSuspended=function(e){var n=window.cr_getC2Runtime();n&&n.setSuspended(e)};
(function(){function e(a,c){this.b=a;this.$e=null;this.scrollX=this.b.Ta/2;this.scrollY=this.b.Sa/2;this.scale=1;this.i=0;this.Uf=!0;this.name=c[0];this.fw=c[1];this.ew=c[2];this.width=c[1];this.height=c[2];this.ur=c[3];this.dr=c[4];this.V=c[5];var b=c[6],d,q;this.M=[];this.sh=[];d=0;for(q=b.length;d<q;d++){var p=new Vb(this,b[d]);p.nq=d;this.M.push(p)}b=c[7];this.hf=[];d=0;for(q=b.length;d<q;d++){var p=b[d],e=this.b.j[p[1]];e.vc||(e.vc=p);this.hf.push(p);-1===this.sh.indexOf(e)&&this.sh.push(e)}this.J=
[];this.Z=[];this.Yd=!0;this.Ha=[];d=0;for(q=c[8].length;d<q;d++)this.J.push({id:c[8][d][0],name:c[8][d][1],Oa:-1,Ec:!1,jc:!0,index:d}),this.Ha.push(c[8][d][2].slice(0));this.$c();this.fi=new ua(0,0,1,1);this.Qm=new ua(0,0,1,1);this.Ge={}}function n(a,c){return a.cd-c.cd}function m(a,c){this.bb=a;this.b=a.b;this.c=[];this.scale=1;this.i=0;this.Id=!1;this.ae=new ua(0,0,0,0);this.or=new va;this.ta=this.na=this.ua=this.ma=0;this.Ff=!1;this.fe=-1;this.hl=0;this.name=c[0];this.index=c[1];this.V=c[2];this.visible=
c[3];this.Nc=c[4];this.Zc=c[5];this.Cc=c[6];this.Dc=c[7];this.opacity=c[8];this.lj=c[9];this.sc=c[10];this.Ub=c[11];this.qb=c[12];this.bu=c[13];this.Zg="source-over";this.xb=this.Bb=0;this.kb=null;this.Rd=g();this.Yc=!0;this.kg=new ua(0,0,-1,-1);this.fb=new ua(0,0,-1,-1);this.sc&&(this.kb=new hb(this.b.Ta,this.b.Sa));this.wd=!1;var b=c[14],d,q;this.jr=[];this.pc=[];this.bh=[];d=0;for(q=b.length;d<q;d++){var p=b[d],e=this.b.j[p[1]];e.vc||(e.vc=p,e.Et=this.index);this.pc.push(p);-1===this.bb.sh.indexOf(e)&&
this.bb.sh.push(e)}za(this.jr,this.pc);this.J=[];this.Z=[];this.Yd=!0;this.Ha=[];d=0;for(q=c[15].length;d<q;d++)this.J.push({id:c[15][d][0],name:c[15][d][1],Oa:-1,Ec:!1,jc:!0,index:d}),this.Ha.push(c[15][d][2].slice(0));this.$c();this.fi=new ua(0,0,1,1);this.Qm=new ua(0,0,1,1)}function g(){return a.length?a.pop():[]}function t(f){S(f);a.push(f)}e.prototype.Hw=function(a){var c=a.type.V.toString();this.Ge.hasOwnProperty(c)||(this.Ge[c]=[]);this.Ge[c].push(this.b.Ym(a))};e.prototype.lp=function(){var a=
this.M[0];return!a.Zc&&1===a.opacity&&!a.lj&&a.visible};e.prototype.$c=function(){S(this.Z);this.Yd=!0;var a,c,b;a=0;for(c=this.J.length;a<c;a++)b=this.J[a],b.jc&&(this.Z.push(b),b.Ec||(this.Yd=!1))};e.prototype.Dl=function(a){var c,b,d;c=0;for(b=this.J.length;c<b;c++)if(d=this.J[c],d.name===a)return d;return null};var r=[],b=!0;e.prototype.cn=function(){this.dr&&(this.$e=this.b.ul[this.dr],this.$e.nn());this.b.ka=this;this.width=this.fw;this.height=this.ew;this.scrollX=this.b.Ta/2;this.scrollY=this.b.Sa/
2;var a,c,d,h,q,p,e;a=0;for(d=this.b.j.length;a<d;a++)if(c=this.b.j[a],!c.A)for(q=c.c,c=0,h=q.length;c<h;c++)if(p=q[c],p.g){var l=p.g.nq;l>=this.M.length&&(l=this.M.length-1);p.g=this.M[l];-1===p.g.c.indexOf(p)&&p.g.c.push(p);p.g.Ff=!0}if(!b)for(a=0,d=this.M.length;a<d;++a)this.M[a].c.sort(n);S(r);this.tt();a=0;for(d=this.M.length;a<d;a++)p=this.M[a],p.Dt(),p.Hk();q=!1;if(!this.Uf){for(e in this.Ge)if(this.Ge.hasOwnProperty(e)&&(c=this.b.rj(parseInt(e,10)))&&!c.A&&this.b.mn(c)){h=this.Ge[e];a=0;for(d=
h.length;a<d;a++){p=null;if(c.ba.ze&&(p=this.qj(h[a].w.l),!p))continue;p=this.b.te(c.vc,p,!1,0,0,!0);this.b.Hj(p,h[a]);q=!0;r.push(p)}S(h)}a=0;for(d=this.M.length;a<d;a++)this.M[a].c.sort(n),this.M[a].Ff=!0}q&&(this.b.ob(),this.b.Lq());for(a=0;a<r.length;a++)if(p=r[a],p.type.cc)for(d=p.nh(),c=0,h=p.type.Yb.length;c<h;c++)e=p.type.Yb[c],p.type!==e&&(e.c.length>d?p.siblings.push(e.c[d]):e.vc&&(q=this.b.te(e.vc,p.g,!0,p.x,p.y,!0),this.b.ob(),e.Fk(),p.siblings.push(q),r.push(q)));a=0;for(d=this.hf.length;a<
d;a++)this.b.te(this.hf[a],null,!0);this.b.Qe=null;this.b.ob();if(this.b.Ea&&!this.b.O)for(a=0,d=this.b.j.length;a<d;a++)e=this.b.j[a],!e.A&&e.c.length&&e.ek&&e.ek(this.b.Ea);if(this.b.xh)za(this.b.ij,r);else for(a=0,d=r.length;a<d;a++)p=r[a],this.b.trigger(Object.getPrototypeOf(p.type.ba).d.Pg,p);S(r);this.b.xh||this.b.trigger(X.prototype.d.Hn,null);this.Uf=!1};e.prototype.Ct=function(){var a,c,b,d,q;c=a=0;for(b=this.hf.length;a<b;a++)d=this.hf[a],q=this.b.j[d[1]],q.global?q.cc||this.b.te(d,null,
!0):(this.hf[c]=d,c++);ya(this.hf,c)};e.prototype.Rw=function(){this.b.xh||this.b.trigger(X.prototype.d.Gn,null);this.b.Wl=!0;S(this.b.zd.Tb);var a,c,d,h,q,p;if(!this.Uf)for(a=0,c=this.M.length;a<c;a++)for(this.M[a].qn(),q=this.M[a].c,d=0,h=q.length;d<h;d++)p=q[d],p.type.global||this.b.mn(p.type)&&this.Hw(p);a=0;for(c=this.M.length;a<c;a++){q=this.M[a].c;d=0;for(h=q.length;d<h;d++)p=q[d],p.type.global||this.b.Ke(p);this.b.ob();S(q);this.M[a].Ff=!0}a=0;for(c=this.b.j.length;a<c;a++)if(q=this.b.j[a],
!(q.global||q.ba.ze||q.ba.qk||q.A)){d=0;for(h=q.c.length;d<h;d++)this.b.Ke(q.c[d]);this.b.ob()}b=!1;this.b.Wl=!1};new ua(0,0,0,0);e.prototype.kd=function(a){var c,b=a,d=!1,q=!this.b.mc;q&&(this.b.Fj||(this.b.Fj=document.createElement("canvas"),c=this.b.Fj,c.width=this.b.D,c.height=this.b.C,this.b.Mp=c.getContext("2d"),d=!0),c=this.b.Fj,b=this.b.Mp,c.width!==this.b.D&&(c.width=this.b.D,d=!0),c.height!==this.b.C&&(c.height=this.b.C,d=!0),d&&this.b.lk(b,this.b.Aa));b.globalAlpha=1;b.globalCompositeOperation=
"source-over";this.b.Uk&&!this.lp()&&b.clearRect(0,0,this.b.D,this.b.C);var p,e,d=0;for(p=this.M.length;d<p;d++)e=this.M[d],e.visible&&0<e.opacity&&11!==e.qb&&(e.c.length||!e.Zc)?e.kd(b):e.Hk();q&&a.drawImage(c,0,0,this.b.width,this.b.height)};e.prototype.Ue=function(a){a.Vq(!0);this.b.Ma||(this.b.Ma=a.uc(this.b.D,this.b.C,this.b.Aa));if(this.b.Ma.Pe!==this.b.D||this.b.Ma.Oe!==this.b.C)a.deleteTexture(this.b.Ma),this.b.Ma=a.uc(this.b.D,this.b.C,this.b.Aa);a.Gc(this.b.Ma);this.b.mc||a.zf(this.b.D,
this.b.C);var c,b;for(c=this.M.length-1;0<=c;--c)b=this.M[c],b.visible&&1===b.opacity&&b.Yd&&0===b.qb&&(b.c.length||!b.Zc)?b.Ue(a):b.Hk();a.Vq(!1)};e.prototype.Ob=function(a){var c=0<this.Z.length||this.b.Jg||!this.b.mc||this.b.wa;if(c){this.b.Ma||(this.b.Ma=a.uc(this.b.D,this.b.C,this.b.Aa));if(this.b.Ma.Pe!==this.b.D||this.b.Ma.Oe!==this.b.C)a.deleteTexture(this.b.Ma),this.b.Ma=a.uc(this.b.D,this.b.C,this.b.Aa);a.Gc(this.b.Ma);this.b.mc||a.zf(this.b.D,this.b.C)}else this.b.Ma&&(a.Gc(null),a.deleteTexture(this.b.Ma),
this.b.Ma=null);this.b.Uk&&!this.lp()&&a.clear(0,0,0,0);var b,d,q;b=0;for(d=this.M.length;b<d;b++)q=this.M[b],q.visible&&0<q.opacity&&(q.c.length||!q.Zc)?q.Ob(a):q.Hk();c&&(0===this.Z.length||1===this.Z.length&&this.b.mc?(1===this.Z.length?(c=this.Z[0].index,a.Sb(this.Z[0].Oa),a.Cg(null,1/this.b.D,1/this.b.C,0,0,1,1,this.scale,this.i,0,0,this.b.D/2,this.b.C/2,this.b.ab.T,this.Ha[c]),a.fk(this.Z[0].Oa)&&(this.b.ja=!0)):a.Sb(0),this.b.mc||a.zf(this.b.width,this.b.height),a.Gc(null),a.Tq(!1),a.yf(1),
a.ic(this.b.Ma),a.Rq(),a.xd(),a.ad(),c=this.b.width/2,b=this.b.height/2,a.ei(-c,b,c,b,c,-b,-c,-b),a.ic(null),a.Tq(!0)):this.Rm(a,null,null,null))};e.prototype.mh=function(){return 0<this.Z.length||this.b.Jg||!this.b.mc||this.b.wa?this.b.Ma:null};e.prototype.jp=function(){var a=this.M[0].oc(),c,b,d;c=1;for(b=this.M.length;c<b;c++)d=this.M[c],(0!==d.Cc||0!==d.Dc)&&d.oc()<a&&(a=d.oc());return a};e.prototype.Pq=function(a){if(!this.ur){var c=1/this.jp()*this.b.D/2;a>this.width-c&&(a=this.width-c);a<c&&
(a=c)}this.scrollX!==a&&(this.scrollX=a,this.b.ja=!0)};e.prototype.Qq=function(a){if(!this.ur){var c=1/this.jp()*this.b.C/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.b.ja=!0)};e.prototype.tt=function(){this.Pq(this.scrollX);this.Qq(this.scrollY)};e.prototype.Rm=function(a,c,b,d){var q=b?b.Z:c?c.Z:this.Z,p=1,e=0,l=0,w=0,g=this.b.D,r=this.b.C;b?(p=b.g.oc(),e=b.g.hb(),l=b.g.ma,w=b.g.na,g=b.g.ua,r=b.g.ta):c&&(p=c.oc(),e=c.hb(),l=c.ma,w=c.na,g=c.ua,r=c.ta);var m=
this.b.Al,n,v,t,E,y=0,J=1,O,u,Q=this.b.D,L=this.b.C,z=Q/2,M=L/2,B=c?c.fi:this.fi,G=c?c.Qm:this.Qm,P=0,R=0,F=0,N=0,T=Q,ia=Q,U=L,sa=L,ja=t=0;E=b?b.g.hb():0;if(b){n=0;for(v=q.length;n<v;n++)t+=a.Xu(q[n].Oa),ja+=a.Yu(q[n].Oa);N=b.pb;P=c.Hb(N.left,N.top,!0,!0);F=c.Hb(N.left,N.top,!1,!0);T=c.Hb(N.right,N.bottom,!0,!0);U=c.Hb(N.right,N.bottom,!1,!0);0!==E&&(n=c.Hb(N.right,N.top,!0,!0),v=c.Hb(N.right,N.top,!1,!0),R=c.Hb(N.left,N.bottom,!0,!0),N=c.Hb(N.left,N.bottom,!1,!0),E=Math.min(P,T,n,R),T=Math.max(P,
T,n,R),P=E,E=Math.min(F,U,v,N),U=Math.max(F,U,v,N),F=E);P-=t;F-=ja;T+=t;U+=ja;G.left=P/Q;G.top=1-F/L;G.right=T/Q;G.bottom=1-U/L;R=P=pa(P);N=F=pa(F);ia=T=ra(T);sa=U=ra(U);R-=t;N-=ja;ia+=t;sa+=ja;0>P&&(P=0);0>F&&(F=0);T>Q&&(T=Q);U>L&&(U=L);0>R&&(R=0);0>N&&(N=0);ia>Q&&(ia=Q);sa>L&&(sa=L);B.left=P/Q;B.top=1-F/L;B.right=T/Q;B.bottom=1-U/L}else B.left=G.left=0,B.top=G.top=0,B.right=G.right=1,B.bottom=G.bottom=1;ja=b&&(a.ci(q[0].Oa)||0!==t||0!==ja||1!==b.opacity||b.type.ba.iq)||c&&!b&&1!==c.opacity;a.Rq();
if(ja){m[y]||(m[y]=a.uc(Q,L,this.b.Aa));if(m[y].Pe!==Q||m[y].Oe!==L)a.deleteTexture(m[y]),m[y]=a.uc(Q,L,this.b.Aa);a.Sb(0);a.Gc(m[y]);u=sa-N;a.clearRect(R,L-N-u,ia-R,u);b?b.Ob(a):(a.ic(this.b.Ra),a.yf(c.opacity),a.xd(),a.translate(-z,-M),a.ad(),a.vd(P,U,T,U,T,F,P,F,B));G.left=G.top=0;G.right=G.bottom=1;b&&(E=B.top,B.top=B.bottom,B.bottom=E);y=1;J=0}a.yf(1);t=q.length-1;var Ja=a.Mm(q[t].Oa)||!c&&!b&&!this.b.mc;n=E=0;for(v=q.length;n<v;n++){m[y]||(m[y]=a.uc(Q,L,this.b.Aa));if(m[y].Pe!==Q||m[y].Oe!==
L)a.deleteTexture(m[y]),m[y]=a.uc(Q,L,this.b.Aa);a.Sb(q[n].Oa);E=q[n].index;a.fk(q[n].Oa)&&(this.b.ja=!0);0!=n||ja?(a.Cg(d,1/Q,1/L,G.left,G.top,G.right,G.bottom,p,e,l,w,(l+g)/2,(w+r)/2,this.b.ab.T,b?b.Ha[E]:c?c.Ha[E]:this.Ha[E]),a.ic(null),n!==t||Ja?(a.Gc(m[y]),u=sa-N,O=L-N-u,a.clearRect(R,O,ia-R,u)):(b?a.He(b.Bb,b.xb):c&&a.He(c.Bb,c.xb),a.Gc(d)),a.ic(m[J]),a.xd(),a.translate(-z,-M),a.ad(),a.vd(P,U,T,U,T,F,P,F,B),n!==t||Ja||a.ic(null)):(a.Gc(m[y]),u=sa-N,O=L-N-u,a.clearRect(R,O,ia-R,u),b?(b.Ya&&b.Ya.u?
(O=b.Ya.u,J=1/O.width,O=1/O.height):(J=1/b.width,O=1/b.height),a.Cg(d,J,O,G.left,G.top,G.right,G.bottom,p,e,l,w,(l+g)/2,(w+r)/2,this.b.ab.T,b.Ha[E]),b.Ob(a)):(a.Cg(d,1/Q,1/L,0,0,1,1,p,e,l,w,(l+g)/2,(w+r)/2,this.b.ab.T,c?c.Ha[E]:this.Ha[E]),a.ic(c?this.b.Ra:this.b.Ma),a.xd(),a.translate(-z,-M),a.ad(),a.vd(P,U,T,U,T,F,P,F,B)),G.left=G.top=0,G.right=G.bottom=1,b&&!Ja&&(E=U,U=F,F=E));y=0===y?1:0;J=0===y?1:0}Ja&&(a.Sb(0),b?a.He(b.Bb,b.xb):c?a.He(c.Bb,c.xb):this.b.mc||(a.zf(this.b.width,this.b.height),
z=this.b.width/2,M=this.b.height/2,F=P=0,T=this.b.width,U=this.b.height),a.Gc(d),a.ic(m[J]),a.xd(),a.translate(-z,-M),a.ad(),b&&1===q.length&&!ja?a.vd(P,F,T,F,T,U,P,U,B):a.vd(P,U,T,U,T,F,P,F,B),a.ic(null))};e.prototype.qj=function(a){var c,b;c=0;for(b=this.M.length;c<b;c++)if(this.M[c].V===a)return this.M[c];return null};e.prototype.lb=function(){var a,c,b,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.Uf,persist:this.Ge,fx:[],layers:{}};a=0;for(c=this.J.length;a<
c;a++)b=this.J[a],d.fx.push({name:b.name,active:b.jc,params:this.Ha[b.index]});a=0;for(c=this.M.length;a<c;a++)b=this.M[a],d.layers[b.V.toString()]=b.lb();return d};e.prototype.Ib=function(a){var c,b,d,q;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.Ge=a.persist;"undefined"!==typeof a.fv&&(this.Uf=a.fv);var p=a.fx;c=0;for(b=p.length;c<b;c++)if(d=this.Dl(p[c].name))d.jc=p[c].active,this.Ha[d.index]=p[c].params;this.$c();c=a.layers;for(q in c)c.hasOwnProperty(q)&&
(a=this.qj(parseInt(q,10)))&&a.Ib(c[q])};Hb=e;m.prototype.$c=function(){S(this.Z);this.Yd=!0;var a,c,b;a=0;for(c=this.J.length;a<c;a++)b=this.J[a],b.jc&&(this.Z.push(b),b.Ec||(this.Yd=!1))};m.prototype.Dl=function(a){var c,b,d;c=0;for(b=this.J.length;c<b;c++)if(d=this.J[c],d.name===a)return d;return null};m.prototype.Dt=function(){var a,c,b,d,q,p;c=a=0;for(b=this.pc.length;a<b;a++){d=this.pc[a];q=this.b.j[d[1]];p=this.b.mn(q);q=!0;if(!p||this.bb.Uf){d=this.b.te(d,this,!0);if(!d)continue;r.push(d);
d.type.global&&(q=!1,this.bh.push(d.uid))}q&&(this.pc[c]=this.pc[a],c++)}this.pc.length=c;this.b.ob();!this.b.k&&this.J.length&&(this.qb=this.bu);this.Zg=ib(this.qb);this.b.n&&jb(this,this.qb,this.b.n);this.Yc=!0};m.prototype.Ag=function(a,c){var b=Ba(this.c,a);0>b||(c&&this.sc&&a.Pb&&a.Pb.right>=a.Pb.left&&(a.Xa(),this.kb.update(a,a.Pb,null),a.Pb.set(0,0,-1,-1)),b===this.c.length-1?this.c.pop():(xa(this.c,b),this.ii(b)),this.Yc=!0)};m.prototype.Ug=function(a,c){a.cd=this.c.length;this.c.push(a);
c&&this.sc&&a.Pb&&a.Ba();this.Yc=!0};m.prototype.pw=function(a){this.c.unshift(a);this.ii(0)};m.prototype.Qv=function(a,c,b){var d=a.xc();c=c.xc();xa(this.c,d);d<c&&c--;b&&c++;c===this.c.length?this.c.push(a):this.c.splice(c,0,a);this.ii(d<c?d:c)};m.prototype.ii=function(a){-1===this.fe?this.fe=a:a<this.fe&&(this.fe=a);this.Yc=this.Ff=!0};m.prototype.qn=function(){if(this.Ff){-1===this.fe&&(this.fe=0);var a,c,b;if(this.sc)for(a=this.fe,c=this.c.length;a<c;++a)b=this.c[a],b.cd=a,this.kb.Nv(b.Pb);else for(a=
this.fe,c=this.c.length;a<c;++a)this.c[a].cd=a;this.Ff=!1;this.fe=-1}};m.prototype.oc=function(a){return this.Uu()*(this.b.mc||a?this.b.Vg:1)};m.prototype.Uu=function(){return(this.scale*this.bb.scale-1)*this.Ub+1};m.prototype.hb=function(){return this.Id?0:Ha(this.bb.i+this.i)};var a=[],v=[],d=[];m.prototype.Il=function(){this.qn();this.kb.Jq(this.ma,this.na,this.ua,this.ta,d);if(!d.length)return g();if(1===d.length){var a=g();za(a,d[0]);S(d);return a}for(var c=!0;1<d.length;){for(var a=d,b=void 0,
h=void 0,q=void 0,p=void 0,e=void 0,b=0,h=a.length;b<h-1;b+=2){var q=a[b],p=a[b+1],e=g(),l=q,w=p,r=e,m=0,n=0,K=0,I=l.length,H=w.length,E=void 0,y=void 0;for(r.length=I+H;m<I&&n<H;++K)E=l[m],y=w[n],E.cd<y.cd?(r[K]=E,++m):(r[K]=y,++n);for(;m<I;++m,++K)r[K]=l[m];for(;n<H;++n,++K)r[K]=w[n];c||(t(q),t(p));v.push(e)}1===h%2&&(c?(q=g(),za(q,a[h-1]),v.push(q)):v.push(a[h-1]));za(a,v);S(v);c=!1}a=d[0];S(d);return a};m.prototype.kd=function(a){this.wd=this.lj||1!==this.opacity||0!==this.qb;var c=this.b.canvas,
b=a,d=!1;this.wd&&(this.b.Ej||(this.b.Ej=document.createElement("canvas"),c=this.b.Ej,c.width=this.b.D,c.height=this.b.C,this.b.Lp=c.getContext("2d"),d=!0),c=this.b.Ej,b=this.b.Lp,c.width!==this.b.D&&(c.width=this.b.D,d=!0),c.height!==this.b.C&&(c.height=this.b.C,d=!0),d&&this.b.lk(b,this.b.Aa),this.Zc&&b.clearRect(0,0,this.b.D,this.b.C));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.Zc||(b.fillStyle="rgb("+this.Nc[0]+","+this.Nc[1]+","+this.Nc[2]+")",b.fillRect(0,0,this.b.D,this.b.C));
b.save();this.Id=!0;var d=this.Da(0,0,!0,!0),q=this.Da(0,0,!1,!0);this.Id=!1;this.b.Wc&&(d=Math.round(d),q=Math.round(q));this.ik(d,q,b);var p=this.oc();b.scale(p,p);b.translate(-d,-q);this.sc?(this.fb.left=this.kb.Mb(this.ma),this.fb.top=this.kb.Nb(this.na),this.fb.right=this.kb.Mb(this.ua),this.fb.bottom=this.kb.Nb(this.ta),this.Yc||!this.fb.eh(this.kg)?(t(this.Rd),d=this.Il(),this.Yc=!1,this.kg.$g(this.fb)):d=this.Rd):d=this.c;for(var e,l=null,q=0,p=d.length;q<p;++q)e=d[q],e!==l&&(this.Xt(e,b),
l=e);this.sc&&(this.Rd=d);b.restore();this.wd&&(a.globalCompositeOperation=this.Zg,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};m.prototype.Xt=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Xa();var b=a.pb;b.right<this.ma||b.bottom<this.na||b.left>this.ua||b.top>this.ta||(c.globalCompositeOperation=a.Zg,a.kd(c))}};m.prototype.Hk=function(){this.Id=!0;var a=this.Da(0,0,!0,!0),c=this.Da(0,0,!1,!0);this.Id=!1;this.b.Wc&&(a=Math.round(a),c=Math.round(c));this.ik(a,c,null)};m.prototype.ik=
function(a,c,b){var d=this.oc();this.ma=a;this.na=c;this.ua=a+1/d*this.b.D;this.ta=c+1/d*this.b.C;this.ma>this.ua&&(a=this.ma,this.ma=this.ua,this.ua=a);this.na>this.ta&&(a=this.na,this.na=this.ta,this.ta=a);a=this.hb();0!==a&&(b&&(b.translate(this.b.D/2,this.b.C/2),b.rotate(-a),b.translate(this.b.D/-2,this.b.C/-2)),this.ae.set(this.ma,this.na,this.ua,this.ta),this.ae.offset((this.ma+this.ua)/-2,(this.na+this.ta)/-2),this.or.br(this.ae,a),this.or.xo(this.ae),this.ae.offset((this.ma+this.ua)/2,(this.na+
this.ta)/2),this.ma=this.ae.left,this.na=this.ae.top,this.ua=this.ae.right,this.ta=this.ae.bottom)};m.prototype.Ue=function(a){if(this.wd=this.lj){this.b.Ra||(this.b.Ra=a.uc(this.b.D,this.b.C,this.b.Aa));if(this.b.Ra.Pe!==this.b.D||this.b.Ra.Oe!==this.b.C)a.deleteTexture(this.b.Ra),this.b.Ra=a.uc(this.b.D,this.b.C,this.b.Aa);a.Gc(this.b.Ra)}this.Id=!0;var c=this.Da(0,0,!0,!0),b=this.Da(0,0,!1,!0);this.Id=!1;this.b.Wc&&(c=Math.round(c),b=Math.round(b));this.ik(c,b,null);c=this.oc();a.xd();a.scale(c,
c);a.Um(-this.hb());a.translate((this.ma+this.ua)/-2,(this.na+this.ta)/-2);a.ad();this.sc?(this.fb.left=this.kb.Mb(this.ma),this.fb.top=this.kb.Nb(this.na),this.fb.right=this.kb.Mb(this.ua),this.fb.bottom=this.kb.Nb(this.ta),this.Yc||!this.fb.eh(this.kg)?(t(this.Rd),c=this.Il(),this.Yc=!1,this.kg.$g(this.fb)):c=this.Rd):c=this.c;for(var d,q=null,b=c.length-1;0<=b;--b)d=c[b],d!==q&&(this.Zt(c[b],a),q=d);this.sc&&(this.Rd=c);this.Zc||(this.hl=this.b.Xe++,a.mk(this.hl),a.Sq(1,1,1),a.Zo(),a.zw())};m.prototype.Ob=
function(a){var b=0,d=0;if(this.wd=this.lj||1!==this.opacity||0<this.Z.length||0!==this.qb){this.b.Ra||(this.b.Ra=a.uc(this.b.D,this.b.C,this.b.Aa));if(this.b.Ra.Pe!==this.b.D||this.b.Ra.Oe!==this.b.C)a.deleteTexture(this.b.Ra),this.b.Ra=a.uc(this.b.D,this.b.C,this.b.Aa);a.Gc(this.b.Ra);this.Zc&&a.clear(0,0,0,0)}this.Zc||(this.b.wa?(a.mk(this.hl),a.Sq(this.Nc[0]/255,this.Nc[1]/255,this.Nc[2]/255),a.Zo(),a.Nw()):a.clear(this.Nc[0]/255,this.Nc[1]/255,this.Nc[2]/255,1));this.Id=!0;var h=this.Da(0,0,
!0,!0),b=this.Da(0,0,!1,!0);this.Id=!1;this.b.Wc&&(h=Math.round(h),b=Math.round(b));this.ik(h,b,null);h=this.oc();a.xd();a.scale(h,h);a.Um(-this.hb());a.translate((this.ma+this.ua)/-2,(this.na+this.ta)/-2);a.ad();this.sc?(this.fb.left=this.kb.Mb(this.ma),this.fb.top=this.kb.Nb(this.na),this.fb.right=this.kb.Mb(this.ua),this.fb.bottom=this.kb.Nb(this.ta),this.Yc||!this.fb.eh(this.kg)?(t(this.Rd),b=this.Il(),this.Yc=!1,this.kg.$g(this.fb)):b=this.Rd):b=this.c;var q,p,e=null,d=0;for(q=b.length;d<q;++d)p=
b[d],p!==e&&(this.Yt(b[d],a),e=p);this.sc&&(this.Rd=b);this.wd&&(b=this.Z.length?this.Z[0].Oa:0,d=this.Z.length?this.Z[0].index:0,0===this.Z.length||1===this.Z.length&&!a.Mm(b)&&1===this.opacity?(1===this.Z.length?(a.Sb(b),a.Cg(this.bb.mh(),1/this.b.D,1/this.b.C,0,0,1,1,h,this.hb(),this.ma,this.na,(this.ma+this.ua)/2,(this.na+this.ta)/2,this.b.ab.T,this.Ha[d]),a.fk(b)&&(this.b.ja=!0)):a.Sb(0),a.Gc(this.bb.mh()),a.yf(this.opacity),a.ic(this.b.Ra),a.He(this.Bb,this.xb),a.xd(),a.ad(),h=this.b.D/2,b=
this.b.C/2,a.ei(-h,b,h,b,h,-b,-h,-b),a.ic(null)):this.bb.Rm(a,this,null,this.bb.mh()))};m.prototype.Yt=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Xa();var d=a.pb;d.right<this.ma||d.bottom<this.na||d.left>this.ua||d.top>this.ta||(b.mk(a.Xe),a.Br?this.$t(a,b):(b.Sb(0),b.He(a.Bb,a.xb),a.Ob(b)))}};m.prototype.Zt=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Xa();var d=a.pb;d.right<this.ma||d.bottom<this.na||d.left>this.ua||d.top>this.ta||(a.Xe=this.b.Xe++,0===a.qb&&1===a.opacity&&
a.Yd&&a.Ue&&(b.mk(a.Xe),a.Ue(b)))}};m.prototype.$t=function(a,b){var d=a.Z[0].Oa,h=a.Z[0].index,q=this.oc();if(1!==a.Z.length||b.Mm(d)||b.rw(d)||(a.i||a.g.hb())&&b.ci(d)||1!==a.opacity||a.type.ba.iq)this.bb.Rm(b,this,a,this.wd?this.b.Ra:this.bb.mh()),b.xd(),b.scale(q,q),b.Um(-this.hb()),b.translate((this.ma+this.ua)/-2,(this.na+this.ta)/-2),b.ad();else{b.Sb(d);b.He(a.Bb,a.xb);b.fk(d)&&(this.b.ja=!0);var p=0,e=0,l=0,w=0;b.ci(d)&&(w=a.pb,p=this.Hb(w.left,w.top,!0,!0),e=this.Hb(w.left,w.top,!1,!0),l=
this.Hb(w.right,w.bottom,!0,!0),w=this.Hb(w.right,w.bottom,!1,!0),p=p/windowWidth,e=1-e/windowHeight,l=l/windowWidth,w=1-w/windowHeight);var g;a.Ya&&a.Ya.u?(g=a.Ya.u,d=1/g.width,g=1/g.height):(d=1/a.width,g=1/a.height);b.Cg(this.wd?this.b.Ra:this.bb.mh(),d,g,p,e,l,w,q,this.hb(),this.ma,this.na,(this.ma+this.ua)/2,(this.na+this.ta)/2,this.b.ab.T,a.Ha[h]);a.Ob(b)}};m.prototype.Da=function(a,b,d,h){var q=this.b.devicePixelRatio;this.b.lf&&(a*=q,b*=q);var q=this.b.zq,p=this.b.Aq,q=(this.bb.scrollX-q)*
this.Cc+q,p=(this.bb.scrollY-p)*this.Dc+p,e=q,l=p,w=1/this.oc(!h);h?(e-=this.b.D*w/2,l-=this.b.C*w/2):(e-=this.b.width*w/2,l-=this.b.height*w/2);e+=a*w;l+=b*w;b=this.hb();0!==b&&(e-=q,l-=p,a=Math.cos(b),b=Math.sin(b),h=e*a-l*b,l=l*a+e*b,e=h+q,l+=p);return d?e:l};m.prototype.Hb=function(a,b,d,h){var q=this.b.zq,p=this.b.Aq,e=(this.bb.scrollX-q)*this.Cc+q,l=(this.bb.scrollY-p)*this.Dc+p,p=e,q=l,w=this.hb();if(0!==w){a-=e;b-=l;var g=Math.cos(-w),w=Math.sin(-w),r=a*g-b*w;b=b*g+a*w;a=r+e;b+=l}e=1/this.oc(!h);
h?(p-=this.b.D*e/2,q-=this.b.C*e/2):(p-=this.b.width*e/2,q-=this.b.height*e/2);p=(a-p)/e;q=(b-q)/e;a=this.b.devicePixelRatio;this.b.lf&&!h&&(p/=a,q/=a);return d?p:q};m.prototype.lb=function(){var a,b,d,h={s:this.scale,a:this.i,vl:this.ma,vt:this.na,vr:this.ua,vb:this.ta,v:this.visible,bc:this.Nc,t:this.Zc,px:this.Cc,py:this.Dc,o:this.opacity,zr:this.Ub,fx:[],cg:this.bh,instances:[]};a=0;for(b=this.J.length;a<b;a++)d=this.J[a],h.fx.push({name:d.name,active:d.jc,params:this.Ha[d.index]});return h};
m.prototype.Ib=function(a){var b,d,h;this.scale=a.s;this.i=a.a;this.ma=a.vl;this.na=a.vt;this.ua=a.vr;this.ta=a.vb;this.visible=a.v;this.Nc=a.bc;this.Zc=a.t;this.Cc=a.px;this.Dc=a.py;this.opacity=a.o;this.Ub=a.zr;this.bh=a.cg||[];za(this.pc,this.jr);var q=new ba;b=0;for(h=this.bh.length;b<h;++b)q.add(this.bh[b]);d=b=0;for(h=this.pc.length;b<h;++b)q.contains(this.pc[b][2])||(this.pc[d]=this.pc[b],++d);ya(this.pc,d);d=a.fx;b=0;for(h=d.length;b<h;b++)if(a=this.Dl(d[b].name))a.jc=d[b].active,this.Ha[a.index]=
d[b].params;this.$c();this.c.sort(n);this.Ff=!0};Vb=m})();
(function(){function e(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function n(a,b){return a.index-b.index}function m(a){var b,c,d,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(n);a.length>=q.length&&(q.length=a.length+1);q[a.length]||(q[a.length]=[]);f=q[a.length];b=0;for(c=f.length;b<c;b++)if(d=f[b],e(a,d))return d;f.push(a);return a}
function g(a,b){this.b=a;this.rr={};this.To={};this.Nl=!1;this.op=new ba;this.pl=[];this.Vk=[];this.name=b[0];var c=b[1];this.ve=[];var d,f;d=0;for(f=c.length;d<f;d++)this.qp(c[d],null,this.ve)}function t(a){this.type=a;this.c=[];this.R=[];this.ra=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ca=[];this.Ie=[];this.mp=this.Ak=this.hn=this.xj=this.group=this.ir=!1;this.wb=[];this.Kc=[];this.Hc=[];this.oh="";this.Wf=this.xj=this.group=!1;this.Qi=null;c[1]&&(this.oh=c[1][1].toLowerCase(),
this.group=!0,this.xj=!!c[1][0],this.Qi=[],this.Wf=this.xj,this.b.ke.push(this),this.b.ph[this.oh]=this);this.Uc=c[2];this.V=c[4];this.group||(this.b.wo[this.V.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var f=new Wb(this,d[a]);f.index=a;this.wb.push(f);this.lo(f.type)}d=c[6];a=0;for(b=d.length;a<b;a++)f=new Xb(this,d[a]),f.index=a,this.Kc.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.qp(c[a],this,this.Hc);this.Cj=!1;this.wb.length&&(this.Cj=null==this.wb[0].type&&
this.wb[0].gb==X.prototype.d.Qr)}function b(a,b){var c,d,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.cc))for(c=0,d=a.Yb.length;c<d;c++)f=a.Yb[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function a(a,b){this.kc=a;this.sheet=a.sheet;this.b=a.b;this.N=[];this.Ia=[];this.X={};this.index=-1;this.Sg=!1;this.gb=this.b.ge(b[1]);this.trigger=0<b[3];this.So=2===b[3];this.sd=b[4];this.Ul=b[5];this.Jv=b[6];this.V=b[7];this.b.re[this.V.toString()]=this;-1===b[0]?(this.type=null,this.Va=this.Xm,this.Ne=null,this.Oc=-1):
(this.type=this.b.j[b[0]],this.Va=this.Jv?this.Fw:this.Wm,b[2]?(this.Ne=this.type.pj(b[2]),this.Oc=this.type.Bl(b[2])):(this.Ne=null,this.Oc=-1),this.kc.parent&&this.kc.parent.ok());this.So&&(this.Va=this.Gw);if(10===b.length){var c,d,f=b[9];c=0;for(d=f.length;c<d;c++){var h=new Yb(this,f[c]);this.N.push(h)}this.Ia.length=f.length}}function v(a,b){this.kc=a;this.sheet=a.sheet;this.b=a.b;this.N=[];this.Ia=[];this.X={};this.index=-1;this.Sg=!1;this.gb=this.b.ge(b[1]);-1===b[0]?(this.type=null,this.Va=
this.Xm,this.Ne=null,this.Oc=-1):(this.type=this.b.j[b[0]],this.Va=this.Wm,b[2]?(this.Ne=this.type.pj(b[2]),this.Oc=this.type.Bl(b[2])):(this.Ne=null,this.Oc=-1));this.V=b[3];this.b.je[this.V.toString()]=this;if(6===b.length){var c,d,f=b[5];c=0;for(d=f.length;c<d;c++){var h=new Yb(this,f[c]);this.N.push(h)}this.Ia.length=f.length}}function d(){A++;p.length===A&&p.push(new Zb);return p[A]}function f(a,b){this.Bc=a;this.kc=a.kc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.md=null;this.Zd=0;this.get=
null;this.Eo=0;this.bb=null;this.key=0;this.object=null;this.index=0;this.wi=this.Af=this.wi=this.Af=this.Xo=this.bf=this.xi=null;this.Jc=!1;var c,d,f;switch(b[0]){case 0:case 7:this.md=new $b(this,b[1]);this.Zd=0;this.get=this.cv;break;case 1:this.md=new $b(this,b[1]);this.Zd=0;this.get=this.dv;break;case 5:this.md=new $b(this,b[1]);this.Zd=0;this.get=this.jv;break;case 3:case 8:this.Eo=b[1];this.get=this.av;break;case 6:this.bb=this.b.jm[b[1]];this.get=this.kv;break;case 9:this.key=b[1];this.get=
this.iv;break;case 4:this.object=this.b.j[b[1]];this.get=this.lv;this.kc.lo(this.object);this.Bc instanceof Xb?this.kc.ok():this.kc.parent&&this.kc.parent.ok();break;case 10:this.index=b[1];a.type&&a.type.A?(this.get=this.gv,this.Jc=!0):this.get=this.hv;break;case 11:this.xi=b[1];this.bf=null;this.get=this.bv;break;case 2:case 12:this.Xo=b[1];this.get=this.$u;break;case 13:for(this.get=this.mv,this.Af=[],this.wi=[],c=1,d=b.length;c<d;c++)f=new Yb(this.Bc,b[c]),this.Af.push(f),this.wi.push(0)}}function c(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ca=[];this.name=c[1];this.yi=c[2];this.Rl=c[3];this.Eh=!!c[4];this.Bj=!!c[5];this.V=c[6];this.b.Lg[this.V.toString()]=this;this.data=this.Rl;this.parent?(this.uf=this.Eh||this.Bj?-1:this.b.Pw++,this.b.lt.push(this)):(this.uf=-1,this.b.kt.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ca=[];this.rh=null;this.tv=c[1];this.jc=!0}function h(){this.lr=[];this.reset(null)}var q=[];g.prototype.toString=function(){return this.name};
g.prototype.qp=function(a,b,c){switch(a[0]){case 0:a=new ac(this,b,a);if(a.Uc)for(c.push(a),c=0,b=a.wb.length;c<b;c++)a.wb[c].trigger&&this.rp(a,c);else a.yp()?this.rp(a,0):c.push(a);break;case 1:a=new Sb(this,b,a);c.push(a);break;case 2:a=new bc(this,b,a),c.push(a)}};g.prototype.Ka=function(){var a,b;a=0;for(b=this.ve.length;a<b;a++)this.ve[a].Ka(a<b-1&&this.ve[a+1].Cj)};g.prototype.nn=function(){S(this.pl);S(this.Vk);this.jo(this);S(this.Vk)};g.prototype.jo=function(a){var b,c,d,f,h=a.pl,p=a.Vk,
k=this.op.bd();b=0;for(c=k.length;b<c;++b)d=k[b],f=d.rh,!d.jc||a===f||-1<p.indexOf(f)||(p.push(f),f.jo(a),h.push(f))};g.prototype.Va=function(a){this.b.Fy||(this.Nl=!0,a||(this.b.Zl=!0));var b,c;b=0;for(c=this.ve.length;b<c;b++){var d=this.ve[b];d.Va();this.b.gl(d.Ca);this.b.xe&&this.b.ob()}a||(this.b.Zl=!1)};g.prototype.rp=function(a,b){a.Uc||this.b.Dk.push(a);var c,d,f=a.wb[b],h;f.type?h=f.type.name:h="system";var p=(c=f.So)?this.To:this.rr;p[h]||(p[h]=[]);h=p[h];p=f.gb;if(c){if(f.N.length&&(f=
f.N[0],1===f.type&&2===f.md.type)){f=f.md.value.toLowerCase();c=0;for(d=h.length;c<d;c++)if(h[c].method==p){c=h[c].fh;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];h.push({method:p,fh:c})}}else{c=0;for(d=h.length;c<d;c++)if(h[c].method==p){h[c].fh.push([a,b]);return}oc&&p===oc.prototype.d.If?h.unshift({method:p,fh:[[a,b]]}):h.push({method:p,fh:[[a,b]]})}};Ib=g;t.prototype.Ml=function(){return this.ra?this.type.c.length:this.c.length};t.prototype.Pc=function(){return this.ra?this.type.c:
this.c};t.prototype.ai=function(a){a&&(a.b.Eb().Zb.Uc?(this.ra&&(S(this.c),za(this.R,a.type.c),this.ra=!1),a=this.R.indexOf(a),-1!==a&&(this.c.push(this.R[a]),this.R.splice(a,1))):(this.ra=!1,S(this.c),this.c[0]=a))};qb=t;window._c2hh_="97105210041D01E4B7C2E50FE095D99F766CE7C7";r.prototype.Ka=function(a){var b,c=this.parent;if(this.group)for(this.Ak=!0;c;){if(!c.group){this.Ak=!1;break}c=c.parent}this.hn=!this.yp()&&(!this.parent||this.parent.group&&this.parent.Ak);this.mp=!!a;this.Ie=this.Ca.slice(0);
for(c=this.parent;c;){a=0;for(b=c.Ca.length;a<b;a++)this.jt(c.Ca[a]);c=c.parent}this.Ca=m(this.Ca);this.Ie=m(this.Ie);a=0;for(b=this.wb.length;a<b;a++)this.wb[a].Ka();a=0;for(b=this.Kc.length;a<b;a++)this.Kc[a].Ka();a=0;for(b=this.Hc.length;a<b;a++)this.Hc[a].Ka(a<b-1&&this.Hc[a+1].Cj)};r.prototype.Wq=function(a){if(this.Wf!==!!a){this.Wf=!!a;var b;a=0;for(b=this.Qi.length;a<b;++a)this.Qi[a].xr();0<b&&this.b.ka.$e&&this.b.ka.$e.nn()}};r.prototype.lo=function(a){b(a,this.Ca)};r.prototype.jt=function(a){b(a,
this.Ie)};r.prototype.ok=function(){this.ir=!0;this.parent&&this.parent.ok()};r.prototype.yp=function(){return this.wb.length?this.wb[0].trigger:!1};r.prototype.Va=function(){var a,b,c=!1,d=this.b,f=this.b.Eb();f.Zb=this;var h=this.wb;this.Cj||(f.sl=!1);if(this.Uc){0===h.length&&(c=!0);f.Xb=0;for(a=h.length;f.Xb<a;f.Xb++)b=h[f.Xb],b.trigger||(b=b.Va())&&(c=!0);(f.of=c)&&this.Vm()}else{f.Xb=0;for(a=h.length;f.Xb<a;f.Xb++)if(b=h[f.Xb].Va(),!b){f.of=!1;this.hn&&d.xe&&d.ob();return}f.of=!0;this.Vm()}this.du(f)};
r.prototype.du=function(a){a.of&&this.mp&&(a.sl=!0);this.hn&&this.b.xe&&this.b.ob()};r.prototype.Dw=function(a){this.b.Eb().Zb=this;this.wb[a].Va()&&(this.Vm(),this.b.Eb().of=!0)};r.prototype.Vm=function(){var a=this.b.Eb(),b;a.Vb=0;for(b=this.Kc.length;a.Vb<b;a.Vb++)if(this.Kc[a.Vb].Va())return;this.Oq()};r.prototype.Bw=function(){var a=this.b.Eb(),b;for(b=this.Kc.length;a.Vb<b;a.Vb++)if(this.Kc[a.Vb].Va())return;this.Oq()};r.prototype.Oq=function(){if(this.Hc.length){var a,b,c,d,f=this.Hc.length-
1;this.b.Om(this);if(this.ir)for(a=0,b=this.Hc.length;a<b;a++)c=this.Hc[a],(d=!this.Ak||!this.group&&a<f)&&this.b.Nm(c.Ca),c.Va(),d?this.b.yg(c.Ca):this.b.gl(c.Ca);else for(a=0,b=this.Hc.length;a<b;a++)this.Hc[a].Va();this.b.Eq()}};r.prototype.Ew=function(){var a=this.b.Eb();a.Zb=this;var b=!1,c;a.Xb=0;for(c=this.wb.length;a.Xb<c;a.Xb++)if(this.wb[a.Xb].Va())b=!0;else if(!this.Uc)return!1;return this.Uc?b:!0};r.prototype.Av=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.wb[b].type===
a.type)return!1;return!0};ac=r;a.prototype.Ka=function(){var a,b,c;a=0;for(b=this.N.length;a<b;a++)c=this.N[a],c.Ka(),c.Jc&&(this.Sg=!0)};a.prototype.Gw=function(){return!0};a.prototype.Xm=function(){var a,b;a=0;for(b=this.N.length;a<b;a++)this.Ia[a]=this.N[a].get();return Sa(this.gb.apply(this.b.zd,this.Ia),this.Ul)};a.prototype.Fw=function(){var a,b;a=0;for(b=this.N.length;a<b;a++)this.Ia[a]=this.N[a].get();a=this.gb.apply(this.Ne?this.Ne:this.type,this.Ia);this.type.me();return a};a.prototype.Wm=
function(){var a,b,c,d,f,h,p,k,q=this.type,e=q.la(),g=this.kc.Uc&&!this.trigger;b=0;var r=q.cc,m=q.A,n=q.Kd,v=this.Oc,t=-1<v,A=this.Sg,B=this.N,G=this.Ia,P=this.Ul,R=this.gb,F;if(A)for(b=0,f=B.length;b<f;++b)h=B[b],h.Jc||(G[b]=h.get(0));else for(b=0,f=B.length;b<f;++b)G[b]=B[b].get(0);if(e.ra){S(e.c);S(e.R);F=q.c;a=0;for(d=F.length;a<d;++a){k=F[a];if(A)for(b=0,f=B.length;b<f;++b)h=B[b],h.Jc&&(G[b]=h.get(a));t?(b=0,m&&(b=k.type.Tf[n]),b=R.apply(k.B[v+b],G)):b=R.apply(k,G);(p=Sa(b,P))?e.c.push(k):g&&
e.R.push(k)}q.finish&&q.finish(!0);e.ra=!1;q.me();return e.Ml()}c=0;F=(p=g&&!this.kc.Av(this))?e.R:e.c;var N=!1;a=0;for(d=F.length;a<d;++a){k=F[a];if(A)for(b=0,f=B.length;b<f;++b)h=B[b],h.Jc&&(G[b]=h.get(a));t?(b=0,m&&(b=k.type.Tf[n]),b=R.apply(k.B[v+b],G)):b=R.apply(k,G);if(Sa(b,P))if(N=!0,p){if(e.c.push(k),r)for(b=0,f=k.siblings.length;b<f;b++)h=k.siblings[b],h.type.la().c.push(h)}else{F[c]=k;if(r)for(b=0,f=k.siblings.length;b<f;b++)h=k.siblings[b],h.type.la().c[c]=h;c++}else if(p){F[c]=k;if(r)for(b=
0,f=k.siblings.length;b<f;b++)h=k.siblings[b],h.type.la().R[c]=h;c++}else if(g&&(e.R.push(k),r))for(b=0,f=k.siblings.length;b<f;b++)h=k.siblings[b],h.type.la().R.push(h)}ya(F,c);if(r)for(m=q.Yb,a=0,d=m.length;a<d;a++)k=m[a].la(),p?ya(k.R,c):ya(k.c,c);c=N;if(p&&!N)for(a=0,d=e.c.length;a<d;a++){k=e.c[a];if(A)for(b=0,f=B.length;b<f;b++)h=B[b],h.Jc&&(G[b]=h.get(a));b=t?R.apply(k.B[v],G):R.apply(k,G);if(Sa(b,P)){N=!0;break}}q.finish&&q.finish(c||g);return g?N:e.Ml()};Wb=a;v.prototype.Ka=function(){var a,
b,c;a=0;for(b=this.N.length;a<b;a++)c=this.N[a],c.Ka(),c.Jc&&(this.Sg=!0)};v.prototype.Xm=function(){var a=this.b,b,c,d=this.N,f=this.Ia;b=0;for(c=d.length;b<c;++b)f[b]=d[b].get();return this.gb.apply(a.zd,f)};v.prototype.Wm=function(){var a=this.type,b=this.Oc,c=a.Kd,d=this.Sg,f=this.N,h=this.Ia,p=this.gb,k=a.la().Pc(),a=a.A,q=-1<b,e,g,r,m,n,v;if(d)for(g=0,m=f.length;g<m;++g)n=f[g],n.Jc||(h[g]=n.get(0));else for(g=0,m=f.length;g<m;++g)h[g]=f[g].get(0);e=0;for(r=k.length;e<r;++e){v=k[e];if(d)for(g=
0,m=f.length;g<m;++g)n=f[g],n.Jc&&(h[g]=n.get(e));q?(g=0,a&&(g=v.type.Tf[c]),p.apply(v.B[b+g],h)):p.apply(v,h)}return!1};Xb=v;var p=[],A=-1;f.prototype.Ka=function(){var a,b;if(11===this.type)this.bf=this.b.gp(this.xi,this.kc.parent);else if(13===this.type)for(a=0,b=this.Af.length;a<b;a++)this.Af[a].Ka();this.md&&this.md.Ka()};f.prototype.Pv=function(a){this.Jc||!a||a.ba.qk||(this.Jc=!0)};f.prototype.Zq=function(){this.Jc=!0};f.prototype.cv=function(a){this.Zd=a||0;a=d();this.md.get(a);A--;return a.data};
f.prototype.dv=function(a){this.Zd=a||0;a=d();this.md.get(a);A--;return ga(a.data)?a.data:""};f.prototype.lv=function(){return this.object};f.prototype.av=function(){return this.Eo};f.prototype.jv=function(a){this.Zd=a||0;a=d();this.md.get(a);A--;return a.$a()?this.b.Md(a.data):this.b.jh(a.data)};f.prototype.kv=function(){return this.bb};f.prototype.iv=function(){return this.key};f.prototype.hv=function(){return this.index};f.prototype.gv=function(a){a=a||0;var b=this.Bc.type,c=null,c=b.la(),d=c.Pc();
if(d.length)c=d[a%d.length].type;else if(c.R.length)c=c.R[a%c.R.length].type;else if(b.c.length)c=b.c[a%b.c.length].type;else return 0;return this.index+c.gj[b.Kd]};f.prototype.bv=function(){return this.bf};f.prototype.$u=function(){return this.Xo};f.prototype.mv=function(){var a,b;a=0;for(b=this.Af.length;a<b;a++)this.wi[a]=this.Af[a].get();return this.wi};Yb=f;c.prototype.Ka=function(){this.Ca=m(this.Ca)};c.prototype.Xd=function(a){var b=this.b.dp();this.parent&&!this.Eh&&b?(this.uf>=b.length&&
(b.length=this.uf+1),b[this.uf]=a):this.data=a};c.prototype.df=function(){var a=this.b.dp();return!this.parent||this.Eh||!a||this.Bj?this.data:this.uf>=a.length||"undefined"===typeof a[this.uf]?this.Rl:a[this.uf]};c.prototype.Va=function(){!this.parent||this.Eh||this.Bj||this.Xd(this.Rl)};Sb=c;k.prototype.toString=function(){return"include:"+this.rh.toString()};k.prototype.Ka=function(){this.rh=this.b.ul[this.tv];this.sheet.op.add(this);this.Ca=m(this.Ca);for(var a=this.parent;a;)a.group&&a.Qi.push(this),
a=a.parent;this.xr()};k.prototype.Va=function(){this.parent&&this.b.di(this.b.j);this.rh.Nl||this.rh.Va(!0);this.parent&&this.b.yg(this.b.j)};k.prototype.xr=function(){for(var a=this.parent;a;){if(a.group&&!a.Wf){this.jc=!1;return}a=a.parent}this.jc=!0};bc=k;h.prototype.reset=function(a){this.Zb=a;this.Vb=this.Xb=0;S(this.lr);this.sl=this.of=!1};Rb=h})();
(function(){function e(b,a){this.Bc=b;this.b=b.b;this.type=a[0];this.get=[this.vu,this.ru,this.Eu,this.Hu,this.gu,this.Fu,this.zu,this.ou,this.yu,this.Du,this.hu,this.Cu,this.pu,this.Au,this.wu,this.xu,this.su,this.tu,this.nu,this.Gu,this.Bu,this.uu,this.mu,this.qu][this.type];var e=null;this.Sd=this.N=this.Ia=this.gb=this.yk=this.second=this.first=this.value=null;this.Oc=-1;this.Qc=null;this.Cr=-1;this.bf=this.xi=null;this.Bg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new $b(b,a[1]);break;case 18:this.first=new $b(b,a[1]);this.second=new $b(b,a[2]);this.yk=new $b(b,a[3]);break;case 19:this.gb=this.b.ge(a[1]);this.gb!==X.prototype.za.random&&this.gb!==X.prototype.za.Co||this.Bc.Zq();this.Ia=[];this.N=[];3===a.length?(e=a[2],this.Ia.length=e.length+1):this.Ia.length=1;break;case 20:this.Sd=this.b.j[a[1]];this.Oc=-1;this.gb=this.b.ge(a[2]);this.Bg=a[3];ec.Function&&this.gb===ec.Function.prototype.za.ox&&this.Bc.Zq();a[4]?this.Qc=new $b(b,a[4]):this.Qc=null;this.Ia=
[];this.N=[];6===a.length?(e=a[5],this.Ia.length=e.length+1):this.Ia.length=1;break;case 21:this.Sd=this.b.j[a[1]];this.Bg=a[2];a[3]?this.Qc=new $b(b,a[3]):this.Qc=null;this.Cr=a[4];break;case 22:this.Sd=this.b.j[a[1]];this.Sd.pj(a[2]);this.Oc=this.Sd.Bl(a[2]);this.gb=this.b.ge(a[3]);this.Bg=a[4];a[5]?this.Qc=new $b(b,a[5]):this.Qc=null;this.Ia=[];this.N=[];7===a.length?(e=a[6],this.Ia.length=e.length+1):this.Ia.length=1;break;case 23:this.xi=a[1],this.bf=null}this.Bc.Pv(this.Sd);4<=this.type&&17>=
this.type&&(this.first=new $b(b,a[1]),this.second=new $b(b,a[2]));if(e){var d,f;d=0;for(f=e.length;d<f;d++)this.N.push(new $b(b,e[d]))}}function n(){++r;t.length===r&&t.push(new Zb);return t[r]}function m(b,a,e){var d,f;d=0;for(f=b.length;d<f;++d)b[d].get(e),a[d+1]=e.data}function g(b,a){this.type=b||cc.Hf;this.data=a||0;this.vf=null;this.type==cc.Hf&&(this.data=Math.floor(this.data))}e.prototype.Ka=function(){23===this.type&&(this.bf=this.Bc.b.gp(this.xi,this.Bc.kc.parent));this.first&&this.first.Ka();
this.second&&this.second.Ka();this.yk&&this.yk.Ka();this.Qc&&this.Qc.Ka();if(this.N){var b,a;b=0;for(a=this.N.length;b<a;b++)this.N[b].Ka()}};var t=[],r=-1;e.prototype.Gu=function(b){var a=this.N,e=this.Ia;e[0]=b;b=n();m(a,e,b);--r;this.gb.apply(this.b.zd,e)};e.prototype.Bu=function(b){var a=this.Sd,e=this.Ia,d=this.N,f=this.Qc,c=this.gb,k=this.Bc.Zd,h=a.la(),q=h.Pc();if(!q.length)if(h.R.length)q=h.R;else{this.Bg?b.Jb(""):b.xa(0);return}e[0]=b;b.vf=a;b=n();m(d,e,b);f&&(f.get(b),b.$a()&&(k=b.data,
q=a.c));--r;a=q.length;if(k>=a||k<=-a)k%=a;0>k&&(k+=a);c.apply(q[k],e)};e.prototype.mu=function(b){var a=this.Sd,e=this.Ia,d=this.N,f=this.Qc,c=this.Oc,k=this.gb,h=this.Bc.Zd,q=a.la(),p=q.Pc();if(!p.length)if(q.R.length)p=q.R;else{this.Bg?b.Jb(""):b.xa(0);return}e[0]=b;b.vf=a;b=n();m(d,e,b);f&&(f.get(b),b.$a()&&(h=b.data,p=a.c));--r;d=p.length;if(h>=d||h<=-d)h%=d;0>h&&(h+=d);h=p[h];p=0;a.A&&(p=h.type.Tf[a.Kd]);k.apply(h.B[c+p],e)};e.prototype.uu=function(b){var a=this.Qc,e=this.Sd,d=this.Cr,f=this.Bc.Zd,
c=e.la(),k=c.Pc();if(!k.length)if(c.R.length)k=c.R;else{this.Bg?b.Jb(""):b.xa(0);return}if(a){c=n();a.get(c);if(c.$a()){f=c.data;k=e.c;0!==k.length&&(f%=k.length,0>f&&(f+=k.length));f=e.Gl(f);e=f.Qa[d];ga(e)?b.Jb(e):b.p(e);--r;return}--r}a=k.length;if(f>=a||f<=-a)f%=a;0>f&&(f+=a);f=k[f];k=0;e.A&&(k=f.type.gj[e.Kd]);e=f.Qa[d+k];ga(e)?b.Jb(e):b.p(e)};e.prototype.vu=function(b){b.type=cc.Hf;b.data=this.value};e.prototype.ru=function(b){b.type=cc.Gf;b.data=this.value};e.prototype.Eu=function(b){b.type=
cc.String;b.data=this.value};e.prototype.Hu=function(b){this.first.get(b);b.$a()&&(b.data=-b.data)};e.prototype.gu=function(b){this.first.get(b);var a=n();this.second.get(a);b.$a()&&a.$a()&&(b.data+=a.data,a.ag()&&b.pg());--r};e.prototype.Fu=function(b){this.first.get(b);var a=n();this.second.get(a);b.$a()&&a.$a()&&(b.data-=a.data,a.ag()&&b.pg());--r};e.prototype.zu=function(b){this.first.get(b);var a=n();this.second.get(a);b.$a()&&a.$a()&&(b.data*=a.data,a.ag()&&b.pg());--r};e.prototype.ou=function(b){this.first.get(b);
var a=n();this.second.get(a);b.$a()&&a.$a()&&(b.data/=a.data,b.pg());--r};e.prototype.yu=function(b){this.first.get(b);var a=n();this.second.get(a);b.$a()&&a.$a()&&(b.data%=a.data,a.ag()&&b.pg());--r};e.prototype.Du=function(b){this.first.get(b);var a=n();this.second.get(a);b.$a()&&a.$a()&&(b.data=Math.pow(b.data,a.data),a.ag()&&b.pg());--r};e.prototype.hu=function(b){this.first.get(b);var a=n();this.second.get(a);a.eg()||b.eg()?this.ju(b,a):this.iu(b,a);--r};e.prototype.ju=function(b,a){b.eg()&&
a.eg()?this.lu(b,a):this.ku(b,a)};e.prototype.lu=function(b,a){b.data+=a.data};e.prototype.ku=function(b,a){b.eg()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.Jb(b.data.toString()+a.data)};e.prototype.iu=function(b,a){b.xa(b.data&&a.data?1:0)};e.prototype.Cu=function(b){this.first.get(b);var a=n();this.second.get(a);b.$a()&&a.$a()&&(b.data||a.data?b.xa(1):b.xa(0));--r};e.prototype.nu=function(b){this.first.get(b);b.data?this.second.get(b):this.yk.get(b)};e.prototype.pu=function(b){this.first.get(b);
var a=n();this.second.get(a);b.xa(b.data===a.data?1:0);--r};e.prototype.Au=function(b){this.first.get(b);var a=n();this.second.get(a);b.xa(b.data!==a.data?1:0);--r};e.prototype.wu=function(b){this.first.get(b);var a=n();this.second.get(a);b.xa(b.data<a.data?1:0);--r};e.prototype.xu=function(b){this.first.get(b);var a=n();this.second.get(a);b.xa(b.data<=a.data?1:0);--r};e.prototype.su=function(b){this.first.get(b);var a=n();this.second.get(a);b.xa(b.data>a.data?1:0);--r};e.prototype.tu=function(b){this.first.get(b);
var a=n();this.second.get(a);b.xa(b.data>=a.data?1:0);--r};e.prototype.qu=function(b){var a=this.bf.df();fa(a)?b.p(a):b.Jb(a)};$b=e;g.prototype.ag=function(){return this.type===cc.Gf};g.prototype.$a=function(){return this.type===cc.Hf||this.type===cc.Gf};g.prototype.eg=function(){return this.type===cc.String};g.prototype.pg=function(){this.ag()||(this.eg()&&(this.data=parseFloat(this.data)),this.type=cc.Gf)};g.prototype.xa=function(b){this.type=cc.Hf;this.data=Math.floor(b)};g.prototype.p=function(b){this.type=
cc.Gf;this.data=b};g.prototype.Jb=function(b){this.type=cc.String;this.data=b};g.prototype.$q=function(b){fa(b)?(this.type=cc.Gf,this.data=b):ga(b)?(this.type=cc.String,this.data=b.toString()):(this.type=cc.Hf,this.data=0)};Zb=g;cc={Hf:0,Gf:1,String:2}})();function X(e){this.b=e;this.Tb=[]}
X.prototype.lb=function(){var e={},n,m,g,t,r,b,a,v;e.waits=[];var d=e.waits,f;n=0;for(m=this.Tb.length;n<m;n++){b=this.Tb[n];f={t:b.time,st:b.gr,s:b.bn,ev:b.Sf.V,sm:[],sols:{}};b.Sf.Kc[b.Vb]&&(f.act=b.Sf.Kc[b.Vb].V);g=0;for(t=b.Ca.length;g<t;g++)f.sm.push(b.Ca[g].V);for(r in b.Kb)if(b.Kb.hasOwnProperty(r)){a=this.b.j[parseInt(r,10)];v={sa:b.Kb[r].jk,insts:[]};g=0;for(t=b.Kb[r].Nd.length;g<t;g++)v.insts.push(b.Kb[r].Nd[g].uid);f.sols[a.V.toString()]=v}d.push(f)}return e};
X.prototype.Ib=function(e){e=e.waits;var n,m,g,t,r,b,a,v,d,f,c;S(this.Tb);n=0;for(m=e.length;n<m;n++)if(b=e[n],v=this.b.wo[b.ev.toString()]){d=-1;g=0;for(t=v.Kc.length;g<t;g++)if(v.Kc[g].V===b.act){d=g;break}if(-1!==d){a={Kb:{},Ca:[],ql:!1};a.time=b.t;a.gr=b.st||"";a.bn=!!b.s;a.Sf=v;a.Vb=d;g=0;for(t=b.sm.length;g<t;g++)(v=this.b.rj(b.sm[g]))&&a.Ca.push(v);for(r in b.sols)if(b.sols.hasOwnProperty(r)&&(v=this.b.rj(parseInt(r,10)))){d=b.sols[r];f={jk:d.sa,Nd:[]};g=0;for(t=d.insts.length;g<t;g++)(c=this.b.kh(d.insts[g]))&&
f.Nd.push(c);a.Kb[v.index.toString()]=f}this.Tb.push(a)}}};
(function(){function e(){}function n(){}function m(){}var g=X.prototype;e.prototype.Sr=function(){return!0};e.prototype.Hn=function(){return!0};e.prototype.Gn=function(){return!0};e.prototype.Rr=function(b){var a=this.b.cp(),e=a.X.Every_lastTime||0,d=this.b.ab.T;"undefined"===typeof a.X.Every_seconds&&(a.X.Every_seconds=b);var f=a.X.Every_seconds;if(d>=e+f)return a.X.Every_lastTime=e+f,d>=a.X.Every_lastTime+.04&&(a.X.Every_lastTime=d),a.X.Every_seconds=b,!0;d<e-.1&&(a.X.Every_lastTime=d);return!1};
e.prototype.Lr=function(b,a,e){return dc(b.df(),a,e)};e.prototype.Xr=function(b){return(b=this.b.ph[b.toLowerCase()])&&b.Wf};e.prototype.Qr=function(){var b=this.b.Eb();return b.sl?!1:!b.of};e.prototype.Nk=function(){return!0};e.prototype.ms=function(){return!0};e.prototype.Pk=function(){return!0};e.prototype.Pn=function(){return!0};e.prototype.zs=function(){return!0};e.prototype.Mk=function(){return!0};e.prototype.Gr=function(b,a,e){return Na(W(b),W(e))<=W(a)};e.prototype.Wr=function(b,a){return Pa(W(b),
W(a))};e.prototype.Vr=function(b,a,e){b=La(b);a=La(a);e=La(e);return Pa(e,a)?Pa(b,a)&&!Pa(b,e):!(!Pa(b,a)&&Pa(b,e))};g.d=new e;n.prototype.Ur=function(b){this.b.gg||this.b.Qe||(this.b.Qe=b)};n.prototype.Or=function(b,a,e,d){if(a&&b&&(a=this.b.jl(b,a,e,d))){this.b.Sc++;var f;this.b.trigger(Object.getPrototypeOf(b.ba).d.Pg,a);if(a.cc)for(e=0,d=a.siblings.length;e<d;e++)f=a.siblings[e],this.b.trigger(Object.getPrototypeOf(f.type.ba).d.Pg,f);this.b.Sc--;b=b.la();b.ra=!1;S(b.c);b.c[0]=a;if(a.cc)for(e=
0,d=a.siblings.length;e<d;e++)f=a.siblings[e],b=f.type.la(),b.ra=!1,S(b.c),b.c[0]=f}};n.prototype.Ts=function(b,a){0===b.yi?fa(a)?b.Xd(a):b.Xd(parseFloat(a)):1===b.yi&&b.Xd(a.toString())};n.prototype.Fr=function(b,a){0===b.yi?fa(a)?b.Xd(b.df()+a):b.Xd(b.df()+parseFloat(a)):1===b.yi&&b.Xd(b.df()+a.toString())};n.prototype.Xs=function(b,a){0===b.yi&&(fa(a)?b.Xd(b.df()-a):b.Xd(b.df()-parseFloat(a)))};n.prototype.Ss=function(b){0>b&&(b=0);this.b.Df=b};var t=[],r=[];n.prototype.Zs=function(b){if(!(0>b)){var a,
e,d,f=this.b.Eb(),c;t.length?c=t.pop():c={Kb:{},Ca:[]};c.ql=!1;c.time=this.b.ab.T+b;c.gr="";c.bn=!1;c.Sf=f.Zb;c.Vb=f.Vb+1;b=0;for(a=this.b.j.length;b<a;b++)d=this.b.j[b],e=d.la(),e.ra&&-1===f.Zb.Ca.indexOf(d)||(c.Ca.push(d),d=void 0,r.length?d=r.pop():d={Nd:[]},d.jk=!1,d.jk=e.ra,za(d.Nd,e.c),c.Kb[b.toString()]=d);this.Tb.push(c);return!0}};n.prototype.Ns=function(){if(!this.b.gg&&!this.b.Qe&&this.b.ka){this.b.Qe=this.b.ka;var b,a,e;b=0;for(a=this.b.ke.length;b<a;b++)e=this.b.ke[b],e.Wq(e.xj)}};g.q=
new n;m.prototype["int"]=function(b,a){ga(a)?(b.xa(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.xa(a)};m.prototype["float"]=function(b,a){ga(a)?(b.p(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.p(a)};m.prototype.random=function(b,a,e){void 0===e?b.p(Math.random()*a):b.p(Math.random()*(e-a)+a)};m.prototype.sqrt=function(b,a){b.p(Math.sqrt(a))};m.prototype.abs=function(b,a){b.p(Math.abs(a))};m.prototype.round=function(b,a){b.xa(Math.round(a))};m.prototype.floor=function(b,a){b.xa(Math.floor(a))};m.prototype.ceil=
function(b,a){b.xa(Math.ceil(a))};m.prototype.sin=function(b,a){b.p(Math.sin(W(a)))};m.prototype.cos=function(b,a){b.p(Math.cos(W(a)))};m.prototype.tan=function(b,a){b.p(Math.tan(W(a)))};m.prototype.asin=function(b,a){b.p(Ea(Math.asin(a)))};m.prototype.acos=function(b,a){b.p(Ea(Math.acos(a)))};m.prototype.atan=function(b,a){b.p(Ea(Math.atan(a)))};m.prototype.exp=function(b,a){b.p(Math.exp(a))};m.prototype.log10=function(b,a){b.p(Math.log(a)/Math.LN10)};m.prototype.max=function(b){var a=arguments[1];
"number"!==typeof a&&(a=0);var e,d,f;e=2;for(d=arguments.length;e<d;e++)f=arguments[e],"number"===typeof f&&a<f&&(a=f);b.p(a)};m.prototype.min=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var e,d,f;e=2;for(d=arguments.length;e<d;e++)f=arguments[e],"number"===typeof f&&a>f&&(a=f);b.p(a)};m.prototype.Ve=function(b){b.p(this.b.Ve)};m.prototype.Df=function(b){b.p(this.b.Df)};m.prototype.time=function(b){b.p(this.b.ab.T)};m.prototype.si=function(b){b.xa(this.b.si)};m.prototype.Rj=function(b){b.xa(this.b.Rj)};
m.prototype.yl=function(b){b.xa(this.b.yl)};m.prototype.i=function(b,a,e,d,f){b.p(Ea(Ma(a,e,d,f)))};m.prototype.left=function(b,a,e){b.Jb(ga(a)?a.substr(0,e):"")};m.prototype.right=function(b,a,e){b.Jb(ga(a)?a.substr(a.length-e):"")};m.prototype.replace=function(b,a,e,d){ga(a)&&ga(e)&&ga(d)?b.Jb(a.replace(new RegExp(eb(e),"gi"),d)):b.Jb(ga(a)?a:"")};m.prototype.trim=function(b,a){b.Jb(ga(a)?a.trim():"")};m.prototype.Co=function(b){var a=pa(Math.random()*(arguments.length-1));b.$q(arguments[a+1])};
m.prototype.il=function(b){b.p(this.b.il/1E3)};m.prototype.rf=function(b){b.p(this.b.rf)};g.za=new m;g.Cw=function(){var b,a,e,d,f,c,k=this.b.Eb();b=0;for(e=this.Tb.length;b<e;b++){d=this.Tb[b];if(-1===d.time){if(!d.bn)continue}else if(d.time>this.b.ab.T)continue;k.Zb=d.Sf;k.Vb=d.Vb;k.Xb=0;for(a in d.Kb)d.Kb.hasOwnProperty(a)&&(f=this.b.j[parseInt(a,10)].la(),c=d.Kb[a],f.ra=c.jk,za(f.c,c.Nd),f=c,S(f.Nd),r.push(f));d.Sf.Bw();this.b.gl(d.Ca);d.ql=!0}a=b=0;for(e=this.Tb.length;b<e;b++)d=this.Tb[b],this.Tb[a]=
d,d.ql?(Za(d.Kb),S(d.Ca),t.push(d)):a++;ya(this.Tb,a)}})();
(function(){pb=function(e,m){var g=e[1],t=e[3],r=e[4],b=e[5],a=e[6],v=e[7],d=e[8];m.d||(m.d={});m.q||(m.q={});m.za||(m.za={});var f=m.d,c=m.q,k=m.za;t&&(f.Nr=function(a,b){return dc(this.x,a,b)},f.ux=function(a,b){return dc(this.y,a,b)},f.Ax=function(){var a=this.g;this.Xa();var b=this.pb;return!(b.right<a.ma||b.bottom<a.na||b.left>a.ua||b.top>a.ta)},f.Bx=function(){this.Xa();var a=this.pb,b=this.b.ka;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},f.Mx=function(a,b,c){var d=this.la(),
f=d.Pc();if(!f.length)return!1;var e=f[0],k=e,g=Ra(e.x,e.y,b,c),r,m,n;r=1;for(m=f.length;r<m;r++)if(e=f[r],n=Ra(e.x,e.y,b,c),0===a&&n<g||1===a&&n>g)g=n,k=e;d.ai(k);return!0},c.cy=function(a){this.x!==a&&(this.x=a,this.Ba())},c.dy=function(a){this.y!==a&&(this.y=a,this.Ba())},c.Zx=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Ba()},c.$x=function(a,b){var c=a.Vu(this);if(c){var d;c.Fl?(d=c.Fl(b,!0),c=c.Fl(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Ba()}},
c.Fx=function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.Ba())},c.Ex=function(a,b){0!==b&&(this.x+=Math.cos(W(a))*b,this.y+=Math.sin(W(a))*b,this.Ba())},k.Zn=function(a){a.p(this.x)},k.$n=function(a){a.p(this.y)},k.Ve=function(a){a.p(this.b.fp(this))});r&&(f.Mr=function(a,b){return dc(this.width,a,b)},f.qx=function(a,b){return dc(this.height,a,b)},c.Yn=function(a){this.width!==a&&(this.width=a,this.Ba())},c.Xx=function(a){this.height!==a&&(this.height=a,this.Ba())},c.ay=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Ba()},k.$s=function(a){a.p(this.width)},k.wx=function(a){a.p(this.height)},k.lx=function(a){this.Xa();a.p(this.pb.left)},k.nx=function(a){this.Xa();a.p(this.pb.top)},k.mx=function(a){this.Xa();a.p(this.pb.right)},k.kx=function(a){this.Xa();a.p(this.pb.bottom)});b&&(f.Gr=function(a,b){return Na(this.i,W(b))<=W(a)},f.Wr=function(a){return Pa(this.i,W(a))},f.Vr=function(a,b){var c=La(a),d=La(b),f=Ha(this.i);return Pa(d,
c)?Pa(f,c)&&!Pa(f,d):!(!Pa(f,c)&&Pa(f,d))},c.Ux=function(a){a=W(Ga(a));isNaN(a)||this.i===a||(this.i=a,this.Ba())},c.Qx=function(a){0===a||isNaN(a)||(this.i+=W(a),this.i=Ha(this.i),this.Ba())},c.Rx=function(a){0===a||isNaN(a)||(this.i-=W(a),this.i=Ha(this.i),this.Ba())},c.Sx=function(a,b){var c=Oa(this.i,W(b),W(a));isNaN(c)||this.i===c||(this.i=c,this.Ba())},c.Tx=function(a,b,c){a=Oa(this.i,Math.atan2(c-this.y,b-this.x),W(a));isNaN(a)||this.i===a||(this.i=a,this.Ba())},c.by=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.i===c||(this.i=c,this.Ba())},k.jx=function(a){a.p(Ia(this.i))});g||(f.rx=function(a,b,c){return dc(this.Qa[a],b,c)},f.yx=function(a){return this.Qa[a]},f.Nx=function(a,b){var c=this.la(),d=c.Pc();if(!d.length)return!1;var f=d[0],e=f,k=f.Qa[b],g,r,m;g=1;for(r=d.length;g<r;g++)if(f=d[g],m=f.Qa[b],0===a&&m<k||1===a&&m>k)k=m,e=f;c.ai(e);return!0},f.Lx=function(a){var b,c,d,f,e;if(this.b.cp().Ul){e=this.la();if(e.ra)for(e.ra=!1,S(e.c),S(e.R),d=this.c,b=0,c=d.length;b<c;b++)f=
d[b],f.uid===a?e.R.push(f):e.c.push(f);else{d=b=0;for(c=e.c.length;b<c;b++)f=e.c[b],e.c[d]=f,f.uid===a?e.R.push(f):d++;ya(e.c,d)}this.me();return!!e.c.length}f=this.b.kh(a);if(!f)return!1;e=this.la();if(!e.ra&&-1===e.c.indexOf(f))return!1;if(this.A)for(a=f.type.Fa,b=0,c=a.length;b<c;b++){if(a[b]===this)return e.ai(f),this.me(),!0}else if(f.type===this)return e.ai(f),this.me(),!0;return!1},f.Pg=function(){return!0},f.os=function(){return!0},c.Yx=function(a,b){var c=this.Qa;fa(c[a])?c[a]=fa(b)?b:parseFloat(b):
ga(c[a])&&(c[a]=ga(b)?b:b.toString())},c.ix=function(a,b){var c=this.Qa;fa(c[a])?c[a]=fa(b)?c[a]+b:c[a]+parseFloat(b):ga(c[a])&&(c[a]=ga(b)?c[a]+b:c[a]+b.toString())},c.ey=function(a,b){var c=this.Qa;fa(c[a])&&(c[a]=fa(b)?c[a]-b:c[a]-parseFloat(b))},c.Vx=function(a,b){this.Qa[a]=b?1:0},c.fy=function(a){this.Qa[a]=1-this.Qa[a]},c.Pr=function(){this.b.Ke(this)},c.bs||(c.bs=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.Hj(this,b,!0);this.ed&&this.ed();if(this.B)for(a=0,b=this.B.length;a<
b;++a)c=this.B[a],c.ed&&c.ed()}),k.vx=function(a){var b=a.vf.c.length,c,d,f;c=0;for(d=this.b.hd.length;c<d;c++)f=this.b.hd[c],a.vf.A?0<=f.type.Fa.indexOf(a.vf)&&b++:f.type===a.vf&&b++;a.xa(b)},k.Px=function(a){a.xa(a.vf.la().Pc().length)},k.gy=function(a){a.xa(this.uid)},k.xx=function(a){a.xa(this.nh())},k.wn||(k.wn=function(a){a.Jb(JSON.stringify(this.b.Ym(this,!0)))}));a&&(f.Zr=function(){return this.visible},c.Qk=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.ja=!0)},f.tx=function(a,
b){return dc(lb(100*this.opacity),a,b)},c.Rs=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ja=!0)},k.Opacity=function(a){a.p(lb(100*this.opacity))});v&&(f.zx=function(a){return a?this.g===a:!1},f.Ox=function(a){var b=this.la(),c=b.Pc();if(!c.length)return!1;var d=c[0],f=d,e,k;e=1;for(k=c.length;e<k;e++)if(d=c[e],0===a){if(d.g.index>f.g.index||d.g.index===f.g.index&&d.xc()>f.xc())f=d}else if(d.g.index<f.g.index||d.g.index===f.g.index&&d.xc()<f.xc())f=d;b.ai(f);return!0},
c.Ix=function(){var a=this.g,b=a.c;b.length&&b[b.length-1]===this||(a.Ag(this,!1),a.Ug(this,!1),this.b.ja=!0)},c.Gx=function(){var a=this.g,b=a.c;b.length&&b[0]===this||(a.Ag(this,!1),a.pw(this),this.b.ja=!0)},c.Hx=function(a){a&&a!=this.g&&(this.g.Ag(this,!0),this.g=a,a.Ug(this,!0),this.b.ja=!0)},c.iy=function(a,b){var c=0===a;if(b){var d=b.hp(this);d&&d.uid!==this.uid&&(this.g.index!==d.g.index&&(this.g.Ag(this,!0),this.g=d.g,d.g.Ug(this,!0)),this.g.Qv(this,d,c),this.b.ja=!0)}},k.Dx=function(a){a.xa(this.g.nq)},
k.Cx=function(a){a.Jb(this.g.name)},k.hy=function(a){a.xa(this.xc())});d&&(c.Ps=function(a,b){if(this.b.k){var c=this.type.El(b);if(!(0>c)){var d=1===a;this.ie[c]!==d&&(this.ie[c]=d,this.$c(),this.b.ja=!0)}}},c.Wx=function(a,b,c){if(this.b.k){var d=this.type.El(a);0>d||(a=this.type.J[d],d=this.Ha[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.k.Zu(a.Oa,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.jc&&(this.b.ja=!0))))}})};Jb=function(){this.dl=this.Zk=!0;this.type.oo=!0;this.b.ja=!0;var e,m,g=this.$k;e=0;for(m=
g.length;e<m;++e)g[e](this);this.g.sc&&this.Xa()};Kb=function(e){e&&this.$k.push(e)};Mb=function(){if(this.Zk){var e=this.pb,m=this.Lf;e.set(this.x,this.y,this.x+this.width,this.y+this.height);e.offset(-this.Fb*this.width,-this.Gb*this.height);this.i?(e.offset(-this.x,-this.y),m.br(e,this.i),m.offset(this.x,this.y),m.xo(e)):m.pk(e);e.normalize();this.Zk=!1;this.$w()}};var e=new ua(0,0,0,0);Nb=function(){if(this.g.sc){var n=this.g.kb,m=this.pb;e.set(n.Mb(m.left),n.Nb(m.top),n.Mb(m.right),n.Nb(m.bottom));
this.Pb.eh(e)||(this.Pb.right<this.Pb.left?n.update(this,null,e):n.update(this,this.Pb,e),this.Pb.$g(e),this.g.Yc=!0)}};Ob=function(){if(this.dl&&this.Yg){this.Xa();var n=this.type.Do,m=this.pb;e.set(n.Mb(m.left),n.Nb(m.top),n.Mb(m.right),n.Nb(m.bottom));this.se.eh(e)||(this.se.right<this.se.left?n.update(this,null,e):n.update(this,this.se,e),this.se.$g(e),this.dl=!1)}};Lb=function(e,m){return this.pb.lc(e,m)&&this.Lf.lc(e,m)?this.gd&&!this.gd.Hv()?(this.gd.wt(this.width,this.height,this.i),this.gd.lc(e-
this.x,m-this.y)):!0:!1};Fb=function(){this.type.Fk();return this.gf};Pb=function(){this.g.qn();return this.cd};Qb=function(){S(this.Z);var e,m,g,t=!0;e=0;for(m=this.ie.length;e<m;e++)this.ie[e]&&(g=this.type.J[e],this.Z.push(g),g.Ec||(t=!1));this.Br=!!this.Z.length;this.Yd=t};Gb=function(){return"Inst"+this.Iq};sb=function(e){if(e&&e.cc&&e.type!=this){var m,g,t;m=0;for(g=e.siblings.length;m<g;m++)if(t=e.siblings[m],t.type==this)return t}e=this.la().Pc();return e.length?e[0]:null};tb=function(e){var m=
this.la().Pc();return m.length?m[e.nh()%m.length]:null};rb=function(){if(this.Eg&&!this.A){var e,m;e=0;for(m=this.c.length;e<m;e++)this.c[e].gf=e;var g=e,t=this.b.hd;e=0;for(m=t.length;e<m;++e)t[e].type===this&&(t[e].gf=g++);this.Eg=!1}};Cb=function(e){if(e<this.c.length)return this.c[e];e-=this.c.length;var m=this.b.hd,g,t;g=0;for(t=m.length;g<t;++g)if(m[g].type===this){if(0===e)return m[g];--e}return null};ub=function(){return this.$d[this.jd]};vb=function(){this.jd++;this.jd===this.$d.length?this.$d.push(new qb(this)):
(this.$d[this.jd].ra=!0,S(this.$d[this.jd].R))};wb=function(){this.jd++;this.jd===this.$d.length&&this.$d.push(new qb(this));var e=this.$d[this.jd],m=this.$d[this.jd-1];m.ra?(e.ra=!0,S(e.R)):(e.ra=!1,za(e.c,m.c),za(e.R,m.R))};xb=function(){this.jd--};yb=function(e){var m,g,t,r,b,a=0;if(!this.A)for(m=0,g=this.Fa.length;m<g;m++)for(b=this.Fa[m],t=0,r=b.Ga.length;t<r;t++){if(e===b.Ga[t].name)return this.X.lastBehIndex=a,b.Ga[t];a++}m=0;for(g=this.Ga.length;m<g;m++){if(e===this.Ga[m].name)return this.X.lastBehIndex=
a,this.Ga[m];a++}return null};zb=function(e){return this.pj(e)?this.X.lastBehIndex:-1};Ab=function(e){var m,g;m=0;for(g=this.J.length;m<g;m++)if(this.J[m].name===e)return m;return-1};Bb=function(){if(this.cc&&!this.A){var e,m,g,t,r,b,a;this.Fk();b=this.la();var v=b.ra,d=(e=this.b.Eb())&&e.Zb&&e.Zb.Uc;e=0;for(m=this.Yb.length;e<m;e++)if(r=this.Yb[e],r!==this&&(r.Fk(),a=r.la(),a.ra=v,!v)){S(a.c);g=0;for(t=b.c.length;g<t;++g)a.c[g]=r.Gl(b.c[g].gf);if(d)for(S(a.R),g=0,t=b.R.length;g<t;++g)a.R[g]=r.Gl(b.R[g].gf)}}};
Eb=function(){return"Type"+this.V};dc=function(e,m,g){if("undefined"===typeof e||"undefined"===typeof g)return!1;switch(m){case 0:return e===g;case 1:return e!==g;case 2:return e<g;case 3:return e<=g;case 4:return e>g;case 5:return e>=g;default:return!1}}})();
var mc={setcolor:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float red;\nuniform lowp float green;\nuniform lowp float blue;\nvoid main(void)\n{\nlowp float a = texture2D(samplerFront, vTex).a;\ngl_FragColor = vec4(red * a, green * a, blue * a, a);\n}",dj:0,ej:0,kl:!1,Ec:!0,Wk:!1,N:[["red",0,1],["green",0,1],["blue",0,1]]}};function pc(e){this.b=e}
(function(){function e(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function n(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function m(a){a=a.toLowerCase();return Y.hasOwnProperty(a)&&Y[a].length?Y[a][0].nc():z.destination}function g(){return z.createGain?z.createGain():z.createGainNode()}function t(a){return z.createDelay?z.createDelay(a):z.createDelayNode(a)}function r(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function b(a,b,c,d){a.start?a.start(d||0,b):
a.noteGrainOn(d||0,b,c-b)}function a(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function v(a,b,c,d,f,e){this.type="filter";this.Vc=[a,b,c,d,f,e];this.W=g();this.I=g();this.I.gain.value=e;this.G=g();this.G.gain.value=1-e;this.La=z.createBiquadFilter();this.La.type="number"===typeof this.La.type?a:Gc[a];this.La.frequency.value=b;this.La.detune&&(this.La.detune.value=c);this.La.Q.value=d;this.La.gain.value=f;this.W.connect(this.La);this.W.connect(this.G);this.La.connect(this.I)}function d(a,b,c){this.type=
"delay";this.Vc=[a,b,c];this.W=g();this.I=g();this.I.gain.value=c;this.G=g();this.G.gain.value=1-c;this.Rh=g();this.wc=t(a);this.wc.delayTime.value=a;this.Xi=g();this.Xi.gain.value=b;this.W.connect(this.Rh);this.W.connect(this.G);this.Rh.connect(this.I);this.Rh.connect(this.wc);this.wc.connect(this.Xi);this.Xi.connect(this.Rh)}function f(a,b,c,d){this.type="convolve";this.Vc=[b,c,d];this.W=g();this.I=g();this.I.gain.value=c;this.G=g();this.G.gain.value=1-c;this.Re=z.createConvolver();a&&(this.Re.normalize=
b,this.Re.buffer=a);this.W.connect(this.Re);this.W.connect(this.G);this.Re.connect(this.I)}function c(a,b,c,d,f){this.type="flanger";this.Vc=[a,b,c,d,f];this.W=g();this.G=g();this.G.gain.value=1-f/2;this.I=g();this.I.gain.value=f/2;this.hj=g();this.hj.gain.value=d;this.wc=t(a+b);this.wc.delayTime.value=a;this.eb=z.createOscillator();this.eb.frequency.value=c;this.gc=g();this.gc.gain.value=b;this.W.connect(this.wc);this.W.connect(this.G);this.wc.connect(this.I);this.wc.connect(this.hj);this.hj.connect(this.wc);
this.eb.connect(this.gc);this.gc.connect(this.wc.delayTime);r(this.eb)}function k(a,b,c,d,f,e){this.type="phaser";this.Vc=[a,b,c,d,f,e];this.W=g();this.G=g();this.G.gain.value=1-e/2;this.I=g();this.I.gain.value=e/2;this.La=z.createBiquadFilter();this.La.type="number"===typeof this.La.type?7:"allpass";this.La.frequency.value=a;this.La.detune&&(this.La.detune.value=b);this.La.Q.value=c;this.eb=z.createOscillator();this.eb.frequency.value=f;this.gc=g();this.gc.gain.value=d;this.W.connect(this.La);this.W.connect(this.G);
this.La.connect(this.I);this.eb.connect(this.gc);this.gc.connect(this.La.frequency);r(this.eb)}function h(a){this.type="gain";this.Vc=[a];this.Y=g();this.Y.gain.value=a}function q(a,b){this.type="tremolo";this.Vc=[a,b];this.Y=g();this.Y.gain.value=1-b/2;this.eb=z.createOscillator();this.eb.frequency.value=a;this.gc=g();this.gc.gain.value=b/2;this.eb.connect(this.gc);this.gc.connect(this.Y.gain);r(this.eb)}function p(a,b){this.type="ringmod";this.Vc=[a,b];this.W=g();this.I=g();this.I.gain.value=b;
this.G=g();this.G.gain.value=1-b;this.gi=g();this.gi.gain.value=0;this.eb=z.createOscillator();this.eb.frequency.value=a;this.eb.connect(this.gi.gain);r(this.eb);this.W.connect(this.gi);this.W.connect(this.G);this.gi.connect(this.I)}function A(a,b,c,d,f){this.type="distortion";this.Vc=[a,b,c,d,f];this.W=g();this.dk=g();this.ck=g();this.Jw(c,Math.pow(10,d/20));this.I=g();this.I.gain.value=f;this.G=g();this.G.gain.value=1-f;this.Kk=z.createWaveShaper();this.Vi=new Float32Array(65536);this.Ou(a,b);this.Kk.Vi=
this.Vi;this.W.connect(this.dk);this.W.connect(this.G);this.dk.connect(this.Kk);this.Kk.connect(this.ck);this.ck.connect(this.I)}function l(a,b,c,d,f){this.type="compressor";this.Vc=[a,b,c,d,f];this.Y=z.createDynamicsCompressor();try{this.Y.threshold.value=a,this.Y.knee.value=b,this.Y.ratio.value=c,this.Y.attack.value=d,this.Y.release.value=f}catch(e){}}function w(a,b){this.type="analyser";this.Vc=[a,b];this.Y=z.createAnalyser();this.Y.fftSize=a;this.Y.smoothingTimeConstant=b;this.Mu=new Float32Array(this.Y.frequencyBinCount);
this.er=new Uint8Array(a);this.$h=0}function V(){this.ea=null;this.Ij=0}function x(a,b){this.src=a;this.S=L;this.zc=b;this.Ji=!1;var c=this;this.tm=this.Fm=null;this.xg=[];this.kk=0;this.un=this.fj=this.kr=this.Zj=!1;1===L&&b&&!Ua&&(this.S=0,this.Fm=g());this.Dd=this.aa=null;var d;switch(this.S){case 0:this.aa=new Audio;this.aa.crossOrigin="anonymous";this.aa.addEventListener("canplaythrough",function(){c.un=!0});1===L&&z.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.kr=!0,this.aa.addEventListener("canplay",
function(){c.tm||(c.tm=z.createMediaElementSource(c.aa),c.tm.connect(c.Fm))}));this.aa.autoplay=!1;this.aa.By="auto";this.aa.src=a;break;case 1:J.Ch?J.Vo(a,function(a){c.Dd=a;c.Io()},function(){c.fj=!0}):(d=new XMLHttpRequest,d.open("GET",a,!0),d.responseType="arraybuffer",d.onload=function(){c.Dd=d.response;c.Io()},d.onerror=function(){c.fj=!0},d.send());break;case 2:this.aa=!0;break;case 3:this.aa=!0}}function C(a,b){var c=this;this.tag=b;this.Rb=this.od=!0;this.src=a.src;this.buffer=a;this.S=L;
this.zc=a.zc;this.playbackRate=1;this.Xf=!0;this.ec=this.rc=!1;this.Qb=0;this.Dh=this.bg=this.sd=!1;this.volume=1;this.Dm=function(a){if(!c.ec&&!c.rc){var b=this;b||(b=a.target);b===c.Ii&&(c.Xf=!0,c.Rb=!0,u=c.tag,J.trigger(pc.prototype.d.Di,O))}};this.Ii=null;this.Zf=1===R&&!this.zc||2===R;this.qg=1;this.startTime=this.Zf?J.ab.T:J.ee.T;this.Na=this.Pa=null;this.td=!1;this.ib=null;this.wq=this.vq=this.uq=this.tq=this.yq=this.xq=0;this.e=null;var d=!1;1!==this.S||0!==this.buffer.S||this.buffer.kr||
(this.S=0);switch(this.S){case 0:this.zc?(this.e=a.aa,d=!a.Ji,a.Ji=!0):(this.e=new Audio,this.e.crossOrigin="anonymous",this.e.autoplay=!1,this.e.src=a.aa.src,d=!0);d&&this.e.addEventListener("ended",function(){u=c.tag;c.Rb=!0;J.trigger(pc.prototype.d.Di,O)});break;case 1:this.Pa=g();this.Pa.connect(m(b));1===this.buffer.S?a.aa&&(this.e=z.createBufferSource(),this.e.buffer=a.aa,this.e.connect(this.Pa)):(this.e=this.buffer.aa,this.buffer.Fm.connect(this.Pa),this.buffer.Ji||(this.buffer.Ji=!0,this.buffer.aa.addEventListener("ended",
function(){u=c.tag;c.Rb=!0;J.trigger(pc.prototype.d.Di,O)})));break;case 2:this.e=new window.Media(Q+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.Xf=!0,c.Rb=!0,u=c.tag,J.trigger(pc.prototype.d.Di,O))});break;case 3:this.e=!0}}function K(a){S(Fa);if(a.length){var b,c,d;b=0;for(c=B.length;b<c;b++)d=B[b],mb(a,d.tag)&&Fa.push(d)}else G&&!G.ff()&&(S(Fa),Fa[0]=G)}function I(a,b){Y.hasOwnProperty(a)?Y[a].push(b):Y[a]=[b];var c,d,f,e,k=z.destination;if(Y.hasOwnProperty(a)&&(f=Y[a],f.length))for(k=
f[0].nc(),c=0,d=f.length;c<d;c++)e=f[c],c+1===d?e.tc(z.destination):e.tc(f[c+1].nc());K(a);c=0;for(d=Fa.length;c<d;c++)Fa[c].uw(k);Ka&&Db===a&&(Ka.disconnect(),Ka.connect(k))}function H(){}function E(){}var y=pc.prototype;y.ca=function(a){this.ba=a;this.b=a.b};y.ca.prototype.H=function(){};var J=null,O=null,u="",Q="",L=0,z=null,M=[],B=[],G=null,P=!1,R=0,F=!1,N=1,T=0,ia=0,U=!1,sa=1,ja=1,Ja=10,Dc=1E4,Ec=1,Ka=null,Db="",Va=!1,Wa=[],Ua=!1,Y={},Gc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
v.prototype.tc=function(a){this.I.disconnect();this.I.connect(a);this.G.disconnect();this.G.connect(a)};v.prototype.remove=function(){this.W.disconnect();this.La.disconnect();this.I.disconnect();this.G.disconnect()};v.prototype.nc=function(){return this.W};d.prototype.tc=function(a){this.I.disconnect();this.I.connect(a);this.G.disconnect();this.G.connect(a)};d.prototype.remove=function(){this.W.disconnect();this.Rh.disconnect();this.wc.disconnect();this.Xi.disconnect();this.I.disconnect();this.G.disconnect()};
d.prototype.nc=function(){return this.W};f.prototype.tc=function(a){this.I.disconnect();this.I.connect(a);this.G.disconnect();this.G.connect(a)};f.prototype.remove=function(){this.W.disconnect();this.Re.disconnect();this.I.disconnect();this.G.disconnect()};f.prototype.nc=function(){return this.W};c.prototype.tc=function(a){this.G.disconnect();this.G.connect(a);this.I.disconnect();this.I.connect(a)};c.prototype.remove=function(){this.W.disconnect();this.wc.disconnect();this.eb.disconnect();this.gc.disconnect();
this.G.disconnect();this.I.disconnect();this.hj.disconnect()};c.prototype.nc=function(){return this.W};k.prototype.tc=function(a){this.G.disconnect();this.G.connect(a);this.I.disconnect();this.I.connect(a)};k.prototype.remove=function(){this.W.disconnect();this.La.disconnect();this.eb.disconnect();this.gc.disconnect();this.G.disconnect();this.I.disconnect()};k.prototype.nc=function(){return this.W};h.prototype.tc=function(a){this.Y.disconnect();this.Y.connect(a)};h.prototype.remove=function(){this.Y.disconnect()};
h.prototype.nc=function(){return this.Y};q.prototype.tc=function(a){this.Y.disconnect();this.Y.connect(a)};q.prototype.remove=function(){this.eb.disconnect();this.gc.disconnect();this.Y.disconnect()};q.prototype.nc=function(){return this.Y};p.prototype.tc=function(a){this.I.disconnect();this.I.connect(a);this.G.disconnect();this.G.connect(a)};p.prototype.remove=function(){this.eb.disconnect();this.gi.disconnect();this.W.disconnect();this.I.disconnect();this.G.disconnect()};p.prototype.nc=function(){return this.W};
A.prototype.Jw=function(a,b){.01>a&&(a=.01);this.dk.gain.value=a;this.ck.gain.value=Math.pow(1/a,.6)*b};A.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};A.prototype.Ou=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),f=0,e=0;32768>e;++e)f=e/32768,f=this.shape(f,c,d),this.Vi[32768+e]=f,this.Vi[32768-e-1]=-f};A.prototype.tc=function(a){this.I.disconnect();this.I.connect(a);this.G.disconnect();this.G.connect(a)};
A.prototype.remove=function(){this.W.disconnect();this.dk.disconnect();this.Kk.disconnect();this.ck.disconnect();this.I.disconnect();this.G.disconnect()};A.prototype.nc=function(){return this.W};l.prototype.tc=function(a){this.Y.disconnect();this.Y.connect(a)};l.prototype.remove=function(){this.Y.disconnect()};l.prototype.nc=function(){return this.Y};w.prototype.Wa=function(){this.Y.getFloatFrequencyData(this.Mu);this.Y.getByteTimeDomainData(this.er);for(var a=this.Y.fftSize,b=0,c=this.$h=0,d=0;b<
a;b++)d=(this.er[b]-128)/128,0>d&&(d=-d),this.$h<d&&(this.$h=d),c+=d*d;this.$h=n(this.$h);n(Math.sqrt(c/a))};w.prototype.tc=function(a){this.Y.disconnect();this.Y.connect(a)};w.prototype.remove=function(){this.Y.disconnect()};w.prototype.nc=function(){return this.Y};V.prototype.hi=function(a){this.ea=a};V.prototype.vj=function(){return!!this.ea};V.prototype.Wa=function(){};var kb=!1;x.prototype.vw=function(){var a,b,c,d;c=a=0;for(b=B.length;a<b;++a)d=B[a],B[c]=d,d.buffer===this?d.stop():++c;B.length=
c;this.Dd=this.aa=null};x.prototype.Io=function(){if(!this.aa&&this.Dd){var a=this;if(z.decodeAudioData)z.decodeAudioData(this.Dd,function(b){a.aa=b;a.Dd=null;var c,d,f;if(ea(a.ak)||F)ea(a.Ri)||(c=a.Ri.Re,c.normalize=a.mq,c.buffer=b);else if(a.xg.length){c=0;for(d=a.xg.length;c<d;c++){b=a.xg[c];f=new C(a,b.mr);f.nk(!0);if("undefined"!==typeof b.oq&&(b.ea=J.kh(b.oq),!b.ea))continue;if(b.ea){var e=Qa(b.ea.x,b.ea.y,-b.ea.g.hb(),T,ia,!0),k=Qa(b.ea.x,b.ea.y,-b.ea.g.hb(),T,ia,!1);f.$m(e,k,Ea(b.ea.i-b.ea.g.hb()),
b.Pl,b.vm,b.ym);f.hi(b.ea)}else f.$m(b.x,b.y,b.ft,b.Pl,b.vm,b.ym);f.play(a.pm,a.sn,a.kk);a.Zj&&f.pause();B.push(f)}S(a.xg)}else f=new C(a,a.ak||""),f.play(a.pm,a.sn,a.kk),a.Zj&&f.pause(),B.push(f)},function(){a.fj=!0});else if(this.aa=z.createBuffer(this.Dd,!1),this.Dd=null,ea(this.ak)||F)ea(this.Ri)||(b=this.Ri.Re,b.normalize=this.mq,b.buffer=this.aa);else{var b=new C(this,this.ak);b.play(this.pm,this.sn,this.kk);this.Zj&&b.pause();B.push(b)}}};x.prototype.up=function(){switch(this.S){case 0:var a=
4<=this.aa.readyState;a&&(this.un=!0);return a||this.un;case 1:return!!this.Dd||!!this.aa;case 2:return!0;case 3:return!0}return!1};x.prototype.Bv=function(){switch(this.S){case 0:return this.up();case 1:return!!this.aa;case 2:return!0;case 3:return!0}return!1};x.prototype.rv=function(){switch(this.S){case 0:return!!this.aa.error;case 1:return this.fj}return!1};C.prototype.ff=function(){switch(this.S){case 0:return this.e.ended;case 1:return 1===this.buffer.S?!this.od&&!this.Rb&&this.e.loop||this.ec?
!1:this.Xf:this.e.ended;case 2:return this.Xf;case 3:!0}return!0};C.prototype.yt=function(){return this.od||this.Rb?!0:this.ff()};C.prototype.nk=function(a){1===L&&(!this.td&&a?this.Pa&&(this.Na||(this.Na=z.createPanner(),this.Na.panningModel="number"===typeof this.Na.panningModel?sa:["equalpower","HRTF","soundfield"][sa],this.Na.distanceModel="number"===typeof this.Na.distanceModel?ja:["linear","inverse","exponential"][ja],this.Na.refDistance=Ja,this.Na.maxDistance=Dc,this.Na.rolloffFactor=Ec),this.Pa.disconnect(),
this.Pa.connect(this.Na),this.Na.connect(m(this.tag)),this.td=!0):this.td&&!a&&this.Pa&&(this.Na.disconnect(),this.Pa.disconnect(),this.Pa.connect(m(this.tag)),this.td=!1))};C.prototype.$m=function(a,b,c,d,f,e){this.td&&1===L&&(this.Na.setPosition(a,b,0),this.Na.setOrientation(Math.cos(W(c)),Math.sin(W(c)),0),this.Na.coneInnerAngle=d,this.Na.coneOuterAngle=f,this.Na.coneOuterGain=e,this.xq=a,this.yq=b,this.tq=c,this.uq=d,this.vq=f,this.wq=e)};C.prototype.hi=function(a){this.td&&1===L&&(this.ib||(this.ib=
new V),this.ib.hi(a))};C.prototype.Wa=function(a){if(this.td&&1===L&&this.ib&&this.ib.vj()&&this.zh()){this.ib.Wa(a);a=this.ib.ea;var b=Qa(a.x,a.y,-a.g.hb(),T,ia,!0),c=Qa(a.x,a.y,-a.g.hb(),T,ia,!1);this.Na.setPosition(b,c,0);b=0;"undefined"!==typeof this.ib.ea.i&&(b=a.i-a.g.hb(),this.Na.setOrientation(Math.cos(b),Math.sin(b),0))}};C.prototype.play=function(a,c,d,f){var e=this.e;this.sd=a;this.volume=c;d=d||0;f=f||0;switch(this.S){case 0:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==c*N&&(e.volume=
c*N);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=!1);if(e.currentTime!==d)try{e.currentTime=d}catch(k){}if(this.zc&&Va&&!J.qa)Wa.push(this);else try{this.e.play()}catch(h){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",h)}break;case 1:this.muted=!1;this.qg=1;if(1===this.buffer.S)this.Pa.gain.value=c*N,this.od||(this.e=z.createBufferSource(),this.e.buffer=this.buffer.aa,this.e.connect(this.Pa)),this.e.onended=this.Dm,this.Ii=this.e,this.e.loop=
a,this.Xf=!1,0===d?r(this.e,f):b(this.e,d,this.cf(),f);else{1!==e.playbackRate&&(e.playbackRate=1);e.loop!==a&&(e.loop=a);e.volume=c*N;if(e.currentTime!==d)try{e.currentTime=d}catch(p){}this.zc&&Va&&!J.qa?Wa.push(this):e.play()}break;case 2:(!this.od&&this.Rb||0!==d)&&e.seekTo(d);e.play();this.Xf=!1;break;case 3:J.Za?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.Zf?J.ab.T:J.ee.T)-d;this.ec=this.Rb=this.od=!1};C.prototype.stop=function(){switch(this.S){case 0:this.e.paused||
this.e.pause();break;case 1:1===this.buffer.S?a(this.e):this.e.paused||this.e.pause();break;case 2:this.e.stop();break;case 3:J.Za&&AppMobi.context.stopSound(this.src)}this.Rb=!0;this.ec=!1};C.prototype.pause=function(){if(!(this.od||this.Rb||this.ff()||this.ec)){switch(this.S){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.S?(this.Qb=this.Hl(!0),this.sd&&(this.Qb=this.Qb%this.cf()),this.ec=!0,a(this.e)):this.e.paused||this.e.pause();break;case 2:this.e.pause();break;case 3:J.Za&&
AppMobi.context.stopSound(this.src)}this.ec=!0}};C.prototype.Aw=function(){if(!(this.od||this.Rb||this.ff())&&this.ec){switch(this.S){case 0:this.e.play();break;case 1:1===this.buffer.S?(this.e=z.createBufferSource(),this.e.buffer=this.buffer.aa,this.e.connect(this.Pa),this.e.onended=this.Dm,this.Ii=this.e,this.e.loop=this.sd,this.Pa.gain.value=N*this.volume*this.qg,this.Gk(),this.startTime=(this.Zf?J.ab.T:J.ee.T)-this.Qb/(this.playbackRate||.001),b(this.e,this.Qb,this.cf())):this.e.play();break;
case 2:this.e.play();break;case 3:J.Za&&AppMobi.context.resumeSound(this.src)}this.ec=!1}};C.prototype.seek=function(a){if(!(this.od||this.Rb||this.ff()))switch(this.S){case 0:try{this.e.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.S)this.ec?this.Qb=a:(this.pause(),this.Qb=a,this.Aw());else try{this.e.currentTime=a}catch(c){}break;case 3:J.Za&&AppMobi.context.seekSound(this.src,a)}};C.prototype.uw=function(a){1===this.S&&(this.td?(this.Na.disconnect(),this.Na.connect(a)):(this.Pa.disconnect(),
this.Pa.connect(a)))};C.prototype.cf=function(){var a=0;switch(this.S){case 0:"undefined"!==typeof this.e.duration&&(a=this.e.duration);break;case 1:a=this.buffer.aa.duration;break;case 2:a=this.e.getDuration();break;case 3:J.Za&&(a=AppMobi.context.getDurationSound(this.src))}return a};C.prototype.Hl=function(a){var b=this.cf(),c=0;switch(this.S){case 0:"undefined"!==typeof this.e.currentTime&&(c=this.e.currentTime);break;case 1:if(1===this.buffer.S){if(this.ec)return this.Qb;c=(this.Zf?J.ab.T:J.ee.T)-
this.startTime}else"undefined"!==typeof this.e.currentTime&&(c=this.e.currentTime);break;case 3:J.Za&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.sd&&c>b&&(c=b);return c};C.prototype.zh=function(){return!this.ec&&!this.od&&!this.Rb&&!this.ff()};C.prototype.Ow=function(){return!this.od&&!this.Rb&&!this.ff()};C.prototype.Yw=function(){var a=this.volume*N;isFinite(a)||(a=0);switch(this.S){case 0:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=
a);break;case 1:1===this.buffer.S?this.Pa.gain.value=a*this.qg:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=a)}};C.prototype.aj=function(a){switch(this.S){case 0:this.e.muted!==!!a&&(this.e.muted=!!a);break;case 1:1===this.buffer.S?(this.qg=a?0:1,this.Pa.gain.value=N*this.volume*this.qg):this.e.muted!==!!a&&(this.e.muted=!!a)}};C.prototype.Kw=function(){this.bg=!0;this.aj(this.bg||this.Dh)};C.prototype.Yq=function(a){this.Dh=!!a;this.aj(this.bg||this.Dh)};C.prototype.Gk=function(){var a=
this.playbackRate;this.Zf&&(a*=J.Df);switch(this.S){case 0:this.e.playbackRate!==a&&(this.e.playbackRate=a);break;case 1:1===this.buffer.S?this.e.playbackRate.value!==a&&(this.e.playbackRate.value=a):this.e.playbackRate!==a&&(this.e.playbackRate=a)}};C.prototype.Mw=function(c){switch(this.S){case 0:c?this.zh()?(this.rc=!0,this.e.pause()):this.rc=!1:this.rc&&(this.e.play(),this.rc=!1);break;case 1:c?this.zh()?(this.rc=!0,1===this.buffer.S?(this.Qb=this.Hl(!0),this.sd&&(this.Qb=this.Qb%this.cf()),a(this.e)):
this.e.pause()):this.rc=!1:this.rc&&(1===this.buffer.S?(this.e=z.createBufferSource(),this.e.buffer=this.buffer.aa,this.e.connect(this.Pa),this.e.onended=this.Dm,this.Ii=this.e,this.e.loop=this.sd,this.Pa.gain.value=N*this.volume*this.qg,this.Gk(),this.startTime=(this.Zf?J.ab.T:J.ee.T)-this.Qb/(this.playbackRate||.001),b(this.e,this.Qb,this.cf())):this.e.play(),this.rc=!1);break;case 2:c?this.zh()?(this.e.pause(),this.rc=!0):this.rc=!1:this.rc&&(this.rc=!1,this.e.play())}};y.U=function(a){function b(){if(!U&&
z.createBuffer){var a=z.createBuffer(1,220,22050),c=z.createBufferSource();c.buffer=a;c.connect(z.destination);r(c)}}this.type=a;J=this.b=a.b;O=this;this.fc=null;this.Jh=-600;this.b.Ch&&(Ua=!0);!(this.b.fg||this.b.yj&&(this.b.uh||this.b.zj))||this.b.vh||this.b.O||this.b.Vl||Ua||(Va=!0);z=null;"undefined"!==typeof AudioContext?(L=1,z=new AudioContext):"undefined"!==typeof webkitAudioContext&&(L=1,z=new webkitAudioContext);this.b.fg&&z&&(z.close&&z.close(),"undefined"!==typeof AudioContext?z=new AudioContext:
"undefined"!==typeof webkitAudioContext&&(z=new webkitAudioContext));Va?document.addEventListener("touchend",function(){!kb&&z&&(b(),kb=!0);var a,c,d;if(Va){if(!F)for(a=0,c=Wa.length;a<c;++a)d=Wa[a],d.Rb||d.ec||d.e.play();S(Wa)}},!0):Ua&&document.addEventListener("touchend",function(){!kb&&z&&(b(),kb=!0)},!0);1!==L&&(this.b.ac&&"undefined"!==typeof window.Media?L=2:this.b.tp&&(L=3));2===L&&(Q=location.href,a=Q.lastIndexOf("/"),-1<a&&(Q=Q.substr(0,a+1)),Q=Q.replace("file://",""));if(this.b.Dv&&this.b.Ev&&
"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Ke(this);else{if(this.b.Za)P=this.b.yj;else try{P=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){P=!1}this.b.Cf(this)}};var qa=y.U.prototype;qa.H=function(){this.b.Jf=this;R=this.F[0];this.Wd=this.F[1];this.hw=0!==this.F[2];this.Pj=0;sa=this.F[3];ja=this.F[4];this.Jh=-this.F[5];Ja=this.F[6];Dc=this.F[7];Ec=this.F[8];this.fc=
new V;var a=this.b.D||this.b.width,b=this.b.C||this.b.height;1===L&&(z.listener.setPosition(a/2,b/2,this.Jh),z.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Ka&&Ka.disconnect();Db=b.toLowerCase();Ka=z.createMediaStreamSource(a);Ka.connect(m(Db))});this.b.mo(function(a){O.aw(a)});var c=this;this.b.ko(function(a){c.Cm(a)})};qa.Cm=function(a){var b,c,d;b=0;for(c=B.length;b<c;b++)d=B[b],d.ib&&d.ib.ea===a&&(d.ib.ea=null,d.td&&d.zh()&&d.sd&&d.stop());this.fc.ea===a&&(this.fc.ea=
null)};qa.lb=function(){var a={silent:F,masterVolume:N,listenerZ:this.Jh,listenerUid:this.fc.vj()?this.fc.ea.uid:-1,playing:[],effects:{}},b=a.playing,c,d,f,e,k,h;c=0;for(d=B.length;c<d;c++)f=B[c],!f.Ow()||3===this.Wd||f.zc&&1===this.Wd||!f.zc&&2===this.Wd||(e=f.Hl(),f.sd&&(e=e%f.cf()),e={tag:f.tag,buffersrc:f.buffer.src,is_music:f.zc,playbackTime:e,volume:f.volume,looping:f.sd,muted:f.bg,playbackRate:f.playbackRate,paused:f.ec,resume_position:f.Qb},f.td&&(e.pan={},h=e.pan,f.ib&&f.ib.vj()?h.objUid=
f.ib.ea.uid:(h.x=f.xq,h.y=f.yq,h.a=f.tq),h.ia=f.uq,h.oa=f.vq,h.og=f.wq),b.push(e));b=a.effects;for(k in Y)if(Y.hasOwnProperty(k)){f=[];c=0;for(d=Y[k].length;c<d;c++)f.push({type:Y[k][c].type,params:Y[k][c].Vc});b[k]=f}return a};var Xa=[];qa.Ib=function(a){var b=a.silent;N=a.masterVolume;this.Jh=a.listenerZ;this.fc.hi(null);var e=a.listenerUid;-1!==e&&(this.fc.Ij=e,Xa.push(this.fc));var e=a.playing,g,r,m,t,n,u,C,K,y,x,z;if(3!==this.Wd)for(g=0,r=B.length;g<r;g++)y=B[g],y.zc&&1===this.Wd||(y.zc||2!==
this.Wd)&&y.stop();for(n in Y)if(Y.hasOwnProperty(n))for(g=0,r=Y[n].length;g<r;g++)Y[n][g].remove();Za(Y);for(n in a.effects)if(a.effects.hasOwnProperty(n))for(u=a.effects[n],g=0,r=u.length;g<r;g++)switch(m=u[g].type,x=u[g].params,m){case "filter":I(n,new v(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "delay":I(n,new d(x[0],x[1],x[2]));break;case "convolve":m=x[2];y=this.nj(m,!1);y.aa?m=new f(y.aa,x[0],x[1],m):(m=new f(null,x[0],x[1],m),y.mq=x[0],y.Ri=m);I(n,m);break;case "flanger":I(n,new c(x[0],x[1],
x[2],x[3],x[4]));break;case "phaser":I(n,new k(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "gain":I(n,new h(x[0]));break;case "tremolo":I(n,new q(x[0],x[1]));break;case "ringmod":I(n,new p(x[0],x[1]));break;case "distortion":I(n,new A(x[0],x[1],x[2],x[3],x[4]));break;case "compressor":I(n,new l(x[0],x[1],x[2],x[3],x[4]));break;case "analyser":I(n,new w(x[0],x[1]))}g=0;for(r=e.length;g<r;g++)3===this.Wd||(a=e[g],m=a.buffersrc,t=a.is_music,n=a.tag,u=a.playbackTime,C=a.looping,K=a.volume,z=(x=a.pan)&&
x.hasOwnProperty("objUid")?x.objUid:-1,t&&1===this.Wd)||!t&&2===this.Wd||((y=this.oj(m,n,t,C,K))?(y.Qb=a.resume_position,y.nk(!!x),y.play(C,K,u),y.Gk(),y.Yw(),y.aj(y.bg||y.Dh),a.paused&&y.pause(),a.muted&&y.Kw(),y.aj(y.bg||y.Dh),x&&(-1!==z?(y.ib=y.ib||new V,y.ib.Ij=z,Xa.push(y.ib)):y.$m(x.x,x.y,x.a,x.ia,x.oa,x.og))):(y=this.nj(m,t),y.kk=u,y.Zj=a.paused,x&&(-1!==z?y.xg.push({oq:z,Pl:x.ia,vm:x.oa,ym:x.og,mr:n}):y.xg.push({x:x.x,y:x.y,ft:x.a,Pl:x.ia,vm:x.oa,ym:x.og,mr:n}))));if(b&&!F){g=0;for(r=B.length;g<
r;g++)B[g].Yq(!0);F=!0}else if(!b&&F){g=0;for(r=B.length;g<r;g++)B[g].Yq(!1);F=!1}};qa.ed=function(){var a,b,c,d;a=0;for(b=Xa.length;a<b;a++)c=Xa[a],d=this.b.kh(c.Ij),c.hi(d),c.Ij=-1,d&&(T=d.x,ia=d.y);S(Xa)};qa.aw=function(a){if(!this.hw){!a&&z&&z.resume&&(z.resume(),U=!1);var b,c;b=0;for(c=B.length;b<c;b++)B[b].Mw(a);a&&z&&z.suspend&&(z.suspend(),U=!0)}};qa.Wa=function(){var a=this.b.Ve,b,c,d;b=0;for(c=B.length;b<c;b++)d=B[b],d.Wa(a),0!==R&&d.Gk();var f,e;for(f in Y)if(Y.hasOwnProperty(f))for(d=
Y[f],b=0,c=d.length;b<c;b++)e=d[b],e.Wa&&e.Wa();1===L&&this.fc.vj()&&(this.fc.Wa(a),T=this.fc.ea.x,ia=this.fc.ea.y,z.listener.setPosition(this.fc.ea.x,this.fc.ea.y,this.Jh))};var Ya=[];qa.Lw=function(a){var b,c,d,f,e,k=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],f=d[0],d=2*d[1],(e=4<f.length&&".ogg"===f.substr(f.length-4))&&P||!e&&!P)Ya.push({filename:f,size:d,ea:null}),k+=d;return k};qa.Qw=function(){var a,b,c,d;a=0;for(b=Ya.length;a<b;++a)c=Ya[a],d=this.b.hh+c.filename,c.ea=this.nj(d,!1)};qa.Wu=function(){var a=
0,b,c,d;b=0;for(c=Ya.length;b<c;++b)d=Ya[b],d.ea.Bv()||d.ea.rv()||this.b.O||this.b.zj?a+=d.size:d.ea.up()&&(a+=Math.floor(d.size/2));return a};qa.ww=function(){var a,b,c,d;c=a=0;for(b=M.length;a<b;++a)d=M[a],M[c]=d,d.zc?d.vw():++c;M.length=c};qa.nj=function(a,b){var c,d,f,e=null;c=0;for(d=M.length;c<d;c++)if(f=M[c],f.src===a){e=f;break}e||(Ua&&b&&this.ww(),e=new x(a,b),M.push(e));return e};qa.oj=function(a,b,c,d,f){var e,k,h;e=0;for(k=B.length;e<k;e++)if(h=B[e],h.src===a&&(h.yt()||c))return h.tag=
b,h;a=this.nj(a,c);if(!a.aa)return"<preload>"!==b&&(a.ak=b,a.pm=d,a.sn=f),null;h=new C(a,b);B.push(h);return h};var Fa=[];H.prototype.Di=function(a){return mb(u,a)};y.d=new H;E.prototype.Play=function(a,b,c,d){!F&&(c=e(c),G=this.oj(this.b.hh+a[0]+(P?".ogg":".m4a"),d,a[1],0!==b,c))&&(G.nk(!1),G.play(0!==b,c,0,this.Pj),this.Pj=0)};E.prototype.Js=function(a,b,c,d,f){!F&&(d=e(d),G=this.oj(this.b.hh+b.toLowerCase()+(P?".ogg":".m4a"),f,1===a,0!==c,d))&&(G.nk(!1),G.play(0!==c,d,0,this.Pj),this.Pj=0)};E.prototype.Ks=
function(a){if(!F){var b=a[1];a=this.b.hh+a[0]+(P?".ogg":".m4a");3===L?this.b.Za?AppMobi.context.loadSound(a):AppMobi.player.loadSound(a):2!==L&&this.oj(a,"<preload>",b,!1)}};E.prototype.Ws=function(a){K(a);var b;a=0;for(b=Fa.length;a<b;a++)Fa[a].stop()};y.q=new E;y.za=new function(){}})();function qc(e){this.b=e}
(function(){function e(){}function n(){}function m(b){console&&console.warn&&console.warn("Fullscreen request failed: ",b);r.setSize(window.innerWidth,window.innerHeight)}var g=qc.prototype;g.ca=function(b){this.ba=b;this.b=b.b};g.ca.prototype.H=function(){};g.U=function(b){this.type=b;this.b=b.b};g.U.prototype.H=function(){var b=this;window.addEventListener("resize",function(){b.b.trigger(qc.prototype.d.Fs,b)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){b.b.trigger(qc.prototype.d.Cs,
b)}),window.addEventListener("offline",function(){b.b.trigger(qc.prototype.d.Bs,b)}));"undefined"!==typeof window.applicationCache&&(window.applicationCache.addEventListener("updateready",function(){b.b.rf=1;b.b.trigger(qc.prototype.d.Vn,b)}),window.applicationCache.addEventListener("progress",function(a){b.b.rf=a.loaded/a.total||0}));this.b.Za||(document.addEventListener("appMobi.device.update.available",function(){b.b.trigger(qc.prototype.d.Vn,b)}),document.addEventListener("backbutton",function(){b.b.trigger(qc.prototype.d.Ci,
b)}),document.addEventListener("menubutton",function(){b.b.trigger(qc.prototype.d.Jn,b)}),document.addEventListener("searchbutton",function(){b.b.trigger(qc.prototype.d.Gs,b)}),document.addEventListener("tizenhwkey",function(a){var e;switch(a.keyName){case "back":e=b.b.trigger(qc.prototype.d.Ci,b);!e&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(e=b.b.trigger(qc.prototype.d.Jn,b))||a.preventDefault()}}));this.b.am&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",
function(a){b.b.trigger(qc.prototype.d.Ci,b)&&(a.uj=!0)}):this.b.$l&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!b.b.trigger(qc.prototype.d.Ci,b)});this.b.mo(function(a){a?b.b.trigger(qc.prototype.d.Ds,b):b.b.trigger(qc.prototype.d.Es,b)});this.Gv="undefined"!==typeof window.is_scirra_arcade};e.prototype.Cs=function(){return!0};e.prototype.Bs=function(){return!0};e.prototype.Vn=function(){return!0};e.prototype.Es=function(){return!0};e.prototype.Ds=function(){return!0};e.prototype.Fs=
function(){return!0};e.prototype.Ci=function(){return!0};e.prototype.Jn=function(){return!0};e.prototype.Gs=function(){return!0};g.d=new e;n.prototype.Kr=function(){this.b.$b?CocoonJS.App.forceToFinish():window.tizen?window.tizen.application.getCurrentApplication().exit():navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():this.Gv||this.b.O||window.close()};var t=!0,r=null;n.prototype.Ms=function(b){this.b.O?D("[Construct 2] Requesting fullscreen is not supported on this platform - the request has been ignored"):
(2<=b&&(b+=1),6===b&&(b=2),this.b.Cv?this.b.yv?debuggerFullscreen(!0):!this.b.kf&&window.nwgui&&(window.nwgui.Window.get().enterFullscreen(),this.b.kf=!0,this.b.Ld=2<=b?b:0):document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreen||document.fullScreenElement||(this.b.Ld=2<=b?b:0,b=this.b.Xg||this.b.canvas,t&&(t=!1,r=this.b,b.addEventListener("mozfullscreenerror",m),b.addEventListener("webkitfullscreenerror",m),b.addEventListener("MSFullscreenError",m),
b.addEventListener("fullscreenerror",m)),b.requestFullscreen?b.requestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.msRequestFullscreen?b.msRequestFullscreen():b.webkitRequestFullScreen&&("undefined"!==typeof Element&&"undefined"!==typeof Element.ALLOW_KEYBOARD_INPUT?b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):b.webkitRequestFullScreen())))};g.q=new n;g.za=new function(){}})();function rc(e){this.b=e}
(function(){function e(){}function n(){}var m=rc.prototype;m.ca=function(e){this.ba=e;this.b=e.b};m.ca.prototype.H=function(){};m.U=function(e){this.type=e;this.b=e.b};var g=m.U.prototype;g.H=function(){this.b.O?D("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.Yf=1===this.F[0],this.yc=document.createElement("input"),this.ga=this.Yf?document.createElement("label"):this.yc,this.Hh=null,this.yc.type=this.Yf?"checkbox":"button",this.yc.id=this.F[6],
jQuery(this.ga).appendTo(this.b.Xg?this.b.Xg:"body"),this.Yf?(jQuery(this.yc).appendTo(this.ga),this.Hh=document.createTextNode(this.F[1]),jQuery(this.ga).append(this.Hh),this.yc.checked=0!==this.F[7],jQuery(this.ga).css("font-family","sans-serif"),jQuery(this.ga).css("display","inline-block"),jQuery(this.ga).css("color","black")):this.yc.value=this.F[1],this.ga.title=this.F[2],this.yc.disabled=0===this.F[4],this.ot=0!==this.F[5],this.Ye=!1,0===this.F[3]&&(jQuery(this.ga).hide(),this.visible=!1,this.Ye=
!0),this.yc.onclick=function(e){return function(g){g.stopPropagation();e.b.qa=!0;e.b.trigger(rc.prototype.d.ns,e);e.b.qa=!1}}(this),this.ga.addEventListener("touchstart",function(e){e.stopPropagation()},!1),this.ga.addEventListener("touchmove",function(e){e.stopPropagation()},!1),this.ga.addEventListener("touchend",function(e){e.stopPropagation()},!1),jQuery(this.ga).mousedown(function(e){e.stopPropagation()}),jQuery(this.ga).mouseup(function(e){e.stopPropagation()}),jQuery(this.ga).keydown(function(e){e.stopPropagation()}),
jQuery(this.ga).keyup(function(e){e.stopPropagation()}),this.Ip=this.Jp=this.Bp=this.Fp=this.Hp=this.Dp=0,this.Ar(!0),this.b.Cf(this))};g.lb=function(){var e={tooltip:this.ga.title,disabled:!!this.yc.disabled};this.Yf?(e.checked=!!this.yc.checked,e.text=this.Hh.nodeValue):e.text=this.ga.value;return e};g.Ib=function(e){this.ga.title=e.tooltip;this.yc.disabled=e.disabled;this.Yf?(this.yc.checked=e.checked,this.Hh.nodeValue=e.text):this.ga.value=e.text};g.Fe=function(){this.b.O||(jQuery(this.ga).remove(),
this.ga=null)};g.Wa=function(){this.Ar()};g.Ar=function(e){if(!this.b.O){var g=this.g.Hb(this.x,this.y,!0),b=this.g.Hb(this.x,this.y,!1),a=this.g.Hb(this.x+this.width,this.y+this.height,!0),m=this.g.Hb(this.x+this.width,this.y+this.height,!1),d=this.b.width/this.b.devicePixelRatio,f=this.b.height/this.b.devicePixelRatio;!this.visible||!this.g.visible||0>=a||0>=m||g>=d||b>=f?(this.Ye||jQuery(this.ga).hide(),this.Ye=!0):(1>g&&(g=1),1>b&&(b=1),a>=d&&(a=d-1),m>=f&&(m=f-1),d=window.innerWidth,f=window.innerHeight,
e||this.Dp!==g||this.Hp!==b||this.Fp!==a||this.Bp!==m||this.Jp!==d||this.Ip!==f?(this.Dp=g,this.Hp=b,this.Fp=a,this.Bp=m,this.Jp=d,this.Ip=f,this.Ye&&(jQuery(this.ga).show(),this.Ye=!1),e=Math.round(g)+jQuery(this.b.canvas).offset().left,d=Math.round(b)+jQuery(this.b.canvas).offset().top,jQuery(this.ga).css("position","absolute"),jQuery(this.ga).offset({left:e,top:d}),jQuery(this.ga).width(Math.round(a-g)),jQuery(this.ga).height(Math.round(m-b)),this.ot&&jQuery(this.ga).css("font-size",this.g.oc(!0)/
this.b.devicePixelRatio-.2+"em")):this.Ye&&(jQuery(this.ga).show(),this.Ye=!1))}};g.kd=function(){};g.Ob=function(){};e.prototype.ns=function(){return!0};m.d=new e;n.prototype.Xn=function(e){this.b.O||(this.Yf?this.Hh.nodeValue=e:this.ga.value=e)};n.prototype.Qk=function(e){this.b.O||(this.visible=0!==e)};m.q=new n;m.za=new function(){}})();function sc(e){this.b=e}
(function(){function e(){b||(b=!0,v.trigger(sc.prototype.d.In,d),FB.api("/me?fields=name,first_name,last_name",function(b){a=b.name;v.trigger(sc.prototype.d.Kn,d)}))}function n(){}function m(){}var g=sc.prototype;g.ca=function(a){this.ba=a;this.b=a.b};var t="",r=!1,b=!1,a="",v=null,d=null,f="",c=!1;g.ca.prototype.H=function(){};g.U=function(a){this.type=a;this.b=a.b};var k=g.U.prototype;k.H=function(){this.b.O?D("[Construct 2] Facebook plugin not supported on this platform - the object will not be created"):
(this.b.Cf(this),t=this.F[0],v=this.b,d=this,window.fbAsyncInit=function(){var f=location.pathname;"/"!==f.substr(f.length-1)&&(f=f.substr(0,f.lastIndexOf("/")+1));FB.init({appId:t,channelURL:"//"+location.hostname+f+"channel.html",status:!0,cookie:!0,oauth:!0,xfbml:!1});r=!0;FB.Event.subscribe("auth.login",function(a){a.authResponse&&e()});FB.Event.subscribe("auth.logout",function(){b&&(b=!1,a="",v.trigger(sc.prototype.d.As,d))});FB.getLoginStatus(function(a){a.authResponse&&e()});c||(c=!0,v.trigger(sc.prototype.d.Nn,
d))},t.length&&function(a){var b;a.getElementById("facebook-jssdk")||(b=a.createElement("script"),b.id="facebook-jssdk",b.async=!0,b.src="//connect.facebook.net/en_US/all.js",a.getElementsByTagName("head")[0].appendChild(b))}(document))};k.Wa=function(){!c&&r&&(c=!0,v.trigger(sc.prototype.d.Nn,d))};k.vg=function(){this.b.O||(b&&v.trigger(sc.prototype.d.In,d),a.length&&v.trigger(sc.prototype.d.Kn,d))};n.prototype.Nn=function(){return!0};n.prototype.Yr=function(){return b};n.prototype.In=function(){return!0};
n.prototype.As=function(){return!0};n.prototype.Kn=function(){return!0};g.d=new n;m.prototype.cs=function(a){!this.b.O&&r&&(f=a,FB.login(function(a){a.authResponse&&e()},{scope:f}))};m.prototype.Ls=function(a){!this.b.O&&b&&FB.api("/me/feed","POST",{method:"stream.publish",message:a},function(a){a&&!a.error||console.error(a)})};g.q=new m;g.za=new function(){}})();function tc(e){this.b=e}
(function(){function e(){}var n=tc.prototype;n.ca=function(e){this.ba=e;this.b=e.b};n.ca.prototype.H=function(){};n.U=function(e){this.type=e;this.b=e.b;this.Gh=Array(256);this.vi=Array(256);this.be=0};var m=n.U.prototype;m.H=function(){var e=this;this.b.O||(jQuery(document).keydown(function(g){e.Xv(g)}),jQuery(document).keyup(function(g){e.Yv(g)}))};var g=[32,33,34,35,36,37,38,39,40,44];m.Xv=function(e){var r=!1;window!=window.top&&-1<g.indexOf(e.which)&&(e.preventDefault(),r=!0,e.stopPropagation());
if(this.Gh[e.which])this.vi[e.which]&&!r&&e.preventDefault();else{this.Gh[e.which]=!0;this.be=e.which;this.b.qa=!0;this.b.trigger(tc.prototype.d.ls,this);var b=this.b.trigger(tc.prototype.d.xs,this),a=this.b.trigger(tc.prototype.d.ys,this);this.b.qa=!1;if(b||a)this.vi[e.which]=!0,r||e.preventDefault()}};m.Yv=function(e){this.Gh[e.which]=!1;this.be=e.which;this.b.qa=!0;this.b.trigger(tc.prototype.d.yn,this);var g=this.b.trigger(tc.prototype.d.Fn,this),b=this.b.trigger(tc.prototype.d.En,this);this.b.qa=
!1;if(g||b||this.vi[e.which])this.vi[e.which]=!0,e.preventDefault()};m.wf=function(){var e;for(e=0;256>e;++e)if(this.Gh[e]){this.Gh[e]=!1;this.be=e;this.b.trigger(tc.prototype.d.yn,this);var g=this.b.trigger(tc.prototype.d.Fn,this),b=this.b.trigger(tc.prototype.d.En,this);if(g||b)this.vi[e]=!0}};m.lb=function(){return{triggerKey:this.be}};m.Ib=function(e){this.be=e.triggerKey};e.prototype.xs=function(e){return e===this.be};e.prototype.ls=function(){return!0};e.prototype.yn=function(){return!0};e.prototype.Fn=
function(e){return e===this.be};e.prototype.ys=function(e){return e===this.be};e.prototype.En=function(e){return e===this.be};n.d=new e;n.q=new function(){};n.za=new function(){}})();var uc=!1;
try{!function(){var e,n,m;!function(){var g={},t={};e=function(e,b,a){g[e]={Ft:b,xt:a}};m=n=function(e){function b(a){if("."!==a.charAt(0))return a;a=a.split("/");for(var b=e.split("/").slice(0,-1),c=0,d=a.length;d>c;c++){var f=a[c];".."===f?b.pop():"."!==f&&b.push(f)}return b.join("/")}if(m.jy=g,t[e])return t[e];if(t[e]={},!g[e])throw Error("Could not find module "+e);for(var a,v=g[e],d=v.Ft,v=v.xt,f=[],c=0,k=d.length;k>c;c++)"exports"===d[c]?f.push(a={}):f.push(n(b(d[c])));d=v.apply(this,f);return t[e]=
a||d}}();e("promise/all",["./utils","exports"],function(e,m){var r=e.isArray,b=e.isFunction;m.all=function(a){if(!r(a))throw new TypeError("You must pass an array to all.");return new this(function(e,d){function f(a){return function(b){k[a]=b;0===--h&&e(k)}}var c,k=[],h=a.length;0===h&&e([]);for(var g=0;g<a.length;g++)(c=a[g])&&b(c.then)?c.then(f(g),d):(k[g]=c,0===--h&&e(k))})}});e("promise/asap",["exports"],function(e){function m(){return function(){process.Ay(a)}}function r(){var b=0,c=new f(a),
d=document.createTextNode("");return c.observe(d,{characterData:!0}),function(){d.data=b=++b%2}}function b(){return function(){c.setTimeout(a,1)}}function a(){for(var a=0;a<k.length;a++){var b=k[a];(0,b[0])(b[1])}k=[]}var n,d="undefined"!=typeof window?window:{},f=d.MutationObserver||d.WebKitMutationObserver,c="undefined"!=typeof global?global:void 0===this?window:this,k=[];n="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?m():f?r():b();e.mt=function(a,b){1===k.push([a,
b])&&n()}});e("promise/config",["exports"],function(e){var m={ty:!1};e.Fo=m;e.zt=function(e,b){return 2!==arguments.length?m[e]:void(m[e]=b)}});e("promise/polyfill",["./promise","./utils","exports"],function(e,m,r){var b=e.Promise,a=m.isFunction;r.iw=function(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;"Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var b;return new e.Promise(function(a){b=
a}),a(b)}()||(e.Promise=b)}});e("promise/promise","./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "),function(e,m,r,b,a,n,d,f){function c(a){if(!H(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof c))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.Hi=[];k(a,this)}function k(a,b){function c(a){l(b,
a)}function d(a){V(b,a)}try{a(c,d)}catch(f){d(f)}}function h(a,b,c,d){var f,e,k,h,p=H(c);if(p)try{f=c(d),k=!0}catch(g){h=!0,e=g}else f=d,k=!0;A(b,f)||(p&&k?l(b,f):h?V(b,e):a===J?l(b,f):a===O&&V(b,f))}function q(a,b,c,d){a=a.Hi;var f=a.length;a[f]=b;a[f+J]=c;a[f+O]=d}function p(a,b){for(var c,d,f=a.Hi,e=a.Gi,k=0;k<f.length;k+=3)c=f[k],d=f[k+b],h(b,c,d,e);a.Hi=null}function A(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(I(b)&&(d=b.then,
H(d)))return d.call(b,function(d){return c?!0:(c=!0,void(b!==d?l(a,d):w(a,d)))},function(b){return c?!0:(c=!0,void V(a,b))}),!0}catch(f){return c?!0:(V(a,f),!0)}return!1}function l(a,b){a===b?w(a,b):A(a,b)||w(a,b)}function w(a,b){a.Bd===E&&(a.Bd=y,a.Gi=b,K.async(x,a))}function V(a,b){a.Bd===E&&(a.Bd=y,a.Gi=b,K.async(C,a))}function x(a){p(a,a.Bd=J)}function C(a){p(a,a.Bd=O)}var K=e.Fo,I=(e.zt,m.Rv),H=m.isFunction;e=(m.now,r.all);b=b.race;a=a.resolve;n=n.reject;K.async=d.mt;var E=void 0,y=0,J=1,O=2;
c.prototype={constructor:c,Bd:void 0,Gi:void 0,Hi:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this.Bd){var f=arguments;K.async(function(){h(c.Bd,d,f[c.Bd-1],c.Gi)})}else q(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}};c.all=e;c.race=b;c.resolve=a;c.reject=n;f.Promise=c});e("promise/race",["./utils","exports"],function(e,m){var r=e.isArray;m.race=function(b){if(!r(b))throw new TypeError("You must pass an array to race.");return new this(function(a,
e){for(var d,f=0;f<b.length;f++)(d=b[f])&&"function"==typeof d.then?d.then(a,e):a(d)})}});e("promise/reject",["exports"],function(e){e.reject=function(e){return new this(function(g,b){b(e)})}});e("promise/resolve",["exports"],function(e){e.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(g){g(e)})}});e("promise/utils",["exports"],function(e){function m(b){return"function"==typeof b}var r=Date.now||function(){return(new Date).getTime()};e.Rv=function(b){return m(b)||
"object"==typeof b&&null!==b};e.isFunction=m;e.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)};e.now=r});n("promise/polyfill").iw()}();var vc=function(){return function(e){function n(g){if(m[g])return m[g].ld;var t=m[g]={ld:{},id:g,loaded:!1};return e[g].call(t.ld,t,t.ld,n),t.loaded=!0,t.ld}var m={};return n.Kf=e,n.Wg=m,n.nl="",n(0)}([function(e,n,m){n.Fi=!0;var g=function(e){function g(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,
c)})}}function b(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(h(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function a(a){for(var b in d)if(d.hasOwnProperty(b)&&d[b]===a)return!0;return!1}var n={},d={Ng:"asyncStorage",Og:"localStorageWrapper",Qg:"webSQLStorage"},f="clear getItem iterate key keys length removeItem setItem".split(" "),c={description:"",Rf:[d.Ng,d.Qg,d.Og].slice(),name:"localforage",size:4980736,fa:"keyvaluepairs",
version:1},k=function(a){var b={},c;try{var f=f||a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.Po||a.msIndexedDB;c="undefined"!=typeof a.openDatabase&&a.navigator&&a.navigator.userAgent&&/Safari/.test(a.navigator.userAgent)&&!/Chrome/.test(a.navigator.userAgent)?!1:f&&"function"==typeof f.open&&"undefined"!=typeof a.IDBKeyRange}catch(e){c=!1}b[d.Ng]=!!c;var k;try{k=a.openDatabase}catch(h){k=!1}b[d.Qg]=!!k;var g;try{g=a.localStorage&&"setItem"in a.localStorage&&a.localStorage.setItem}catch(m){g=
!1}return b[d.Og]=!!g,b}(e),h=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return new (function(){function e(a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Ng=d.Ng;this.Og=d.Og;this.Qg=d.Qg;this.Rk=b({},c);this.Le=b({},this.Rk,a);this.bo=this.dd=null;this.he=!1;this.da=null;this.co();this.Uq(this.Le.Rf)}return e.prototype.Fo=function(a){if("object"==typeof a){if(this.he)return Error("Can't call config() after localforage has been used.");
for(var b in a)"storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),this.Le[b]=a[b];return"driver"in a&&a.Rf&&this.Uq(this.Le.Rf),!0}return"string"==typeof a?this.Le[a]:this.Le},e.prototype.Rf=function(){return this.Rg||null},e.prototype.ep=function(b,c,d){var f=this,e=function(){if(a(b))switch(b){case f.Ng:return new Promise(function(a){a(m(1))});case f.Og:return new Promise(function(a){a(m(2))});case f.Qg:return new Promise(function(a){a(m(4))})}else if(n[b])return Promise.resolve(n[b]);return Promise.reject(Error("Driver not found."))}();
return e.then(c,d),e},e.prototype.ready=function(a){var b=this,c=b.dd.then(function(){return null===b.he&&(b.he=b.bo()),b.he});return c.then(a,a),c},e.prototype.Uq=function(a,b,c){function d(){e.Le.Rf=e.Rf()}function f(a){return function(){function b(){for(;c<a.length;){var f=a[c];return c++,e.da=null,e.he=null,e.ep(f).then(function(a){return e.dt(a),d(),e.he=e.Tk(e.Le),e.he})["catch"](b)}d();return e.dd=Promise.reject(Error("No available storage method found.")),e.dd}var c=0;return b()}}var e=this;
h(a)||(a=[a]);var k=this.et(a);return this.dd=(null!==this.dd?this.dd["catch"](function(){return Promise.resolve()}):Promise.resolve()).then(function(){var a=k[0];return e.da=null,e.he=null,e.ep(a).then(function(a){e.Rg=a.Rg;d();e.co();e.bo=f(k)})})["catch"](function(){d();return e.dd=Promise.reject(Error("No available storage method found.")),e.dd}),this.dd.then(b,c),this.dd},e.prototype.supports=function(a){return!!k[a]},e.prototype.dt=function(a){b(this,a)},e.prototype.et=function(a){for(var b=
[],c=0,d=a.length;d>c;c++){var f=a[c];this.supports(f)&&b.push(f)}return b},e.prototype.co=function(){for(var a=0;a<f.length;a++)g(this,f[a])},e.prototype.jl=function(a){return new e(a)},e}())}("undefined"!=typeof window?window:self);n["default"]=g;e.ld=n["default"]},function(e,n){n.Fi=!0;n["default"]=function(e){function g(a,b){a=a||[];b=b||{};try{return new Blob(a,b)}catch(c){if("TypeError"!==c.name)throw c;for(var d=new (e.BlobBuilder||e.Kf||e.nl||e.WebKitBlobBuilder),f=0;f<a.length;f+=1)d.append(a[f]);
return d.getBlob(b.type)}}function n(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.withCredentials=!0;d.responseType="arraybuffer";d.onreadystatechange=function(){return 4===d.readyState?200===d.status?b({response:d.response,type:d.getResponseHeader("Content-Type")}):void c({status:d.status,response:d.response}):void 0};d.send()})}function r(a){return(new Promise(function(b,c){var d=g([""],{type:"image/png"}),f=a.transaction([E],"readwrite");f.objectStore(E).put(d,
"key");f.oncomplete=function(){var d=a.transaction([E],"readwrite").objectStore(E).get("key");d.onerror=c;d.onsuccess=function(a){var c=URL.createObjectURL(a.target.result);n(c).then(function(a){b(!(!a||"image/png"!==a.type))},function(){b(!1)}).then(function(){URL.revokeObjectURL(c)})}};f.onerror=f.onabort=c}))["catch"](function(){return!1})}function b(a){return"boolean"==typeof I?Promise.resolve(I):r(a).then(function(a){return I=a})}function a(a){return new Promise(function(b,c){var d=new FileReader;
d.onerror=c;d.onloadend=function(c){b({ao:!0,data:btoa(c.target.result||""),type:a.type})};d.readAsBinaryString(a)})}function v(a){for(var b=atob(a.data),c=b.length,d=new ArrayBuffer(c),f=new Uint8Array(d),e=0;c>e;e++)f[e]=b.charCodeAt(e);return g([d],{type:a.type})}function d(a){var b=this,c=b.Sk().then(function(){var a=H[b.da.name];return a&&a.Qf?a.Qf:void 0});return c.then(a,a),c}function f(a){a=H[a.name];var b={};b.promise=new Promise(function(a){b.resolve=a});a.Jo.push(b);a.Qf?a.Qf=a.Qf.then(function(){return b.promise}):
a.Qf=b.promise}function c(a){function b(){return Promise.resolve()}var c=this,f={db:null};if(a)for(var h in a)f[h]=a[h];H||(H={});var p=H[f.name];p||(p={kj:[],db:null,Qf:null,Jo:[]},H[f.name]=p);p.kj.push(c);c.Sk||(c.Sk=c.ready,c.ready=d);a=[];for(h=0;h<p.kj.length;h++){var l=p.kj[h];l!==c&&a.push(l.Sk()["catch"](b))}var g=p.kj.slice(0);return Promise.all(a).then(function(){return f.db=p.db,k(f,!1)}).then(function(a){f.db=a;var b;b=c.Rk.version;if(f.db){var d=!f.db.objectStoreNames.contains(f.fa),
h=f.version>f.db.version;(f.version<f.db.version&&(f.version!==b&&e.console.warn('The database "'+f.name+"\" can't be downgraded from version "+f.db.version+" to version "+f.version+"."),f.version=f.db.version),h||d)?(d&&(b=f.db.version+1,b>f.version&&(f.version=b)),b=!0):b=!1}else b=!0;return b?k(f,!0):a}).then(function(a){f.db=p.db=a;c.da=f;for(a=0;a<g.length;a++){var b=g[a];b!==c&&(b.da.db=f.db,b.da.version=f.version)}})}function k(a,b){return new Promise(function(c,d){if(a.db){if(!b)return c(a.db);
f(a);a.db.close()}var k=[a.name];b&&k.push(a.version);var h=K.open.apply(K,k);b&&(h.onupgradeneeded=function(b){var c=h.result;try{c.createObjectStore(a.fa),1>=b.oldVersion&&c.createObjectStore(E)}catch(d){if("ConstraintError"!==d.name)throw d;e.console.warn('The database "'+a.name+'" has been upgraded from version '+b.oldVersion+" to version "+b.newVersion+', but the storage "'+a.fa+'" already exists.')}});h.onerror=function(){d(h.error)};h.onsuccess=function(){c(h.result);var b=H[a.name].Jo.pop();
b&&b.resolve()}})}function h(a,b){var c=this;"string"!=typeof a&&(e.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new Promise(function(b,d){c.ready().then(function(){var f=c.da,e=f.db.transaction(f.fa,"readonly").objectStore(f.fa).get(a);e.onsuccess=function(){var a=e.result;void 0===a&&(a=null);a&&a.ao&&(a=v(a));b(a)};e.onerror=function(){d(e.error)}})["catch"](d)});return C(d,b),d}function q(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var f=
c.da,e=f.db.transaction(f.fa,"readonly").objectStore(f.fa).openCursor(),k=1;e.onsuccess=function(){var c=e.result;if(c){var d=c.value;d&&d.ao&&(d=v(d));d=a(d,c.key,k++);void 0!==d?b(d):c["continue"]()}else b()};e.onerror=function(){d(e.error)}})["catch"](d)});return C(d,b),d}function p(c,d,f){var k=this;"string"!=typeof c&&(e.console.warn(c+" used as a key, but it is not a string."),c=String(c));var h=new Promise(function(f,e){var h;k.ready().then(function(){return h=k.da,d instanceof Blob?b(h.db).then(function(b){return b?
d:a(d)}):d}).then(function(a){var b=h.db.transaction(h.fa,"readwrite"),d=b.objectStore(h.fa);null===a&&(a=void 0);b.oncomplete=function(){void 0===a&&(a=null);f(a)};b.onabort=b.onerror=function(){e(k.error?k.error:k.transaction.error)};var k=d.put(a,c)})["catch"](e)});return C(h,f),h}function A(a,b){var c=this;"string"!=typeof a&&(e.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new Promise(function(b,d){c.ready().then(function(){var f=c.da,e=f.db.transaction(f.fa,"readwrite"),
k=e.objectStore(f.fa)["delete"](a);e.oncomplete=function(){b()};e.onerror=function(){d(k.error)};e.onabort=function(){d(k.error?k.error:k.transaction.error)}})["catch"](d)});return C(d,b),d}function l(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.da,f=d.db.transaction(d.fa,"readwrite"),e=f.objectStore(d.fa).clear();f.oncomplete=function(){a()};f.onabort=f.onerror=function(){c(e.error?e.error:e.transaction.error)}})["catch"](c)});return C(c,a),c}function w(a){var b=this,
c=new Promise(function(a,c){b.ready().then(function(){var d=b.da,f=d.db.transaction(d.fa,"readonly").objectStore(d.fa).count();f.onsuccess=function(){a(f.result)};f.onerror=function(){c(f.error)}})["catch"](c)});return C(c,a),c}function V(a,b){var c=this,d=new Promise(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var f=c.da,e=!1,k=f.db.transaction(f.fa,"readonly").objectStore(f.fa).openCursor();k.onsuccess=function(){var c=k.result;return c?void(0===a?b(c.key):e?b(c.key):(e=
!0,c.advance(a))):void b(null)};k.onerror=function(){d(k.error)}})["catch"](d)});return C(d,b),d}function x(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.da,f=d.db.transaction(d.fa,"readonly").objectStore(d.fa).openCursor(),e=[];f.onsuccess=function(){var b=f.result;return b?(e.push(b.key),void b["continue"]()):void a(e)};f.onerror=function(){c(f.error)}})["catch"](c)});return C(c,a),c}function C(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var K=K||e.indexedDB||
e.webkitIndexedDB||e.mozIndexedDB||e.Po||e.msIndexedDB;if(K){var I,H,E="local-forage-detect-blob-support";return{Rg:"asyncStorage",Tk:c,Ap:q,getItem:h,setItem:p,removeItem:A,clear:l,length:w,key:V,keys:x}}}("undefined"!=typeof window?window:self);e.ld=n["default"]},function(e,n,m){n.Fi=!0;n["default"]=function(e){function n(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var r=null;try{if(!(e.localStorage&&"setItem"in e.localStorage))return;r=e.localStorage}catch(b){return}return{Rg:"localStorageWrapper",
Tk:function(a){var b={};if(a)for(var d in a)b[d]=a[d];return b.rd=b.name+"/",b.fa!==this.Rk.fa&&(b.rd+=b.fa+"/"),this.da=b,(new Promise(function(a){a(m(3))})).then(function(a){return b.xf=a,Promise.resolve()})},Ap:function(a,b){var d=this,f=d.ready().then(function(){for(var b=d.da,f=b.rd,e=f.length,g=r.length,p=1,m=0;g>m;m++){var l=r.key(m);if(0===l.indexOf(f)){var n=r.getItem(l);if(n&&(n=b.xf.Zi(n)),n=a(n,l.substring(e),p++),void 0!==n)return n}}});return n(f,b),f},getItem:function(a,b){var d=this;
"string"!=typeof a&&(e.console.warn(a+" used as a key, but it is not a string."),a=String(a));var f=d.ready().then(function(){var b=d.da,f=r.getItem(b.rd+a);return f&&(f=b.xf.Zi(f)),f});return n(f,b),f},setItem:function(a,b,d){var f=this;"string"!=typeof a&&(e.console.warn(a+" used as a key, but it is not a string."),a=String(a));var c=f.ready().then(function(){void 0===b&&(b=null);var c=b;return new Promise(function(d,e){var p=f.da;p.xf.serialize(b,function(b,f){if(f)e(f);else try{r.setItem(p.rd+
a,b),d(c)}catch(g){"QuotaExceededError"!==g.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==g.name||e(g),e(g)}})})});return n(c,d),c},removeItem:function(a,b){var d=this;"string"!=typeof a&&(e.console.warn(a+" used as a key, but it is not a string."),a=String(a));var f=d.ready().then(function(){r.removeItem(d.da.rd+a)});return n(f,b),f},clear:function(a){var b=this,d=b.ready().then(function(){for(var a=b.da.rd,c=r.length-1;0<=c;c--){var d=r.key(c);0===d.indexOf(a)&&r.removeItem(d)}});return n(d,a),d},length:function(a){var b=
this.keys().then(function(a){return a.length});return n(b,a),b},key:function(a,b){var d=this,f=d.ready().then(function(){var b,f=d.da;try{b=r.key(a)}catch(e){b=null}return b&&(b=b.substring(f.rd.length)),b});return n(f,b),f},keys:function(a){var b=this,d=b.ready().then(function(){for(var a=b.da,c=r.length,d=[],e=0;c>e;e++)0===r.key(e).indexOf(a.rd)&&d.push(r.key(e).substring(a.rd.length));return d});return n(d,a),d}}}("undefined"!=typeof window?window:self);e.ld=n["default"]},function(e,n){n.Fi=!0;
n["default"]=function(e){function g(a){var b,d,f,c,e;b=.75*a.length;var h=a.length,g=0;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);var p=new ArrayBuffer(b),m=new Uint8Array(p);for(b=0;h>b;b+=4)d=r.indexOf(a[b]),f=r.indexOf(a[b+1]),c=r.indexOf(a[b+2]),e=r.indexOf(a[b+3]),m[g++]=d<<2|f>>4,m[g++]=(15&f)<<4|c>>2,m[g++]=(3&c)<<6|63&e;return p}function n(a){var b=new Uint8Array(a),d="";for(a=0;a<b.length;a+=3)d+=r[b[a]>>2],d+=r[(3&b[a])<<4|b[a+1]>>4],d+=r[(15&b[a+1])<<2|b[a+2]>>6],d+=r[63&b[a+2]];
return 2===b.length%3?d=d.substring(0,d.length-1)+"=":1===b.length%3&&(d=d.substring(0,d.length-2)+"=="),d}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=/^~~local_forage_type~([^~]+)~/;return{serialize:function(a,b){var d="";if(a&&(d=a.toString()),a&&("[object ArrayBuffer]"===a.toString()||a.buffer&&"[object ArrayBuffer]"===a.buffer.toString())){var f,c="__lfsc__:";a instanceof ArrayBuffer?(f=a,c+="arbf"):(f=a.buffer,"[object Int8Array]"===d?c+="si08":"[object Uint8Array]"===
d?c+="ui08":"[object Uint8ClampedArray]"===d?c+="uic8":"[object Int16Array]"===d?c+="si16":"[object Uint16Array]"===d?c+="ur16":"[object Int32Array]"===d?c+="si32":"[object Uint32Array]"===d?c+="ui32":"[object Float32Array]"===d?c+="fl32":"[object Float64Array]"===d?c+="fl64":b(Error("Failed to get type for BinaryArray")));b(c+n(f))}else if("[object Blob]"===d)d=new FileReader,d.onload=function(){var c="~~local_forage_type~"+a.type+"~"+n(this.result);b("__lfsc__:blob"+c)},d.readAsArrayBuffer(a);else try{b(JSON.stringify(a))}catch(e){console.error("Couldn't convert value into a JSON string: ",
a),b(null,e)}},Zi:function(a){if("__lfsc__:"!==a.substring(0,9))return JSON.parse(a);var r,d=a.substring(13);a=a.substring(9,13);if("blob"===a&&b.test(d)){var f=d.match(b);r=f[1];d=d.substring(f[0].length)}d=g(d);switch(a){case "arbf":return d;case "blob":var c;d=[d];r={type:r};d=d||[];r=r||{};try{c=new Blob(d,r)}catch(k){if("TypeError"!==k.name)throw k;c=new (e.BlobBuilder||e.Kf||e.nl||e.WebKitBlobBuilder);for(a=0;a<d.length;a+=1)c.append(d[a]);c=c.getBlob(r.type)}return c;case "si08":return new Int8Array(d);
case "ui08":return new Uint8Array(d);case "uic8":return new Uint8ClampedArray(d);case "si16":return new Int16Array(d);case "ur16":return new Uint16Array(d);case "si32":return new Int32Array(d);case "ui32":return new Uint32Array(d);case "fl32":return new Float32Array(d);case "fl64":return new Float64Array(d);default:throw Error("Unkown type: "+a);}},Gy:g,my:n}}("undefined"!=typeof window?window:self);e.ld=n["default"]},function(e,n,m){n.Fi=!0;n["default"]=function(e){function n(a){var b=this,c={db:null};
if(a)for(var d in a)c[d]="string"!=typeof a[d]?a[d].toString():a[d];var f=new Promise(function(a,d){try{c.db=q(c.name,String(c.version),c.description,c.size)}catch(f){return d(f)}c.db.transaction(function(f){f.executeSql("CREATE TABLE IF NOT EXISTS "+c.fa+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){b.da=c;a()},function(a,b){d(b)})})});return(new Promise(function(a){a(m(3))})).then(function(a){return c.xf=a,f})}function r(a,b){var c=this;"string"!=typeof a&&(e.console.warn(a+" used as a key, but it is not a string."),
a=String(a));var d=new Promise(function(b,d){c.ready().then(function(){var f=c.da;f.db.transaction(function(c){c.executeSql("SELECT * FROM "+f.fa+" WHERE key = ? LIMIT 1",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=f.xf.Zi(d));b(d)},function(a,b){d(b)})})})["catch"](d)});return h(d,b),d}function b(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var f=c.da;f.db.transaction(function(c){c.executeSql("SELECT * FROM "+f.fa,[],function(c,d){for(var e=d.rows,
k=e.length,h=0;k>h;h++){var l=e.item(h),g=l.value;if(g&&(g=f.xf.Zi(g)),g=a(g,l.key,h+1),void 0!==g)return void b(g)}b()},function(a,b){d(b)})})})["catch"](d)});return h(d,b),d}function a(a,b,c){var d=this;"string"!=typeof a&&(e.console.warn(a+" used as a key, but it is not a string."),a=String(a));var f=new Promise(function(c,f){d.ready().then(function(){void 0===b&&(b=null);var e=b,k=d.da;k.xf.serialize(b,function(b,d){d?f(d):k.db.transaction(function(d){d.executeSql("INSERT OR REPLACE INTO "+k.fa+
" (key, value) VALUES (?, ?)",[a,b],function(){c(e)},function(a,b){f(b)})},function(a){a.code===a.QUOTA_ERR&&f(a)})})})["catch"](f)});return h(f,c),f}function v(a,b){var c=this;"string"!=typeof a&&(e.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new Promise(function(b,d){c.ready().then(function(){var f=c.da;f.db.transaction(function(c){c.executeSql("DELETE FROM "+f.fa+" WHERE key = ?",[a],function(){b()},function(a,b){d(b)})})})["catch"](d)});return h(d,b),d}function d(a){var b=
this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.da;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.fa,[],function(){a()},function(a,b){c(b)})})})["catch"](c)});return h(c,a),c}function f(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.da;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.fa,[],function(b,c){var d=c.rows.item(0).Wg;a(d)},function(a,b){c(b)})})})["catch"](c)});return h(c,a),c}function c(a,b){var c=this,
d=new Promise(function(b,d){c.ready().then(function(){var f=c.da;f.db.transaction(function(c){c.executeSql("SELECT key FROM "+f.fa+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})["catch"](d)});return h(d,b),d}function k(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.da;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.fa,[],function(b,c){for(var d=[],f=0;f<c.rows.length;f++)d.push(c.rows.item(f).key);
a(d)},function(a,b){c(b)})})})["catch"](c)});return h(c,a),c}function h(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var q=e.openDatabase;if(q)return{Rg:"webSQLStorage",Tk:n,Ap:b,getItem:r,setItem:a,removeItem:v,clear:d,length:f,key:c,keys:k}}("undefined"!=typeof window?window:self);e.ld=n["default"]}])};"object"==typeof exports&&"object"==typeof module?module.ld=vc():"function"==typeof define&&define.ly?define([],vc):"object"==typeof exports?exports.localforage=vc():this.localforage=
vc()}catch(wc){uc=!0}function Z(e){this.b=e}
(function(){function e(a){a.b.trigger(Z.prototype.d.Ei,a)}function n(){}function m(){}function g(){}var t="",r="",b="";"undefined"!==typeof window.is_scirra_arcade&&(b="sa"+window.scirra_arcade_id+"_");var a=Z.prototype;a.ca=function(a){this.ba=a;this.b=a.b};a.ca.prototype.H=function(){};a.U=function(a){this.type=a;this.b=a.b};var v=a.U.prototype;v.H=function(){this.Hm=this.Im=0};v.Fe=function(){};v.lb=function(){return{}};v.Ib=function(){};n.prototype.ws=function(a){return t===a};n.prototype.ks=
function(){return!0};n.prototype.Cn=function(a){return t===a};n.prototype.js=function(){return!0};n.prototype.Ei=function(){return!0};n.prototype.Bn=function(a){return t===a};n.prototype.Dn=function(a){return t===a};n.prototype.es=function(){return!0};n.prototype.ds=function(){return!0};a.d=new n;m.prototype.Qs=function(a,f){if(uc)e(this);else{var c=b+a;this.Im++;var k=this;localforage.setItem(c,f,function(b,c){k.Im--;b?k.b.trigger(Z.prototype.d.Ei,k):(t=a,r=c,k.b.trigger(Z.prototype.d.ks,k),k.b.trigger(Z.prototype.d.ws,
k),r=t="");0===k.Im&&k.b.trigger(Z.prototype.d.es,k)})}};m.prototype.Tr=function(a){if(uc)e(this);else{var f=b+a;this.Hm++;var c=this;localforage.getItem(f,function(b,f){c.Hm--;if(b)c.b.trigger(Z.prototype.d.Ei,c);else{t=a;r=f;if("undefined"===typeof r||null===r)r="";c.b.trigger(Z.prototype.d.js,c);c.b.trigger(Z.prototype.d.Cn,c);r=t=""}0===c.Hm&&c.b.trigger(Z.prototype.d.ds,c)})}};m.prototype.Hr=function(a){if(uc)e(this);else{var f=this;localforage.getItem(b+a,function(b,e){b?f.b.trigger(Z.prototype.d.Ei,
f):(t=a,null===e?(r="",f.b.trigger(Z.prototype.d.Dn,f)):(r=e,f.b.trigger(Z.prototype.d.Bn,f)),r=t="")})}};a.q=new m;g.prototype.$r=function(a){a.$q(r)};a.za=new g})();function xc(e){this.b=e}
(function(){function e(){}function n(){}var m=xc.prototype;m.ca=function(e){this.ba=e;this.b=e.b};m.ca.prototype.H=function(){};m.U=function(e){this.type=e;this.b=e.b;this.Mf=Array(4);this.pr=this.Bk=this.Ef=this.Ee=this.De=0;this.uj=!1};var g=m.U.prototype;g.H=function(){var e=this;if(!this.b.O){jQuery(document).mousemove(function(a){e.Wh(a)});jQuery(document).mousedown(function(a){e.Vh(a)});jQuery(document).mouseup(function(a){e.Xh(a)});jQuery(document).dblclick(function(a){e.Vv(a)});var b=function(a){e.dw(a)};
document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var t={left:0,top:0};g.Wh=function(e){var b=this.b.O?t:jQuery(this.b.canvas).offset();this.De=e.pageX-b.left;this.Ee=e.pageY-b.top};g.hq=function(){return 0<this.b.yb?!0:0<=this.De&&0<=this.Ee&&this.De<this.b.width&&this.Ee<this.b.height};g.Vh=function(e){this.hq()&&(this.Mf[e.which]=!0,this.b.qa=!0,this.b.trigger(xc.prototype.d.xn,this),this.Ef=e.which-1,this.Bk=0,this.b.trigger(xc.prototype.d.zn,this),
this.b.trigger(xc.prototype.d.Ok,this),this.b.qa=!1)};g.Xh=function(e){this.Mf[e.which]&&(this.b.sj&&!this.b.jf&&e.preventDefault(),this.b.sj=!0,this.Mf[e.which]=!1,this.b.qa=!0,this.Ef=e.which-1,this.b.trigger(xc.prototype.d.On,this),this.b.qa=!1)};g.Vv=function(e){this.hq()&&(e.preventDefault(),this.b.qa=!0,this.Ef=e.which-1,this.Bk=1,this.b.trigger(xc.prototype.d.zn,this),this.b.trigger(xc.prototype.d.Ok,this),this.b.qa=!1)};g.dw=function(e){this.pr=0>(e.wheelDelta?e.wheelDelta:e.detail?-e.detail:
0)?0:1;this.uj=!1;this.b.qa=!0;this.b.trigger(xc.prototype.d.Hs,this);this.b.qa=!1;this.uj&&nb(e)&&e.preventDefault()};g.wf=function(){var e,b;e=0;for(b=this.Mf.length;e<b;++e)this.Mf[e]&&(this.Mf[e]=!1,this.Ef=e-1,this.b.trigger(xc.prototype.d.On,this))};e.prototype.zn=function(e,b){return e===this.Ef&&b===this.Bk};e.prototype.xn=function(){return!0};e.prototype.On=function(e){return e===this.Ef};e.prototype.Ok=function(e,b,a){return e!==this.Ef||b!==this.Bk?!1:this.b.pi(a,this.De,this.Ee)};e.prototype.Hs=
function(e){this.uj=!0;return e===this.pr};m.d=new e;m.q=new function(){};n.prototype.Zn=function(e,b){var a,g,d,f,c;ea(b)?(a=this.b.Md(0),g=a.scale,d=a.Ub,f=a.Cc,c=a.i,a.scale=1,a.Ub=1,a.Cc=1,a.i=0,e.p(a.Da(this.De,this.Ee,!0)),a.scale=g,a.Ub=d,a.Cc=f,a.i=c):(a=fa(b)?this.b.Md(b):this.b.jh(b))?e.p(a.Da(this.De,this.Ee,!0)):e.p(0)};n.prototype.$n=function(e,b){var a,g,d,f,c;ea(b)?(a=this.b.Md(0),g=a.scale,d=a.Ub,f=a.Dc,c=a.i,a.scale=1,a.Ub=1,a.Dc=1,a.i=0,e.p(a.Da(this.De,this.Ee,!1)),a.scale=g,a.Ub=
d,a.Dc=f,a.i=c):(a=fa(b)?this.b.Md(b):this.b.jh(b))?e.p(a.Da(this.De,this.Ee,!1)):e.p(0)};m.za=new n})();function oc(e){this.b=e}
(function(){function e(){if(0===this.ol.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Dg?b.drawImage(this.u,this.tg,this.ug,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.u,0,0,this.width,this.height);this.ol=a.toDataURL("image/png")}return this.ol}function n(){}function m(){}var g=oc.prototype;g.ca=function(a){this.ba=a;this.b=a.b};var t=g.ca.prototype;t.H=function(){if(!this.A){var a,b,c,k,h,g,p,m,l;this.Lc=
[];this.qh=!1;a=0;for(b=this.Wb.length;a<b;a++){h=this.Wb[a];p={};p.name=h[0];p.speed=h[1];p.loop=h[2];p.Sm=h[3];p.Tm=h[4];p.Bq=h[5];p.V=h[6];p.frames=[];c=0;for(k=h[7].length;c<k;c++)g=h[7][c],m={},m.wk=g[0],m.en=g[1],m.tg=g[2],m.ug=g[3],m.width=g[4],m.height=g[5],m.duration=g[6],m.Fb=g[7],m.Gb=g[8],m.Ql=g[9],m.bk=g[10],m.Cq=g[11],m.Dg=0!==m.width,m.ol="",m.qy=e,l={left:0,top:0,right:1,bottom:1},m.an=l,m.K=null,(l=this.b.Ku(g[0]))?m.u=l:(m.u=new Image,m.u.Bt=g[0],m.u.Go=g[1],m.u.ut=null,this.b.tn(m.u,
g[0])),p.frames.push(m),this.Lc.push(m);this.Wb[a]=p}}};t.yr=function(){var a,b,c;a=0;for(b=this.c.length;a<b;a++)c=this.c[a],c.Ti=c.Ya.K};t.Sj=function(){if(!this.A){var a,b,c;a=0;for(b=this.Lc.length;a<b;++a)c=this.Lc[a],c.u.ut=null,c.K=null;this.qh=!1;this.yr()}};t.Tj=function(){if(!this.A&&this.c.length){var a,b,c;a=0;for(b=this.Lc.length;a<b;++a)c=this.Lc[a],c.K=this.b.k.mg(c.u,!1,this.b.Aa,c.Cq);this.yr()}};t.km=function(){if(!this.A&&!this.qh&&this.b.k){var a,b,c;a=0;for(b=this.Lc.length;a<
b;++a)c=this.Lc[a],c.K=this.b.k.mg(c.u,!1,this.b.Aa,c.Cq);this.qh=!0}};t.Ek=function(){if(!this.A&&!this.c.length&&this.qh){var a,b,c;a=0;for(b=this.Lc.length;a<b;++a)c=this.Lc[a],this.b.k.deleteTexture(c.K),c.K=null;this.qh=!1}};var r=[];t.ek=function(a){var b,c,e;S(r);b=0;for(c=this.Lc.length;b<c;++b)e=this.Lc[b].u,-1===r.indexOf(e)&&(a.drawImage(e,0,0),r.push(e))};g.U=function(a){this.type=a;this.b=a.b;a=this.type.Wb[0].frames[0].bk;this.Fc?this.gd.ji(a):this.gd=new fb(a)};var b=g.U.prototype;
b.H=function(){this.visible=0===this.F[0];this.wj=this.Bh=!1;this.Yg=0!==this.F[3];this.ya=this.bp(this.F[1])||this.type.Wb[0];this.r=this.F[2];0>this.r&&(this.r=0);this.r>=this.ya.frames.length&&(this.r=this.ya.frames.length-1);var a=this.ya.frames[this.r];this.gd.ji(a.bk);this.Fb=a.Fb;this.Gb=a.Gb;this.Of=this.ya.speed;this.ue=this.ya.Tm;1===this.type.Wb.length&&1===this.type.Wb[0].frames.length||0===this.Of||(this.b.Cf(this),this.Bh=!0);this.Fc?this.Mc.reset():this.Mc=new db;this.nd=this.Mc.T;
this.le=!0;this.Cd=0;this.Me=!0;this.Mi=this.no="";this.Bo=0;this.Li=-1;this.type.km();var b,c,e,h,g,p,m,a=0;for(b=this.type.Wb.length;a<b;a++)for(h=this.type.Wb[a],c=0,e=h.frames.length;c<e;c++)g=h.frames[c],0===g.width&&(g.width=g.u.width,g.height=g.u.height),g.Dg&&(m=g.u,p=g.an,p.left=g.tg/m.width,p.top=g.ug/m.height,p.right=(g.tg+g.width)/m.width,p.bottom=(g.ug+g.height)/m.height,0===g.tg&&0===g.ug&&g.width===m.width&&g.height===m.height&&(g.Dg=!1));this.Ya=this.ya.frames[this.r];this.Ti=this.Ya.K};
b.lb=function(){var a={a:this.ya.V,f:this.r,cas:this.Of,fs:this.nd,ar:this.Cd,at:this.Mc.T,rt:this.ue};this.le||(a.ap=this.le);this.Me||(a.af=this.Me);return a};b.Ib=function(a){var b=this.Pu(a.a);b&&(this.ya=b);this.r=a.f;0>this.r&&(this.r=0);this.r>=this.ya.frames.length&&(this.r=this.ya.frames.length-1);this.Of=a.cas;this.nd=a.fs;this.Cd=a.ar;this.Mc.reset();this.Mc.T=a.at;this.le=a.hasOwnProperty("ap")?a.ap:!0;this.Me=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.ue=a.rt:this.ue=
this.ya.Tm;this.Ya=this.ya.frames[this.r];this.Ti=this.Ya.K;this.gd.ji(this.Ya.bk);this.Fb=this.Ya.Fb;this.Gb=this.Ya.Gb};b.Xk=function(a){this.r=a?0:this.ya.frames.length-1;this.le=!1;this.no=this.ya.name;this.wj=!0;this.b.trigger(oc.prototype.d.hs,this);this.b.trigger(oc.prototype.d.gs,this);this.wj=!1;this.Cd=0};b.Kf=function(){return this.Mc.T};b.Wa=function(){this.Mc.add(this.b.fp(this));this.Mi.length&&this.Ko();0<=this.Li&&this.Lo();var a=this.Mc.T,b=this.ya,c=b.frames[this.r],e=c.duration/
this.Of;this.le&&a>=this.nd+e&&(this.Me?this.r++:this.r--,this.nd+=e,this.r>=b.frames.length&&(b.Bq?(this.Me=!1,this.r=b.frames.length-2):b.loop?this.r=this.ue:(this.Cd++,this.Cd>=b.Sm?this.Xk(!1):this.r=this.ue)),0>this.r&&(b.Bq?(this.r=1,this.Me=!0,b.loop||(this.Cd++,this.Cd>=b.Sm&&this.Xk(!0))):b.loop?this.r=this.ue:(this.Cd++,this.Cd>=b.Sm?this.Xk(!0):this.r=this.ue)),0>this.r?this.r=0:this.r>=b.frames.length&&(this.r=b.frames.length-1),a>this.nd+b.frames[this.r].duration/this.Of&&(this.nd=a),
a=b.frames[this.r],this.If(c,a),this.b.ja=!0)};b.bp=function(a){var b,c,e;b=0;for(c=this.type.Wb.length;b<c;b++)if(e=this.type.Wb[b],mb(e.name,a))return e;return null};b.Pu=function(a){var b,c,e;b=0;for(c=this.type.Wb.length;b<c;b++)if(e=this.type.Wb[b],e.V===a)return e;return null};b.Ko=function(){var a=this.ya.frames[this.r],b=this.bp(this.Mi);this.Mi="";!b||mb(b.name,this.ya.name)&&this.le||(this.ya=b,this.Of=b.speed,this.ue=b.Tm,0>this.r&&(this.r=0),this.r>=this.ya.frames.length&&(this.r=this.ya.frames.length-
1),1===this.Bo&&(this.r=0),this.le=!0,this.nd=this.Mc.T,this.Me=!0,this.If(a,this.ya.frames[this.r]),this.b.ja=!0)};b.Lo=function(){var a=this.ya.frames[this.r],b=this.r;this.r=pa(this.Li);0>this.r&&(this.r=0);this.r>=this.ya.frames.length&&(this.r=this.ya.frames.length-1);b!==this.r&&(this.If(a,this.ya.frames[this.r]),this.nd=this.Mc.T,this.b.ja=!0);this.Li=-1};b.If=function(a,b){var c=a.width,e=a.height,h=b.width,g=b.height;c!=h&&(this.width*=h/c);e!=g&&(this.height*=g/e);this.Fb=b.Fb;this.Gb=b.Gb;
this.gd.ji(b.bk);this.Ba();this.Ya=b;this.Ti=b.K;c=0;for(e=this.B.length;c<e;c++)h=this.B[c],h.$v&&h.$v(a,b);this.b.trigger(oc.prototype.d.If,this)};b.kd=function(a){a.globalAlpha=this.opacity;var b=this.Ya,c=b.Dg,e=b.u,h=this.x,g=this.y,p=this.width,m=this.height;if(0===this.i&&0<=p&&0<=m)h-=this.Fb*p,g-=this.Gb*m,this.b.Wc&&(h=Math.round(h),g=Math.round(g)),c?a.drawImage(e,b.tg,b.ug,b.width,b.height,h,g,p,m):a.drawImage(e,h,g,p,m);else{this.b.Wc&&(h=Math.round(h),g=Math.round(g));a.save();var l=
0<p?1:-1,r=0<m?1:-1;a.translate(h,g);1===l&&1===r||a.scale(l,r);a.rotate(this.i*l*r);h=0-this.Fb*la(p);g=0-this.Gb*la(m);c?a.drawImage(e,b.tg,b.ug,b.width,b.height,h,g,la(p),la(m)):a.drawImage(e,h,g,la(p),la(m));a.restore()}};b.Ue=function(a){this.Ob(a)};b.Ob=function(a){a.ic(this.Ti);a.yf(this.opacity);var b=this.Ya,c=this.Lf;if(this.b.Wc){var e=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;b.Dg?a.vd(c.mb+e,c.nb+h,c.Cb+e,c.Db+h,c.tb+e,c.ub+h,c.rb+e,c.sb+h,b.an):a.ei(c.mb+e,c.nb+h,c.Cb+e,
c.Db+h,c.tb+e,c.ub+h,c.rb+e,c.sb+h)}else b.Dg?a.vd(c.mb,c.nb,c.Cb,c.Db,c.tb,c.ub,c.rb,c.sb,b.an):a.ei(c.mb,c.nb,c.Cb,c.Db,c.tb,c.ub,c.rb,c.sb)};b.Su=function(a){var b=this.Ya,c,e;c=0;for(e=b.Ql.length;c<e;c++)if(mb(a,b.Ql[c][0]))return c;return-1};b.Fl=function(a,b){var c=this.Ya,e=c.Ql,h;ga(a)?h=this.Su(a):h=a-1;h=pa(h);if(0>h||h>=e.length)return b?this.x:this.y;var g=(e[h][1]-c.Fb)*this.width,e=e[h][2],e=(e-c.Gb)*this.height,c=Math.cos(this.i);h=Math.sin(this.i);var p=g*c-e*h,e=e*c+g*h,g=p+this.x,
e=e+this.y;return b?g:e};var a=new ba,v=!1;new ua(0,0,0,0);t.finish=function(b){if(v){if(b){var f=this.b.Eb().Zb.Uc;b=null.la();var c=a.bd(),e,h;if(b.ra){b.ra=!1;S(b.c);e=0;for(h=c.length;e<h;++e)b.c[e]=c[e];if(f)for(S(b.R),e=0,h=null.c.length;e<h;++e)c=null.c[e],a.contains(c)||b.R.push(c)}else if(f)for(f=b.c.length,e=0,h=c.length;e<h;++e)b.c[f+e]=c[e],Ca(b.R,c[e]);else za(b.c,c);null.me()}a.clear();v=!1}};n.prototype.gs=function(a){return mb(this.no,a)};n.prototype.hs=function(){return!0};n.prototype.If=
function(){return!0};g.d=new n;m.prototype.Vs=function(a){this.le=!0;this.nd=this.Mc.T;1===a&&0!==this.r&&(this.Li=0,this.wj||this.Lo());this.Bh||(this.b.Cf(this),this.Bh=!0)};m.prototype.Os=function(a,b){this.Mi=a;this.Bo=b;this.Bh||(this.b.Cf(this),this.Bh=!0);this.wj||this.Ko()};m.prototype.Wn=function(a){var b=this.Ya,c=b.width*a*(0>this.width?-1:1);a=b.height*a*(0>this.height?-1:1);if(this.width!==c||this.height!==a)this.width=c,this.height=a,this.Ba()};g.q=new m;g.za=new function(){}})();
function yc(e){this.b=e}
(function(){function e(a,b){return a.length?a.pop():new b}function n(a,c,d){if(d){var f;d=0;for(f=c.length;d<f;d++)a.length<b&&a.push(c[d]);S(c)}else for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a.length<b&&a.push(c[f]),delete c[f])}function m(b,c,d){var f=b.qf;d=d.replace(/\s\s*$/,"");c>=f.length&&f.push(e(a,Object));c=f[c];c.text=d;c.width=b.rm(d);b.Gg=ma(b.Gg,c.width)}function g(){}var t=yc.prototype;t.H=function(){};t.ca=function(a){this.ba=a;this.b=a.b};var r=t.ca.prototype;r.H=function(){this.A||
(this.u=new Image,this.b.tn(this.u,this.wk),this.K=null)};r.Sj=function(){this.A||(this.K=null)};r.Tj=function(){if(!this.A&&this.c.length){this.K||(this.K=this.b.k.mg(this.u,!1,this.b.Aa,this.ri));var a,b;a=0;for(b=this.c.length;a<b;a++)this.c[a].K=this.K}};r.Ek=function(){this.A||this.c.length||!this.K||(this.b.k.deleteTexture(this.K),this.K=null)};r.ek=function(a){a.drawImage(this.u,0,0)};t.U=function(a){this.type=a;this.b=a.b};r=t.U.prototype;r.Fe=function(){n(a,this.qf,!0);n(v,this.Oi,!1);n(d,
this.Pi,!1);Za(this.qe)};r.H=function(){this.u=this.type.u;this.Ni=this.F[0];this.pe=this.F[1];this.characterSet=this.F[2];this.text=this.F[3];this.fd=this.F[4];this.visible=0===this.F[5];this.tj=this.F[6]/2;this.Ik=this.F[7]/2;this.gx=0===this.F[9];this.Nf=this.F[10];this.lineHeight=this.F[11];this.Bf=this.Gg=0;this.Fc?(S(this.qf),Za(this.Oi),Za(this.Pi),Za(this.qe)):(this.qf=[],this.Oi={},this.Pi={},this.qe={});this.Hg=!0;this.im=this.width;this.b.k&&(this.type.K||(this.type.K=this.b.k.mg(this.type.u,
!1,this.b.Aa,this.type.ri)),this.K=this.type.K);this.Us()};r.lb=function(){var a={t:this.text,csc:this.fd,csp:this.Nf,lh:this.lineHeight,tw:this.Gg,th:this.Bf,lrt:this.Kv,ha:this.tj,va:this.Ik,cw:{}},b;for(b in this.qe)a.cw[b]=this.qe[b];return a};r.Ib=function(a){this.text=a.t;this.fd=a.csc;this.Nf=a.csp;this.lineHeight=a.lh;this.Gg=a.tw;this.Bf=a.th;this.Kv=a.lrt;a.hasOwnProperty("ha")&&(this.tj=a.ha);a.hasOwnProperty("va")&&(this.Ik=a.va);for(var b in a.cw)this.qe[b]=a.cw[b];this.Hg=!0;this.im=
this.width};var b=1E3,a=[],v=[],d=[];r.Us=function(){for(var a=this.u,b=a.width,c=a.height,a=this.Ni,f=this.pe,g=a/b,l=f/c,m=this.characterSet,b=Math.floor(b/a),c=Math.floor(c/f),r=0;r<m.length&&!(r>=b*c);r++){var n=r%b,t=Math.floor(r/b),K=m.charAt(r);if(this.b.k){var I=this.Pi,H=n*g,E=t*l,n=(n+1)*g,t=(t+1)*l;void 0===I[K]&&(I[K]=e(d,ua));I[K].left=H;I[K].top=E;I[K].right=n;I[K].bottom=t}else I=this.Oi,n=n*a,t=t*f,H=a,E=f,void 0===I[K]&&(I[K]=e(v,Object)),I[K].x=n,I[K].y=t,I[K].Dr=H,I[K].kp=E}};var f=
[];t.Ys=function(a){S(f);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(f.push(b),b=""),f.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));f.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&f.push(b)};t.bt=function(b){var c=b.text,d=b.qf;if(c&&c.length){var f=b.width;if(2>=f)n(a,d,!0);else{var g=b.fd,l=b.Nf;if(c.length*(b.Ni*g+l)-l<=f&&-1===c.indexOf("\n")&&(l=b.rm(c),l<=f)){n(a,d,!0);d.push(e(a,
Object));d[0].text=c;d[0].width=l;b.Gg=l;b.Bf=b.pe*g+b.lineHeight;return}this.ct(b);b.Bf=d.length*(b.pe*g+b.lineHeight)}}else n(a,d,!0)};t.ct=function(c){var d=c.gx,e=c.text,g=c.qf,r=c.width;d&&(this.Ys(e),e=f);var l="",n,t,v,C=0,K=!1;for(v=0;v<e.length;v++)"\n"===e[v]?(!0===K?K=!1:(m(c,C,l),C++),l=""):(K=!1,n=l,l+=e[v],t=c.rm(l.replace(/\s\s*$/,"")),t>r&&(""===n?(m(c,C,l),l="",K=!0):(m(c,C,n),l=e[v]),C++,d||" "!==l||(l="")));l.replace(/\s\s*$/,"").length&&(m(c,C,l),C++);for(v=C;v<g.length;v++)a.length<
b&&a.push(g[v]);g.length=C};r.rm=function(a){for(var b=this.Nf,c=a.length,d=0,f=0;f<c;f++)d+=this.Cl(a.charAt(f))*this.fd+b;return d-(0<d?b:0)};r.Cl=function(a){var b=this.qe;return void 0!==b[a]?b[a]:this.Ni};r.Kq=function(){if(this.Hg||this.width!==this.im)this.Bf=this.Gg=0,this.type.ba.bt(this),this.Hg=!1,this.im=this.width};r.kd=function(a){var b=this.u;if(""!==this.text&&null!=b&&(this.Kq(),!(this.height<this.pe*this.fd+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.b.Wc&&
(b=Math.round(b),c=Math.round(c));var d=this.g.ma,f=this.g.na,e=this.g.ua,g=this.g.ta;a.save();a.translate(b,c);a.rotate(this.i);for(var m=this.i,r=this.tj,n=this.fd,t=this.pe*n,v=this.lineHeight,H=this.Nf,E=this.qf,y,J=-(this.Fb*this.width),O=-(this.Gb*this.height),O=O+this.Ik*ma(0,this.height-this.Bf),u,Q,L,z=0;z<E.length;z++){var M=E[z].text;y=r*ma(0,this.width-E[z].width);u=J+y;O+=v;if(0===m&&c+O+t<f)O+=t;else{for(var B=0;B<M.length;B++){Q=M.charAt(B);y=this.Cl(Q);var G=this.Oi[Q];if(0===m&&b+
u+y*n+H<d)u+=y*n+H;else{if(u+y*n>this.width+1E-5)break;void 0!==G&&(Q=u,L=O,0===m&&(Q=Math.round(Q),L=Math.round(L)),a.drawImage(this.u,G.x,G.y,G.Dr,G.kp,Q,L,G.Dr*n,G.kp*n));u+=y*n+H;if(0===m&&b+u>e)break}}O+=t;if(0===m&&(O+t+v>this.height||c+O>g))break}}a.restore()}};var c=new va;r.Ob=function(a){a.ic(this.K);a.yf(this.opacity);if(this.text&&(this.Kq(),!(this.height<this.pe*this.fd+this.lineHeight))){this.Xa();var b=this.Lf,d=0,f=0;this.b.Wc&&(d=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y);
var e=this.g.ma,g=this.g.na,m=this.g.ua,r=this.g.ta,n=this.i,t=this.tj,v=this.Ik,I=this.fd,H=this.pe*I,E=this.lineHeight,y=this.Nf,J=this.qf,O=this.Bf,u,Q,L;0!==n&&(Q=Math.cos(n),L=Math.sin(n));for(var d=b.mb+d,b=b.nb+f,z,v=v*ma(0,this.height-O),M,B,O=0;O<J.length;O++)if(f=J[O].text,z=u=t*ma(0,this.width-J[O].width),v+=E,0===n&&b+v+H<g)v+=H;else{for(var G=0;G<f.length;G++){var P=f.charAt(G);u=this.Cl(P);P=this.Pi[P];if(0===n&&d+z+u*I+y<e)z+=u*I+y;else{if(z+u*I>this.width+1E-5)break;if(void 0!==P){var R=
this.Ni*I,F=this.pe*I;M=z;B=v;0===n&&(M=Math.round(M),B=Math.round(B));c.mb=M;c.nb=B;c.Cb=M+R;c.Db=B;c.rb=M;c.sb=B+F;c.tb=M+R;c.ub=B+F;0!==n&&(M=c,B=Q,R=L,F=void 0,F=M.mb*B-M.nb*R,M.nb=M.nb*B+M.mb*R,M.mb=F,F=M.Cb*B-M.Db*R,M.Db=M.Db*B+M.Cb*R,M.Cb=F,F=M.rb*B-M.sb*R,M.sb=M.sb*B+M.rb*R,M.rb=F,F=M.tb*B-M.ub*R,M.ub=M.ub*B+M.tb*R,M.tb=F);c.offset(d,b);a.vd(c.mb,c.nb,c.Cb,c.Db,c.tb,c.ub,c.rb,c.sb,P)}z+=u*I+y;if(0===n&&d+z>m)break}}v+=H;if(0===n&&(v+H+E>this.height||b+v>r))break}}};t.d=new function(){};g.prototype.Xn=
function(a){fa(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Hg=!0,this.b.ja=!0)};g.prototype.Wn=function(a){a!==this.fd&&(this.fd=a,this.Hg=!0,this.b.ja=!0)};r.Kf=function(a,b){var c=parseInt(b,10);this.qe[a]!==c&&(this.qe[a]=c,this.Hg=!0,this.b.ja=!0)};t.q=new g;t.za=new function(){}})();function zc(e){this.b=e}
(function(){var e=zc.prototype;e.ca=function(e){this.ba=e;this.b=e.b};var n=e.ca.prototype;n.H=function(){this.A||(this.u=new Image,this.u.Go=this.en,this.b.tn(this.u,this.wk),this.K=this.pattern=null)};n.Sj=function(){this.A||(this.K=null)};n.Tj=function(){if(!this.A&&this.c.length){this.K||(this.K=this.b.k.mg(this.u,!0,this.b.Aa,this.ri));var e,g;e=0;for(g=this.c.length;e<g;e++)this.c[e].K=this.K}};n.km=function(){this.A||this.K||!this.b.k||(this.K=this.b.k.mg(this.u,!0,this.b.Aa,this.ri))};n.Ek=
function(){this.A||this.c.length||!this.K||(this.b.k.deleteTexture(this.K),this.K=null)};n.ek=function(e){e.drawImage(this.u,0,0)};e.U=function(e){this.type=e;this.b=e.b};n=e.U.prototype;n.H=function(){this.visible=0===this.F[0];this.fi=new ua(0,0,0,0);this.np=!1;this.u=this.type.u;this.b.k?(this.type.km(),this.K=this.type.K):(this.type.pattern||(this.type.pattern=this.b.Ea.createPattern(this.type.u,"repeat")),this.pattern=this.type.pattern)};n.ed=function(){this.np=!1;this.u=this.type.u};n.Fe=function(){this.b.k&&
this.np&&this.K&&(this.b.k.deleteTexture(this.K),this.K=null)};n.kd=function(e){e.globalAlpha=this.opacity;e.save();e.fillStyle=this.pattern;var g=this.x,n=this.y;this.b.Wc&&(g=Math.round(g),n=Math.round(n));var r=-(this.Fb*this.width),b=-(this.Gb*this.height),a=r%this.u.width,v=b%this.u.height;0>a&&(a+=this.u.width);0>v&&(v+=this.u.height);e.translate(g,n);e.rotate(this.i);e.translate(a,v);e.fillRect(r-a,b-v,this.width,this.height);e.restore()};n.Ue=function(e){this.Ob(e)};n.Ob=function(e){e.ic(this.K);
e.yf(this.opacity);var g=this.fi;g.right=this.width/this.u.width;g.bottom=this.height/this.u.height;var n=this.Lf;if(this.b.Wc){var r=Math.round(this.x)-this.x,b=Math.round(this.y)-this.y;e.vd(n.mb+r,n.nb+b,n.Cb+r,n.Db+b,n.tb+r,n.ub+b,n.rb+r,n.sb+b,g)}else e.vd(n.mb,n.nb,n.Cb,n.Db,n.tb,n.ub,n.rb,n.sb,g)};e.d=new function(){};e.q=new function(){};e.za=new function(){}})();function Ac(e){this.b=e}
(function(){function e(a){v=a.x;d=a.y;f=a.z}function n(a,b,d,f){var e;e=c.length?c.pop():new m;e.init(a,b,d,f);return e}function m(){this.mi=this.id=this.y=this.x=this.tk=this.sk=this.hm=this.time=this.dn=0;this.ti=this.Ck=!1}function g(){}function t(){}var r=Ac.prototype;r.ca=function(a){this.ba=a;this.b=a.b};r.ca.prototype.H=function(){};r.U=function(a){this.type=a;this.b=a.b;this.touches=[];this.um=!1};var b=r.U.prototype,a={left:0,top:0};b.ih=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var v=0,d=0,f=0,c=[];m.prototype.init=function(a,b,c,d){var f=$a();this.dn=this.hm=this.time=f;this.sk=a;this.tk=b;this.x=a;this.y=b;this.pressure=this.height=this.width=0;this.id=c;this.mi=d;this.ti=this.Ck=!1};m.prototype.update=function(a,b,c,d,f,e){this.hm=this.time;this.time=a;this.x=b;this.y=c;this.width=d;this.height=f;this.pressure=e;!this.ti&&15<=Ra(this.sk,this.tk,this.x,this.y)&&(this.ti=!0)};m.prototype.Ov=function(a,b){!this.Ck&&500<=
$a()-this.dn&&!this.ti&&15>Ra(this.sk,this.tk,this.x,this.y)&&(this.Ck=!0,a.Ad=this.mi,a.Ig=this.id,a.Vf=b,a.b.trigger(Ac.prototype.d.us,a),a.Gd=this.x,a.Hd=this.y,a.b.trigger(Ac.prototype.d.vs,a),a.Vf=0)};var k=-1E3,h=-1E3,q=-1E4;m.prototype.fq=function(a,b){if(!this.Ck){var c=$a();333>=c-this.dn&&!this.ti&&15>Ra(this.sk,this.tk,this.x,this.y)&&(a.Ad=this.mi,a.Ig=this.id,a.Vf=b,666>=c-q&&25>Ra(k,h,this.x,this.y)?(a.b.trigger(Ac.prototype.d.ps,a),a.Gd=this.x,a.Hd=this.y,a.b.trigger(Ac.prototype.d.An,
a),h=k=-1E3,q=-1E4):(a.b.trigger(Ac.prototype.d.Qn,a),a.Gd=this.x,a.Hd=this.y,a.b.trigger(Ac.prototype.d.Rn,a),k=this.x,h=this.y,q=c),a.Vf=0)}};b.H=function(){this.Fv=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Vf=this.Ig=this.Ad=this.Hd=this.Gd=this.ho=this.fo=this.eo=this.it=this.ht=this.gt=this.Yj=this.Xj=this.Wj=0;this.bx=0!==this.F[0];var a=0<this.b.yb?document:this.b.canvas,b=document;this.b.Za?b=a=window.Canvas:this.b.$b&&(b=a=window);var c=this;window.navigator.pointerEnabled?
(a.addEventListener("pointerdown",function(a){c.Zh(a)},!1),a.addEventListener("pointermove",function(a){c.Yh(a)},!1),b.addEventListener("pointerup",function(a){c.Ud(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Ud(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",
function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Zh(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Yh(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Ud(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Ud(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",
function(a){c.Vj(a)},!1),a.addEventListener("touchmove",function(a){c.Uj(a)},!1),b.addEventListener("touchend",function(a){c.wg(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.wg(a,!0)},!1));if(this.Fv){var d=function(a){a=a.reading;c.eo=a.accelerationX;c.fo=a.accelerationY;c.ho=a.accelerationZ},f=function(a){a=a.reading;c.Wj=a.yawDegrees;c.Xj=a.pitchDegrees;c.Yj=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),
g.addEventListener("readingchanged",d));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",d),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",d),h&&h.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",
function(a){c.Wj=a.alpha||0;c.Xj=a.beta||0;c.Yj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.gt=a.accelerationIncludingGravity.x||0,c.ht=a.accelerationIncludingGravity.y||0,c.it=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.eo=a.acceleration.x||0,c.fo=a.acceleration.y||0,c.ho=a.acceleration.z||0)},!1);this.bx&&!this.b.O&&(jQuery(document).mousemove(function(a){c.Wh(a)}),jQuery(document).mousedown(function(a){c.Vh(a)}),jQuery(document).mouseup(function(a){c.Xh(a)}));
!this.b.fg&&this.b.ac&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(e,null,{frequency:40});this.b.Tw(this)};b.Yh=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&b.preventDefault();var c=this.ih(b.pointerId),d=$a();if(0<=c){var f=this.b.O?a:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,b.pageX-f.left,b.pageY-f.top,b.width||0,b.height||0,b.pressure||0)}}};b.Zh=
function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&nb(b)&&b.preventDefault();var c=this.b.O?a:jQuery(this.b.canvas).offset(),d=b.pageX-c.left,c=b.pageY-c.top;$a();this.Ad=this.touches.length;this.Ig=b.pointerId;this.touches.push(n(d,c,b.pointerId,this.Ad));this.b.qa=!0;this.b.trigger(Ac.prototype.d.Mn,this);this.b.trigger(Ac.prototype.d.Un,this);this.Gd=d;this.Hd=c;this.b.trigger(Ac.prototype.d.Tn,this);this.b.qa=!1}};b.Ud=function(a,b){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&nb(a)&&a.preventDefault();var d=this.ih(a.pointerId);this.Ad=0<=d?this.touches[d].mi:-1;this.Ig=0<=d?this.touches[d].id:-1;this.b.qa=!0;this.b.trigger(Ac.prototype.d.Ln,this);this.b.trigger(Ac.prototype.d.Sn,this);0<=d&&(b||this.touches[d].fq(this,d),100>c.length&&c.push(this.touches[d]),this.touches.splice(d,1));this.b.qa=!1}};b.Uj=function(b){b.preventDefault&&b.preventDefault();var c=$a(),d,f,e,g;d=0;for(f=b.changedTouches.length;d<
f;d++)if(e=b.changedTouches[d],g=this.ih(e.identifier),0<=g){var h=this.b.O?a:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,e.pageX-h.left,e.pageY-h.top,2*(e.Dy||e.Ly||e.vy||e.yy||0),2*(e.Ey||e.My||e.wy||e.zy||0),e.oy||e.Ky||e.uy||e.xy||0)}};b.Vj=function(b){b.preventDefault&&nb(b)&&b.preventDefault();var c=this.b.O?a:jQuery(this.b.canvas).offset();$a();this.b.qa=!0;var d,f,e,g;d=0;for(f=b.changedTouches.length;d<f;d++)if(e=b.changedTouches[d],g=this.ih(e.identifier),-1===
g){g=e.pageX-c.left;var h=e.pageY-c.top;this.Ad=this.touches.length;this.Ig=e.identifier;this.touches.push(n(g,h,e.identifier,this.Ad));this.b.trigger(Ac.prototype.d.Mn,this);this.b.trigger(Ac.prototype.d.Un,this);this.Gd=g;this.Hd=h;this.b.trigger(Ac.prototype.d.Tn,this)}this.b.qa=!1};b.wg=function(a,b){a.preventDefault&&nb(a)&&a.preventDefault();this.b.qa=!0;var d,f,e;d=0;for(f=a.changedTouches.length;d<f;d++)e=a.changedTouches[d],e=this.ih(e.identifier),0<=e&&(this.Ad=this.touches[e].mi,this.Ig=
this.touches[e].id,this.b.trigger(Ac.prototype.d.Ln,this),this.b.trigger(Ac.prototype.d.Sn,this),b||this.touches[e].fq(this,e),100>c.length&&c.push(this.touches[e]),this.touches.splice(e,1));this.b.qa=!1};b.Kf=function(){return this.b.ac&&0===this.Wj&&0!==f?90*f:this.Wj};b.nl=function(){return this.b.ac&&0===this.Xj&&0!==d?90*d:this.Xj};b.Po=function(){return this.b.ac&&0===this.Yj&&0!==v?90*v:this.Yj};b.Vh=function(a){this.Vj({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.um=
!0};b.Wh=function(a){this.um&&this.Uj({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.Xh=function(a){a.preventDefault&&this.b.sj&&!this.b.jf&&a.preventDefault();this.b.sj=!0;this.wg({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.um=!1};b.zk=function(){var a,b,c,d=$a();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.hm=d),c.Ov(this,a)};g.prototype.Un=function(){return!0};g.prototype.Sn=function(){return!0};g.prototype.Tn=function(a){return a?
this.b.pi(a,this.Gd,this.Hd):!1};g.prototype.Mn=function(a){a=Math.floor(a);return a===this.Ad};g.prototype.Ln=function(a){a=Math.floor(a);return a===this.Ad};g.prototype.us=function(){return!0};g.prototype.Qn=function(){return!0};g.prototype.ps=function(){return!0};g.prototype.vs=function(a){return a?this.b.pi(a,this.Gd,this.Hd):!1};g.prototype.Rn=function(a){return a?this.b.pi(a,this.Gd,this.Hd):!1};g.prototype.An=function(a){return a?this.b.pi(a,this.Gd,this.Hd):!1};r.d=new g;t.prototype.Zn=function(a,
b){var c=this.Vf;if(0>c||c>=this.touches.length)a.p(0);else{var d,f,e,g,h;ea(b)?(d=this.b.Md(0),f=d.scale,e=d.Ub,g=d.Cc,h=d.i,d.scale=1,d.Ub=1,d.Cc=1,d.i=0,a.p(d.Da(this.touches[c].x,this.touches[c].y,!0)),d.scale=f,d.Ub=e,d.Cc=g,d.i=h):(d=fa(b)?this.b.Md(b):this.b.jh(b))?a.p(d.Da(this.touches[c].x,this.touches[c].y,!0)):a.p(0)}};t.prototype.$n=function(a,b){var c=this.Vf;if(0>c||c>=this.touches.length)a.p(0);else{var d,f,e,g,h;ea(b)?(d=this.b.Md(0),f=d.scale,e=d.Ub,g=d.Dc,h=d.i,d.scale=1,d.Ub=1,
d.Dc=1,d.i=0,a.p(d.Da(this.touches[c].x,this.touches[c].y,!1)),d.scale=f,d.Ub=e,d.Dc=g,d.i=h):(d=fa(b)?this.b.Md(b):this.b.jh(b))?a.p(d.Da(this.touches[c].x,this.touches[c].y,!1)):a.p(0)}};r.za=new t})();function Bc(e){this.b=e}
(function(){function e(){}var n=Bc.prototype;n.ca=function(a){this.ba=a;this.b=a.b};n.ca.prototype.H=function(){};n.U=function(a){this.type=a;this.b=a.b};var m=n.U.prototype,g="",t="undefined"!==typeof window.is_scirra_arcade;t&&(g="arcade"+window.scirra_arcade_id);var r=!1;try{localStorage.getItem("test"),r=!0}catch(b){r=!1}m.H=function(){r||D("[Construct 2] Webstorage plugin: local storage is not supported on this platform.")};n.d=new function(){};n.q=new function(){};e.prototype.wn=function(a){if(r){var b=
{},d,f,c;d=0;for(f=localStorage.length;d<f;d++)c=localStorage.key(d),t?c.substr(0,g.length)===g&&(b[c.substr(g.length)]=localStorage.getItem(c)):b[c]=localStorage.getItem(c);a.Jb(JSON.stringify({c2dictionary:!0,data:b}))}else a.Jb("")};n.za=new e})();function Cc(e){this.b=e}
(function(){function e(a){var b;if(!f[a])for(f[a]=Array(20),b=0;20>b;++b)f[a][b]=0;return f[a]}function n(a){var b;if(!c[a])for(c[a]=Array(20),b=0;20>b;++b)c[a][b]=0;return c[a]}function m(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function g(b){d[b.gamepad.index]=b.gamepad;a.trigger(Cc.prototype.d.ss,v)}function t(b){a.trigger(Cc.prototype.d.ts,v);d[b.gamepad.index]=null}function r(){}var b=Cc.prototype;b.ca=function(a){this.ba=a;this.b=a.b};b.ca.prototype.H=function(){};var a=null,v=null,d=Array(16),
f=Array(16),c=Array(16),k="",h="",q=null,p={windows:{}};p.windows.firefox={};var A=[0,1,2,3,4,5,8,9,10,11],l=[0,1,[7,6],2,3,[14,15],[12,13]];p.windows.firefox.xbox360=function(a,b){return b?a>=l.length?-1:fa(l[a])?l[a]+16:l[a]:a>=A.length?-1:A[a]};var w=[2,0,1,3,4,6,5,7,8,9],V=[0,1,2,3,[14,15],[12,13]];p.windows.firefox.logitechdualaction=function(a,b){return b?a>=V.length?-1:fa(V[a])?V[a]+16:V[a]:a>=w.length?-1:w[a]};b.U=function(b){this.type=b;a=this.b=b.b;v=this};var x=b.U.prototype;x.H=function(){this.em=
0;var a=navigator.userAgent;k="windows";/mac/i.test(a)&&(k="mac");q=p[k];h="chrome";/firefox/i.test(a)&&(h="firefox");q&&(q=q[h]);window.addEventListener("webkitgamepadconnected",g,!1);window.addEventListener("webkitgamepaddisconnected",t,!1);window.addEventListener("MozGamepadConnected",g,!1);window.addEventListener("MozGamepadDisconnected",t,!1);window.addEventListener("gamepadconnected",g,!1);window.addEventListener("gamepaddisconnected",t,!1);this.b.Cf(this);this.io=[]};x.Wa=function(){this.io.length=
0;var a=null,b=!1;navigator.getGamepads?a=navigator.getGamepads():navigator.webkitGetGamepads?a=navigator.webkitGetGamepads():navigator.mozGetGamepads?a=navigator.mozGetGamepads():navigator.msGetGamepads?a=navigator.msGetGamepads():this.b.xp&&window.cr_getGamepads?(a=window.cr_getGamepads(),b=!0):a=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||d;if(a){var g,h,k,l,p,r,t;g=0;for(h=a.length;g<h;g++){var v=a[g];if(v){var w=e(g),x=n(g);l=g;k=e(l);l=n(l);p=void 0;for(p=0;20>p;++p)l[p]=
k[p];b?k=m:q?(k="",l=v.id.toLowerCase(),-1<l.indexOf("xbox 360")?k="xbox360":-1<l.indexOf("logitech dual action")&&(k="logitechdualaction"),k=q[k]||m):k=m;p=k;k=0;for(l=v.buttons.length;k<l;k++)t="undefined"!==typeof v.buttons[k].value?v.buttons[k].value:v.buttons[k],r=p(k,!1,t),0<=r&&20>r&&(w[r]=100*t,50<=w[r]&&50>x[r]&&(this.em=r));k=0;for(l=v.axes.length;k<l;k++)t=v.axes[k],r=p(k,!0,t),fa(r)?0<=r&&20>r&&(w[r]=100*t):(w[r[0]]=0,w[r[1]]=0,0>=t?w[r[0]]=Math.abs(100*t):w[r[1]]=Math.abs(100*t));this.io.push(v)}else v=
g,f[v]=null,c[v]=null}for(;20>g;++g)a=g,f[a]=null,c[a]=null}};x.lb=function(){return{lastButton:this.em}};x.Ib=function(a){this.em=a.lastButton};r.prototype.ss=function(){return!0};r.prototype.ts=function(){return!0};b.d=new r;b.q=new function(){};b.za=new function(){}})();
function Fc(e){this.b=e;var n=this;this.b.O||(jQuery(document).mousemove(function(e){n.Wh(e)}),jQuery(document).mousedown(function(e){n.Vh(e)}),jQuery(document).mouseup(function(e){n.Xh(e)}));e=0<this.b.yb?document:this.b.canvas;this.b.Za?e=window.Canvas:this.b.$b&&(e=window);window.navigator.pointerEnabled?(e.addEventListener("pointerdown",function(e){n.Zh(e)},!1),e.addEventListener("pointermove",function(e){n.Yh(e)},!1),e.addEventListener("pointerup",function(e){n.Ud(e)},!1),e.addEventListener("pointercancel",
function(e){n.Ud(e)},!1)):window.navigator.msPointerEnabled?(e.addEventListener("MSPointerDown",function(e){n.Zh(e)},!1),e.addEventListener("MSPointerMove",function(e){n.Yh(e)},!1),e.addEventListener("MSPointerUp",function(e){n.Ud(e)},!1),e.addEventListener("MSPointerCancel",function(e){n.Ud(e)},!1)):(e.addEventListener("touchstart",function(e){n.Vj(e)},!1),e.addEventListener("touchmove",function(e){n.Uj(e)},!1),e.addEventListener("touchend",function(e){n.wg(e)},!1),e.addEventListener("touchcancel",
function(e){n.wg(e)},!1))}
(function(){function e(e){var b,a;b=0;for(a=e.B.length;b<a;b++)if(e.B[b]instanceof m.U)return e.B[b];return null}function n(){}var m=Fc.prototype,g={left:0,top:0};m.Vh=function(e){1===e.which&&this.zm("leftmouse",e.pageX,e.pageY)};m.Wh=function(e){1===e.which&&this.Am("leftmouse",e.pageX,e.pageY)};m.Xh=function(e){1===e.which&&this.Bm("leftmouse")};m.Vj=function(e){e.preventDefault&&nb(e)&&e.preventDefault();var b,a,g,d;b=0;for(a=e.changedTouches.length;b<a;b++)g=e.changedTouches[b],d=g.identifier,
this.zm(d?d.toString():"<none>",g.pageX,g.pageY)};m.Uj=function(e){e.preventDefault&&e.preventDefault();var b,a,g,d;b=0;for(a=e.changedTouches.length;b<a;b++)g=e.changedTouches[b],d=g.identifier,this.Am(d?d.toString():"<none>",g.pageX,g.pageY)};m.wg=function(e){e.preventDefault&&nb(e)&&e.preventDefault();var b,a,g;b=0;for(a=e.changedTouches.length;b<a;b++)g=e.changedTouches[b],g=g.identifier,this.Bm(g?g.toString():"<none>")};m.Zh=function(e){e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType&&
(e.preventDefault&&nb(e)&&e.preventDefault(),this.zm(e.pointerId.toString(),e.pageX,e.pageY))};m.Yh=function(e){e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType&&(e.preventDefault&&e.preventDefault(),this.Am(e.pointerId.toString(),e.pageX,e.pageY))};m.Ud=function(e){e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType&&(e.preventDefault&&nb(e)&&e.preventDefault(),this.Bm(e.pointerId.toString()))};m.zm=function(m,b,a){var n=this.b.O?g:jQuery(this.b.canvas).offset();b=b-n.left;
a=a-n.top;var d,f,c,k,n=this.sg.bd(),h,q,p,t=null;h=0;for(q=n.length;h<q;h++)if(p=n[h],d=e(p),d.enabled&&!d.Te&&(d=p.g.Da(b,a,!0),f=p.g.Da(b,a,!1),p.Xa(),p.lc(d,f)))t?p.g.index>t.g.index?(t=p,c=d,k=f):p.g.index===t.g.index&&p.xc()>t.xc()&&(t=p,c=d,k=f):(t=p,c=d,k=f);t&&e(t).Wv(m,c,k)};m.Am=function(m,b,a){var n=this.b.O?g:jQuery(this.b.canvas).offset();b=b-n.left;a=a-n.top;var d,f=this.sg.bd(),c,k,h;c=0;for(k=f.length;c<k;c++)d=f[c],h=e(d),!h.enabled||!h.Te||h.Te&&h.rl!==m||(n=d.g.Da(b,a,!0),d=d.g.Da(b,
a,!1),h.Zv(n,d))};m.Bm=function(g){var b=this.sg.bd(),a,m,d;a=0;for(m=b.length;a<m;a++)d=b[a],d=e(d),d.Te&&d.rl===g&&d.bw()};m.ca=function(e){this.behavior=e;this.b=e.b};m.ca.prototype.H=function(){};m.U=function(e,b){this.type=e;this.behavior=e.behavior;this.L=b;this.b=e.b};var t=m.U.prototype;t.H=function(){this.Te=!1;this.Oo=this.No=0;this.rl="<none>";this.Yk=this.F[0];this.enabled=0!==this.F[1]};t.lb=function(){return{enabled:this.enabled}};t.Ib=function(e){this.enabled=e.enabled;this.Te=!1};
t.Wv=function(e,b,a){this.No=b-this.L.x;this.Oo=a-this.L.y;this.Te=!0;this.rl=e;this.b.qa=!0;this.b.trigger(Fc.prototype.d.qs,this.L);this.b.qa=!1};t.Zv=function(e,b){var a=e-this.No,g=b-this.Oo;if(0===this.Yk){if(this.L.x!==a||this.L.y!==g)this.L.x=a,this.L.y=g,this.L.Ba()}else 1===this.Yk?this.L.x!==a&&(this.L.x=a,this.L.Ba()):2===this.Yk&&this.L.y!==g&&(this.L.y=g,this.L.Ba())};t.bw=function(){this.Te=!1;this.b.qa=!0;this.b.trigger(Fc.prototype.d.rs,this.L);this.b.qa=!1};t.Wa=function(){};n.prototype.qs=
function(){return!0};n.prototype.rs=function(){return!0};m.d=new n;m.q=new function(){};m.za=new function(){}})();function Hc(e){this.b=e}
(function(){function e(){}var n=Hc.prototype;n.ca=function(e){this.behavior=e;this.b=e.b};n.ca.prototype.H=function(){};n.U=function(e,m){this.type=e;this.behavior=e.behavior;this.L=m;this.b=e.b};var m=n.U.prototype;m.H=function(){this.Ua=null;this.$j=-1;this.mode=this.hg=this.xk=this.rg=this.Vd=this.bi=0;var e=this;this.Fc||(this.jq=function(m){e.Cm(m)});this.b.ko(this.jq)};m.lb=function(){return{uid:this.Ua?this.Ua.uid:-1,pa:this.bi,pd:this.Vd,msa:this.rg,tsa:this.xk,lka:this.hg,m:this.mode}};m.Ib=
function(e){this.$j=e.uid;this.bi=e.pa;this.Vd=e.pd;this.rg=e.msa;this.xk=e.tsa;this.hg=e.lka;this.mode=e.m};m.ed=function(){-1===this.$j?this.Ua=null:this.Ua=this.b.kh(this.$j);this.$j=-1};m.Cm=function(e){this.Ua==e&&(this.Ua=null)};m.Fe=function(){this.Ua=null;this.b.xw(this.jq)};m.Wa=function(){};m.zk=function(){if(this.Ua){this.hg!==this.L.i&&(this.rg=Ha(this.rg+(this.L.i-this.hg)));var e=this.L.x,m=this.L.y;if(3===this.mode||4===this.mode){var n=Ra(this.L.x,this.L.y,this.Ua.x,this.Ua.y);if(n>
this.Vd||4===this.mode&&n<this.Vd)m=Ma(this.Ua.x,this.Ua.y,this.L.x,this.L.y),e=this.Ua.x+Math.cos(m)*this.Vd,m=this.Ua.y+Math.sin(m)*this.Vd}else e=this.Ua.x+Math.cos(this.Ua.i+this.bi)*this.Vd,m=this.Ua.y+Math.sin(this.Ua.i+this.bi)*this.Vd;this.hg=n=Ha(this.rg+(this.Ua.i-this.xk));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.L.x===e&&this.L.y===m||(this.L.x=e,this.L.y=m,this.L.Ba());0!==this.mode&&2!==this.mode||this.L.i===n||(this.L.i=n,this.L.Ba())}};n.d=new function(){};
e.prototype.Is=function(e,m){if(e){var n=e.hp(this.L);n&&(this.Ua=n,this.bi=Ma(n.x,n.y,this.L.x,this.L.y)-n.i,this.Vd=Ra(n.x,n.y,this.L.x,this.L.y),this.hg=this.rg=this.L.i,this.xk=n.i,this.mode=m)}};n.q=new e;n.za=new function(){}})();
function nc(){return[Z,xc,Cc,tc,yc,Ac,zc,Bc,oc,pc,qc,sc,rc,Fc,Hc,X.prototype.d.Xr,X.prototype.d.Hn,X.prototype.q.Ts,xc.prototype.d.Ok,Ac.prototype.d.Rn,oc.prototype.q.Os,oc.prototype.q.Vs,X.prototype.q.Zs,oc.prototype.q.Pr,X.prototype.q.Fr,Z.prototype.q.Qs,X.prototype.d.Lr,pc.prototype.q.Js,X.prototype.d.Sr,qc.prototype.q.Ms,X.prototype.za.Co,yc.prototype.q.Xn,X.prototype.d.Rr,X.prototype.q.Or,oc.prototype.d.Pg,X.prototype.q.Ur,Z.prototype.q.Hr,Z.prototype.d.Bn,Z.prototype.q.Tr,Z.prototype.d.Cn,Z.prototype.za.$r,
Z.prototype.d.Dn,yc.prototype.q.Qk,oc.prototype.q.Qk,qc.prototype.q.Kr,sc.prototype.q.cs,yc.prototype.q.Wn,pc.prototype.q.Play,pc.prototype.q.Ws,oc.prototype.q.Ps,oc.prototype.q.Yn,oc.prototype.za.$s,X.prototype.q.Ss,Ac.prototype.d.An,oc.prototype.d.Mr,oc.prototype.q.Rs,sc.prototype.d.Yr,X.prototype.d.Gn,X.prototype.q.Ns,sc.prototype.q.Ls,Hc.prototype.q.Is,oc.prototype.d.Nr,X.prototype.q.Xs,zc.prototype.q.Yn,X.prototype.za.rf,X.prototype.d.Nk,pc.prototype.q.Ks,xc.prototype.d.xn,Ac.prototype.d.Qn,
yc.prototype.d.Zr]};
